const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./typescript-BeffySdc.js","./typescript-2Z_LqEzF.js","./tsx-BajCBAkL.js","./tsx-dfLlxIdO.js","./javascript-Dquk7K-m.js","./javascript-M4AWCa_x.js","./jsx-CKWg3WEE.js","./jsx-BDZtN02W.js","./json-wWmUJQOh.js","./json-DQt_NUsI.js","./bash-DxMJMx0m.js","./shellscript-CpI2UC7x.js","./shellscript-BBZYJ-UZ.js","./vue-psj4-N8P.js","./css-i9kWhr-Y.js","./html-derivative-BdhWwRyS.js","./html-VpGbrJhM.js","./html-B2UeTn9b.js","./css-XcKkzdtp.js","./yaml-Cxjn5mSc.js","./yaml-BM_Zgowb.js","./mermaid.core-DGc8vAlK.js","./index-urHyhAmF.js","./index-DeS_E3jM.css","./dist-DomTu9L-.js","./chunk-JA3XYJ7Z-Cb0fYe6C.js","./src-BTVLHTZh.js","./chunk-S3R3BYOJ-CAqmdAlk.js","./math-D7GXa8Qo.js","./chunk-ABZYJK2D-nwu0vvvU.js","./memoize-CHluruQi.js","./marked.esm-BRKGye63.js","./isEmpty-D_Z80kSm.js","./chunk-ATLVNIR6-D6Wz3aKN.js","./chunk-CVBHYZKI-DnUeke7l.js","./chunk-EXTU4WIE-qHmi1MPH.js","./chunk-HN2XXSSU-jbgG_SOy.js","./chunk-JZLCHNYA-CcpmRpc_.js","./chunk-MI3HLSF2-D4DcyoBA.js","./chunk-N4CR4FBY-kvhFoutv.js","./chunk-QXUST7PY-Bws-Aqog.js","./line-BeYVOlQy.js","./path-TITMtR1T.js","./array-DMEhD3a3.js","./chunk-XAJISQIX-C3nbqQMZ.js","./angular-html-DabtdM5D.js","./angular-html-Dppf2hPM.js","./angular-ts-D2-WTaA_.js","./scss-C2eDqZzf.js","./apl-CJORFUii.js","./xml-Wk4e9iuT.js","./java-BufdBIEt.js","./astro-BDsCel_s.js","./postcss-CfCeDK-C.js","./blade-DWxJl7ek.js","./sql-CdH5Ar3F.js","./bsl-sGT95b6q.js","./sdbl-CtWtvGqw.js","./c-Bk94vp_k.js","./c-CgszsdpH.js","./cairo-CSSlBQq3.js","./python-tDKFWaPU.js","./cobol-DPn7FA_p.js","./coffee-BXaGHkKa.js","./cpp-CKzSgeAs.js","./cpp-DAxbuqVn.js","./glsl-B35EZRew.js","./regexp-BERZZEs7.js","./crystal-CLp5gNml.js","./edge-CwbcJs01.js","./elixir-CHiOB1lt.js","./elm-C-jh4E86.js","./erb-DJtYrCeY.js","./ruby-Cc6volEI.js","./graphql-DsaPmCNR.js","./haml-D8JrGMHs.js","./lua-8AHQKSf4.js","./erlang-qXg9AaXq.js","./markdown-CxWLvdMm.js","./fortran-fixed-form-PvcDlDw3.js","./fortran-free-form-BM_j6W8M.js","./fsharp-O--ZYsbP.js","./gdresource-D_1tVYKT.js","./gdscript-B1MDahXS.js","./gdshader-DI43CdGo.js","./git-commit-BxxvbAfg.js","./diff-D5h0u1Em.js","./git-rebase-DfQhceCV.js","./glimmer-js-BEVDTYdu.js","./glimmer-ts-JdARjM-4.js","./glsl-BtxDAG3P.js","./graphql-DpWbvx2k.js","./hack-DeIT9nqF.js","./haml-C4Ppr8d1.js","./handlebars-BNS22oaV.js","./html-derivative-B8tELFOI.js","./http-BvfU-DDa.js","./hurl-BUJixZ0V.js","./csv-fFVWwuj9.js","./hxml-iGC192Cs.js","./haxe-CS9OYNVo.js","./java-BIU6M8bh.js","./jinja-mrEs_60F.js","./jison-BbxEZke5.js","./julia-Bhs0QTd3.js","./r-CGhljq3T.js","./latex-BVaKeMiR.js","./tex-Dn_Qi5R3.js","./liquid-Y2sRXMMQ.js","./lua-UupQWDBr.js","./marko-gF-Oz4fP.js","./less-CfYJcUp0.js","./mdc-BZm02vnZ.js","./nginx-DvPM51Xj.js","./nim-mEI0fKpV.js","./perl-D8qCZZ_I.js","./php-DPUZiLEE.js","./pug-CCL07Dm4.js","./qml-zUiReQsF.js","./r-BGoiy5Lk.js","./razor-K6AykNFR.js","./csharp-ZH-zEObl.js","./regexp-Di-n-Q2N.js","./rst-BLE7G7VV.js","./cmake-AeSzl18V.js","./sas-BrQMiz1n.js","./scss-C20f-s0d.js","./shaderlab-BMY3OFXl.js","./hlsl-CUgKUgNQ.js","./shellsession-DnjZoCh_.js","./soy-CBjq_XTE.js","./sparql-B3eVnDDQ.js","./turtle-PTxTluYn.js","./sql-XxauaiaP.js","./stata-B8TgJ8b-.js","./svelte-BEvpZ_1b.js","./templ-CUHi5ZB6.js","./go-y4dtS4-l.js","./ts-tags-Df8fDfhP.js","./twig-_PDuRu78.js","./vue-html-B7xID-1B.js","./vue-vine-BX3Ifdu8.js","./stylus-Bv1ePCWl.js","./xml-C8qtOoBp.js","./xsl-MLAG0AKH.js","./github-dark-CVqXD4HV.js","./github-dark-DpQ4zq4M.js","./github-light-DEyQ0pX6.js","./github-light-DcF4IF2v.js"])))=>i.map(i=>d[i]);
import{$t as e,An as t,Bn as n,Bt as r,Dn as i,Gn as a,Gt as o,In as s,It as c,Jt as l,Kt as u,Lt as d,On as f,Qn as p,Qt as m,Rt as h,Sn as g,Tn as _,Un as v,Ut as y,Vn as b,Vt as x,Wn as S,Wt as C,Xn as w,Xt as T,Yn as E,Yt as D,Zn as O,_n as k,an as A,bn as j,cn as M,dn as N,en as P,er as ee,f as te,fn as ne,gn as F,hn as re,i as ie,in as ae,jn as oe,ln as se,mn as ce,n as le,nn as I,on as ue,pn as de,qn as L,qt as R,r as fe,rn as z,rr as pe,t as B,tn as me,tr as he,un as ge,vn as _e,w as ve,xn as ye,yn as V,zt as be}from"./index-urHyhAmF.js";import{t as xe}from"./github-dark-DpQ4zq4M.js";import{t as Se}from"./github-light-DcF4IF2v.js";import{c as Ce}from"./katex-7AKHWtrB.js";import{t as we}from"./marked.esm-BRKGye63.js";import"./editor.api-CN-1LKou.js";import"./monaco.contribution-DPTc76V3.js";import{t as Te}from"./useLlmApi-e_L-gZNA.js";import{a as Ee,d as De,l as Oe,n as ke,o as Ae,p as je,r as Me,u as Ne}from"./dist-DmajSpNV.js";import{u as H}from"./floating-ui.vue-C1NloyW1.js";import{A as Pe,C as Fe,D as Ie,E as Le,M as Re,O as ze,S as Be,T as Ve,_ as He,b as Ue,c as We,d as Ge,f as Ke,g as qe,h as Je,k as Ye,l as Xe,m as Ze,o as Qe,p as $e,s as et,u as tt,v as nt,w as rt,x as it,y as at}from"./SelectValue-BI7pjivR.js";import{t as ot}from"./chevron-down-ByDMAM3t.js";import{a as st,c as ct,d as lt,f as ut,i as dt,l as ft,m as pt,n as mt,o as ht,p as gt,r as _t,s as vt,t as yt,u as bt}from"./dist-0CV_hbwk.js";import"./Popconfirm-2RVy9gVC.js";import{t as xt}from"./copy-RphYhh8Z.js";import{n as St,r as Ct,t as wt}from"./immersive-code-BxELHjtE.js";import{a as Tt,c as Et,d as Dt,f as Ot,i as kt,l as At,n as jt,o as Mt,r as Nt,s as Pt,t as Ft,u as It}from"./CollapsibleTrigger-BJjM-Dm8.js";import{r as Lt,t as Rt}from"./RouterModelSelect-WstA--1e.js";import{t as zt}from"./x-CQcBFYia.js";import{A as Bt,C as Vt,D as Ht,E as Ut,F as Wt,M as Gt,O as Kt,c as qt,d as Jt,f as Yt,g as Xt,i as Zt,l as Qt,o as $t,p as en,t as U,u as tn,x as nn,y as rn}from"./utils-jrYJ9m3X.js";import"./CodeEditor-BYu0j6s-.js";import{t as an}from"./Dropdown-ocMVVnLy.js";import{t as on}from"./mcp-BwFAu-Fh.js";var sn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},cn=P({name:`AddRound`,render:function(e,t){return F(),T(`svg`,sn,t[0]||=[R(`path`,{d:`M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z`,fill:`currentColor`},null,-1)])}}),ln={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},un=P({name:`ChatBubbleOutlineRound`,render:function(e,t){return F(),T(`svg`,ln,t[0]||=[R(`path`,{d:`M20 4v12H5.17L4 17.17V4h16m0-2H4c-1.1 0-2 .9-2 2v15.59c0 .89 1.08 1.34 1.71.71L6 18h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z`,fill:`currentColor`},null,-1)])}}),dn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},fn=P({name:`DeleteForeverRound`,render:function(e,t){return F(),T(`svg`,dn,t[0]||=[R(`path`,{d:`M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm3.17-6.41a.996.996 0 1 1 1.41-1.41L12 12.59l1.41-1.41a.996.996 0 1 1 1.41 1.41L13.41 14l1.41 1.41a.996.996 0 1 1-1.41 1.41L12 15.41l-1.41 1.41a.996.996 0 1 1-1.41-1.41L10.59 14l-1.42-1.41zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z`,fill:`currentColor`},null,-1)])}}),pn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},mn=P({name:`MenuRound`,render:function(e,t){return F(),T(`svg`,pn,t[0]||=[R(`path`,{d:`M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z`,fill:`currentColor`},null,-1)])}}),hn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},gn=P({name:`MicRound`,render:function(e,t){return F(),T(`svg`,hn,t[0]||=[R(`path`,{d:`M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.91-3c-.49 0-.9.36-.98.85C16.52 14.2 14.47 16 12 16s-4.52-1.8-4.93-4.15a.998.998 0 0 0-.98-.85c-.61 0-1.09.54-1 1.14c.49 3 2.89 5.35 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08a6.993 6.993 0 0 0 5.91-5.78c.1-.6-.39-1.14-1-1.14z`,fill:`currentColor`},null,-1)])}}),_n={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},vn=P({name:`PersonRound`,render:function(e,t){return F(),T(`svg`,_n,t[0]||=[R(`path`,{d:`M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z`,fill:`currentColor`},null,-1)])}}),yn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},bn=P({name:`SearchRound`,render:function(e,t){return F(),T(`svg`,yn,t[0]||=[R(`path`,{d:`M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0c.41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14z`,fill:`currentColor`},null,-1)])}}),xn={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},Sn=P({name:`SmartToyRound`,render:function(e,t){return F(),T(`svg`,xn,t[0]||=[R(`path`,{d:`M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3zM7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5zM15 17H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm0-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13z`,fill:`currentColor`},null,-1)])}}),Cn=H(`arrow-down`,[[`path`,{d:`M12 5v14`,key:`s699le`}],[`path`,{d:`m19 12-7 7-7-7`,key:`1idqje`}]]),wn=H(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),Tn=H(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),En=H(`book`,[[`path`,{d:`M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20`,key:`k3hazp`}]]),Dn=H(`brain`,[[`path`,{d:`M12 18V5`,key:`adv99a`}],[`path`,{d:`M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4`,key:`1e3is1`}],[`path`,{d:`M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5`,key:`1gqd8o`}],[`path`,{d:`M17.997 5.125a4 4 0 0 1 2.526 5.77`,key:`iwvgf7`}],[`path`,{d:`M18 18a4 4 0 0 0 2-7.464`,key:`efp6ie`}],[`path`,{d:`M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517`,key:`1gq6am`}],[`path`,{d:`M6 18a4 4 0 0 1-2-7.464`,key:`k1g0md`}],[`path`,{d:`M6.003 5.125a4 4 0 0 0-2.526 5.77`,key:`q97ue3`}]]),On=H(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),kn=H(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),An=H(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),jn=H(`circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Mn=H(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Nn=H(`corner-down-left`,[[`path`,{d:`M20 4v7a4 4 0 0 1-4 4H4`,key:`6o5b7l`}],[`path`,{d:`m9 10-5 5 5 5`,key:`1kshq7`}]]),Pn=H(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),Fn=H(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),In=H(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Ln=H(`git-merge`,[[`circle`,{cx:`18`,cy:`18`,r:`3`,key:`1xkwt0`}],[`circle`,{cx:`6`,cy:`6`,r:`3`,key:`1lh9wr`}],[`path`,{d:`M6 21V9a9 9 0 0 0 9 9`,key:`7kw0sc`}]]),Rn=H(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),zn=H(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),Bn=H(`infinity`,[[`path`,{d:`M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8`,key:`18ogeb`}]]),Vn=H(`panel-right-open`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M15 3v18`,key:`14nvp0`}],[`path`,{d:`m10 15-3-3 3-3`,key:`1pgupc`}]]),Hn=H(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),Un=H(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),Wn=H(`sliders-vertical`,[[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M12 21v-9`,key:`17s77i`}],[`path`,{d:`M12 8V3`,key:`13r4qs`}],[`path`,{d:`M17 16h4`,key:`h1uq16`}],[`path`,{d:`M19 12V3`,key:`o1uvq1`}],[`path`,{d:`M19 21v-5`,key:`qua636`}],[`path`,{d:`M3 14h4`,key:`bcjad9`}],[`path`,{d:`M5 10V3`,key:`cb8scm`}],[`path`,{d:`M5 21v-7`,key:`1w1uti`}]]),Gn=H(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),Kn=[`INPUT`,`TEXTAREA`];function qn(e,t,n,r={}){if(!t||r.enableIgnoredElement&&Kn.includes(t.nodeName))return null;let{arrowKeyOptions:i=`both`,attributeName:a=`[data-reka-collection-item]`,itemsArray:o=[],loop:s=!0,dir:c=`ltr`,preventScroll:l=!0,focus:u=!1}=r,[d,f,p,m,h,g]=[e.key===`ArrowRight`,e.key===`ArrowLeft`,e.key===`ArrowUp`,e.key===`ArrowDown`,e.key===`Home`,e.key===`End`],_=p||m,v=d||f;if(!h&&!g&&(!_&&!v||i===`vertical`&&v||i===`horizontal`&&_))return null;let y=n?Array.from(n.querySelectorAll(a)):o;if(!y.length)return null;l&&e.preventDefault();let b=null;return v||_?b=Jn(y,t,{goForward:_?m:c===`ltr`?d:f,loop:s}):h?b=y.at(0)||null:g&&(b=y.at(-1)||null),u&&b?.focus(),b}function Jn(e,t,n,r=e.length){if(--r===0)return null;let i=e.indexOf(t),a=n.goForward?i+1:i-1;if(!n.loop&&(a<0||a>=e.length))return null;let o=e[(a+e.length)%e.length];return o?o.hasAttribute(`disabled`)&&o.getAttribute(`disabled`)!==`false`?Jn(e,o,n,r):o:null}function Yn(e,t){let n=Ht(!1,300);Bt(()=>{n.value=!1});let r=b(null),i=nn();function a(){r.value=null,n.value=!1}function o(e,t){let i=e.currentTarget,a={x:e.clientX,y:e.clientY},o=Zn(a,Xn(a,i.getBoundingClientRect())),s=Qn(t.getBoundingClientRect());r.value=er([...o,...s]),n.value=!0}return f(n=>{if(e.value&&t.value){let r=e=>o(e,t.value),i=t=>o(t,e.value);e.value.addEventListener(`pointerleave`,r),t.value.addEventListener(`pointerleave`,i),n(()=>{e.value?.removeEventListener(`pointerleave`,r),t.value?.removeEventListener(`pointerleave`,i)})}}),f(n=>{if(r.value){let o=n=>{if(!r.value||!(n.target instanceof Element))return;let o=n.target,s={x:n.clientX,y:n.clientY},c=e.value?.contains(o)||t.value?.contains(o),l=!$n(s,r.value),u=!!o.closest(`[data-grace-area-trigger]`);c?a():(l||u)&&(a(),i.trigger())};e.value?.ownerDocument.addEventListener(`pointermove`,o),n(()=>e.value?.ownerDocument.removeEventListener(`pointermove`,o))}}),{isPointerInTransit:n,onPointerExit:i.on}}function Xn(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Zn(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Qn(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function $n(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function er(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),tr(t)}function tr(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var nr=`rovingFocusGroup.onEntryFocus`,rr={bubbles:!1,cancelable:!0};function ir(e,t=!1){let n=Pe();for(let r of e)if(r===n||(r.focus({preventScroll:t}),Pe()!==n))return}var[ar,or]=Wt(`RovingFocusGroup`),sr=P({__name:`RovingFocusGroup`,props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`entryFocus`,`update:currentTabStopId`],setup(n,{expose:r,emit:i}){let o=n,s=i,{loop:c,orientation:u,dir:d}=a(o),f=en(d),p=rn(o,`currentTabStopId`,s,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),m=b(!1),h=b(!1),g=b(0),{getItems:_,CollectionSlot:v}=Ke({isProvider:!0});function y(e){let t=!h.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!m.value){let t=new CustomEvent(nr,rr);if(e.currentTarget.dispatchEvent(t),s(`entryFocus`,t),!t.defaultPrevented){let e=_().map(e=>e.ref).filter(e=>e.dataset.disabled!==``);ir([e.find(e=>e.getAttribute(`data-active`)===``),e.find(e=>e.getAttribute(`data-highlighted`)===``),e.find(e=>e.id===p.value),...e].filter(Boolean),o.preventScrollOnEntryFocus)}}h.value=!1}function x(){setTimeout(()=>{h.value=!1},1)}return r({getItems:_}),or({loop:c,dir:f,orientation:u,currentTabStopId:p,onItemFocus:e=>{p.value=e},onItemShiftTab:()=>{m.value=!0},onFocusableItemAdd:()=>{g.value++},onFocusableItemRemove:()=>{g.value--}}),(n,r)=>(F(),l(L(v),null,{default:t(()=>[e(L(Zt),{tabindex:m.value||g.value===0?-1:0,"data-orientation":L(u),as:n.as,"as-child":n.asChild,dir:L(f),style:{outline:`none`},onMousedown:r[0]||=e=>h.value=!0,onMouseup:x,onFocus:y,onBlur:r[1]||=e=>m.value=!1},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`as`,`as-child`,`dir`])]),_:3}))}}),cr={key:0,d:`M0 0L6 6L12 0`},lr={key:1,d:`M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0`},ur=P({__name:`Arrow`,props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`svg`}},setup(e){let n=e;return Jt(),(e,r)=>(F(),l(L(Zt),M(n,{width:e.width,height:e.height,viewBox:e.asChild?void 0:`0 0 12 6`,preserveAspectRatio:e.asChild?void 0:`none`}),{default:t(()=>[V(e.$slots,`default`,{},()=>[e.rounded?(F(),T(`path`,lr)):(F(),T(`path`,cr))])]),_:3},16,[`width`,`height`,`viewBox`,`preserveAspectRatio`]))}}),dr={top:`bottom`,right:`left`,bottom:`top`,left:`right`},fr=P({inheritAttrs:!1,__name:`PopperArrow`,props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`svg`}},setup(n){let{forwardRef:r}=Jt(),i=We(),a=u(()=>dr[i.placedSide.value]);return(n,o)=>(F(),T(`span`,{ref:e=>{L(i).onArrowChange(e)},style:O({position:`absolute`,left:L(i).arrowX?.value?`${L(i).arrowX?.value}px`:void 0,top:L(i).arrowY?.value?`${L(i).arrowY?.value}px`:void 0,[a.value]:0,transformOrigin:{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[L(i).placedSide.value],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[L(i).placedSide.value],visibility:L(i).shouldHideArrow.value?`hidden`:void 0})},[e(ur,M(n.$attrs,{ref:L(r),style:{display:`block`},as:n.as,"as-child":n.asChild,rounded:n.rounded,width:n.width,height:n.height}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`as`,`as-child`,`rounded`,`width`,`height`])],4))}}),pr=P({__name:`MenuAnchor`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L(Xe),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}});function mr(){let e=b(!1);return de(()=>{Xt(`keydown`,()=>{e.value=!0},{capture:!0,passive:!0}),Xt([`pointerdown`,`pointermove`],()=>{e.value=!1},{capture:!0,passive:!0})}),e}var hr=Vt(mr),[gr,_r]=Wt([`MenuRoot`,`MenuSub`],`MenuContext`),[vr,yr]=Wt(`MenuRoot`),br=P({__name:`MenuRoot`,props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:n}){let r=e,i=n,{modal:o,dir:s}=a(r),c=en(s),u=rn(r,`open`,i),d=b(),f=hr();return _r({open:u,onOpenChange:e=>{u.value=e},content:d,onContentChange:e=>{d.value=e}}),yr({onClose:()=>{u.value=!1},isUsingKeyboardRef:f,dir:c,modal:o}),(e,n)=>(F(),l(L(tt),null,{default:t(()=>[V(e.$slots,`default`)]),_:3}))}}),[xr,Sr]=Wt(`MenuContent`),Cr=P({__name:`MenuContentImpl`,props:ue({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Qe}),emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`,`dismiss`],setup(n,{emit:r}){let o=n,s=r,c=gr(),u=vr(),{trapFocus:d,disableOutsidePointerEvents:f,loop:p}=a(o);ze(),Ye(f.value);let m=b(``),h=b(0),g=b(0),_=b(null),v=b(`right`),y=b(0),x=b(null),S=b(),{forwardRef:C,currentElement:w}=Jt(),{handleTypeaheadSearch:T}=Le();i(w,e=>{c.onContentChange(e)}),ce(()=>{window.clearTimeout(h.value)});function E(e){return v.value===_.value?.side&&Fe(e,_.value?.area)}async function D(e){s(`openAutoFocus`,e),!e.defaultPrevented&&(e.preventDefault(),w.value?.focus({preventScroll:!0}))}function O(e){if(e.defaultPrevented)return;let t=e.target.closest(`[data-reka-menu-content]`)===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=e.key.length===1,i=qn(e,Pe(),w.value,{loop:p.value,arrowKeyOptions:`vertical`,dir:u?.dir.value,focus:!0,attributeName:`[data-reka-collection-item]:not([data-disabled])`});if(i)return i?.focus();if(e.code===`Space`)return;let a=S.value?.getItems()??[];if(t&&(e.key===`Tab`&&e.preventDefault(),!n&&r&&T(e.key,a)),e.target!==w.value||!Ze.includes(e.key))return;e.preventDefault();let o=[...a.map(e=>e.ref)];qe.includes(e.key)&&o.reverse(),nt(o)}function k(e){e?.currentTarget?.contains?.(e.target)||(window.clearTimeout(h.value),m.value=``)}function A(e){if(!Be(e))return;let t=e.target,n=y.value!==e.clientX;(e?.currentTarget)?.contains(t)&&n&&(v.value=e.clientX>y.value?`right`:`left`,y.value=e.clientX)}return Sr({onItemEnter:e=>!!E(e),onItemLeave:e=>{E(e)||(w.value?.focus(),x.value=null)},onTriggerLeave:e=>!!E(e),searchRef:m,pointerGraceTimerRef:g,onPointerGraceIntentChange:e=>{_.value=e}}),(n,r)=>(F(),l(L(rt),{"as-child":``,trapped:L(d),onMountAutoFocus:D,onUnmountAutoFocus:r[7]||=e=>s(`closeAutoFocus`,e)},{default:t(()=>[e(L(Ve),{"as-child":``,"disable-outside-pointer-events":L(f),onEscapeKeyDown:r[2]||=e=>s(`escapeKeyDown`,e),onPointerDownOutside:r[3]||=e=>s(`pointerDownOutside`,e),onFocusOutside:r[4]||=e=>s(`focusOutside`,e),onInteractOutside:r[5]||=e=>s(`interactOutside`,e),onDismiss:r[6]||=e=>s(`dismiss`)},{default:t(()=>[e(L(sr),{ref_key:`rovingFocusGroupRef`,ref:S,"current-tab-stop-id":x.value,"onUpdate:currentTabStopId":r[0]||=e=>x.value=e,"as-child":``,orientation:`vertical`,dir:L(u).dir.value,loop:L(p),onEntryFocus:r[1]||=e=>{s(`entryFocus`,e),L(u).isUsingKeyboardRef.value||e.preventDefault()}},{default:t(()=>[e(L(et),{ref:L(C),role:`menu`,as:n.as,"as-child":n.asChild,"aria-orientation":`vertical`,"data-reka-menu-content":``,"data-state":L(Ue)(L(c).open.value),dir:L(u).dir.value,side:n.side,"side-offset":n.sideOffset,align:n.align,"align-offset":n.alignOffset,"avoid-collisions":n.avoidCollisions,"collision-boundary":n.collisionBoundary,"collision-padding":n.collisionPadding,"arrow-padding":n.arrowPadding,"prioritize-position":n.prioritizePosition,"position-strategy":n.positionStrategy,"update-position-strategy":n.updatePositionStrategy,sticky:n.sticky,"hide-when-detached":n.hideWhenDetached,reference:n.reference,onKeydown:O,onBlur:k,onPointermove:A},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`,`dir`,`side`,`side-offset`,`align`,`align-offset`,`avoid-collisions`,`collision-boundary`,`collision-padding`,`arrow-padding`,`prioritize-position`,`position-strategy`,`update-position-strategy`,`sticky`,`hide-when-detached`,`reference`])]),_:3},8,[`current-tab-stop-id`,`dir`,`loop`])]),_:3},8,[`disable-outside-pointer-events`])]),_:3},8,[`trapped`]))}}),wr=P({inheritAttrs:!1,__name:`MenuItemImpl`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){let r=n,i=xr(),{forwardRef:a}=Jt(),{CollectionItem:o}=Ke(),s=b(!1);async function c(e){e.defaultPrevented||Be(e)&&(r.disabled?i.onItemLeave(e):i.onItemEnter(e)||e.currentTarget?.focus({preventScroll:!0}))}async function u(e){await se(),!e.defaultPrevented&&Be(e)&&i.onItemLeave(e)}return(n,r)=>(F(),l(L(o),{value:{textValue:n.textValue}},{default:t(()=>[e(L(Zt),M({ref:L(a),role:`menuitem`,tabindex:`-1`},n.$attrs,{as:n.as,"as-child":n.asChild,"aria-disabled":n.disabled||void 0,"data-disabled":n.disabled?``:void 0,"data-highlighted":s.value?``:void 0,onPointermove:c,onPointerleave:u,onFocus:r[0]||=async e=>{await se(),!(e.defaultPrevented||n.disabled)&&(s.value=!0)},onBlur:r[1]||=async e=>{await se(),!e.defaultPrevented&&(s.value=!1)}}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`as`,`as-child`,`aria-disabled`,`data-disabled`,`data-highlighted`])]),_:3},8,[`value`]))}}),Tr=P({__name:`MenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:n}){let r=e,i=n,{forwardRef:a,currentElement:o}=Jt(),s=vr(),c=xr(),u=b(!1);async function d(){let e=o.value;if(!r.disabled&&e){let e=new CustomEvent(Je,{bubbles:!0,cancelable:!0});i(`select`,e),await se(),e.defaultPrevented?u.value=!1:s.onClose()}}return(e,n)=>(F(),l(wr,M(r,{ref:L(a),onClick:d,onPointerdown:n[0]||=()=>{u.value=!0},onPointerup:n[1]||=async e=>{await se(),!e.defaultPrevented&&(u.value||e.currentTarget?.click())},onKeydown:n[2]||=async t=>{let n=L(c).searchRef.value!==``;e.disabled||n&&t.key===` `||L(He).includes(t.key)&&(t.currentTarget.click(),t.preventDefault())}}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),[Er,Dr]=Wt([`MenuCheckboxItem`,`MenuRadioItem`],`MenuItemIndicatorContext`),Or=P({__name:`MenuItemIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(n){let r=Er({modelValue:b(!1)});return(n,i)=>(F(),l(L($t),{present:n.forceMount||L(it)(L(r).modelValue.value)||L(r).modelValue.value===!0},{default:t(()=>[e(L(Zt),{as:n.as,"as-child":n.asChild,"data-state":L(at)(L(r).modelValue.value)},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`])]),_:3},8,[`present`]))}}),kr=P({__name:`MenuRootContentModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=e,i=n,a=Qt(r,i),o=gr(),{forwardRef:s,currentElement:c}=Jt();return Ie(c),(e,n)=>(F(),l(Cr,M(L(a),{ref:L(s),"trap-focus":L(o).open.value,"disable-outside-pointer-events":L(o).open.value,"disable-outside-scroll":!0,onDismiss:n[0]||=e=>L(o).onOpenChange(!1),onFocusOutside:n[1]||=be(e=>i(`focusOutside`,e),[`prevent`])}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`trap-focus`,`disable-outside-pointer-events`]))}}),Ar=P({__name:`MenuRootContentNonModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=Qt(e,n),i=gr();return(e,n)=>(F(),l(Cr,M(L(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:n[0]||=e=>L(i).onOpenChange(!1)}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),jr=P({__name:`MenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=Qt(e,n),i=gr(),a=vr();return(e,n)=>(F(),l(L($t),{present:e.forceMount||L(i).open.value},{default:t(()=>[L(a).modal.value?(F(),l(kr,w(M({key:0},{...e.$attrs,...L(r)})),{default:t(()=>[V(e.$slots,`default`)]),_:3},16)):(F(),l(Ar,w(M({key:1},{...e.$attrs,...L(r)})),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),Mr=P({__name:`MenuGroup`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L(Zt),M({role:`group`},n),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Nr=P({__name:`MenuLabel`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`div`}},setup(e){let n=e;return(e,r)=>(F(),l(L(Zt),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Pr=P({__name:`MenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L($e),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),[Fr,Ir]=Wt(`MenuRadioGroup`),Lr=P({__name:`MenuRadioGroup`,props:{modelValue:{type:String,required:!1,default:``},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`update:modelValue`],setup(e,{emit:n}){let r=e,i=n,a=tn(Ut(r,[`modelValue`])),o=rn(r,`modelValue`,i);return Ir({modelValue:o,onValueChange:e=>{o.value=e}}),(e,n)=>(F(),l(Mr,w(I(L(a))),{default:t(()=>[V(e.$slots,`default`,{modelValue:L(o)})]),_:3},16))}}),Rr=P({__name:`MenuRadioItem`,props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:n}){let r=e,i=n,o=tn(Ut(r,[`value`])),{value:s}=a(r),c=Fr(),d=u(()=>c.modelValue.value===s?.value);return Dr({modelValue:d}),(e,n)=>(F(),l(Tr,M({role:`menuitemradio`},L(o),{"aria-checked":d.value,"data-state":L(at)(d.value),onSelect:n[0]||=async e=>{i(`select`,e),L(c).onValueChange(L(s))}}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`aria-checked`,`data-state`]))}}),zr=P({__name:`MenuSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L(Zt),M(n,{role:`separator`,"aria-orientation":`horizontal`}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),[Br,Vr]=Wt(`DropdownMenuRoot`),Hr=P({__name:`DropdownMenuRoot`,props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:n}){let r=e,i=n;Jt();let o=rn(r,`open`,i,{defaultValue:r.defaultOpen,passive:r.open===void 0}),c=b(),{modal:u,dir:d}=a(r),f=en(d);return Vr({open:o,onOpenChange:e=>{o.value=e},onOpenToggle:()=>{o.value=!o.value},triggerId:``,triggerElement:c,contentId:``,modal:u,dir:f}),(e,n)=>(F(),l(L(br),{open:L(o),"onUpdate:open":n[0]||=e=>s(o)?o.value=e:null,dir:L(f),modal:L(u)},{default:t(()=>[V(e.$slots,`default`,{open:L(o)})]),_:3},8,[`open`,`dir`,`modal`]))}}),Ur=P({__name:`DropdownMenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(e,{emit:n}){let r=Qt(e,n);Jt();let i=Br(),a=b(!1);function o(e){e.defaultPrevented||(a.value||setTimeout(()=>{i.triggerElement.value?.focus()},0),a.value=!1,e.preventDefault())}return i.contentId||=qt(void 0,`reka-dropdown-menu-content`),(e,n)=>(F(),l(L(jr),M(L(r),{id:L(i).contentId,"aria-labelledby":L(i)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-dropdown-menu-content-available-width":`var(--reka-popper-available-width)`,"--reka-dropdown-menu-content-available-height":`var(--reka-popper-available-height)`,"--reka-dropdown-menu-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-dropdown-menu-trigger-height":`var(--reka-popper-anchor-height)`},onCloseAutoFocus:o,onInteractOutside:n[0]||=e=>{if(e.defaultPrevented)return;let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0,r=t.button===2||n;(!L(i).modal.value||r)&&(a.value=!0),L(i).triggerElement.value?.contains(e.target)&&e.preventDefault()}}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`id`,`aria-labelledby`]))}}),Wr=P({__name:`DropdownMenuItemIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return Jt(),(e,r)=>(F(),l(L(Or),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Gr=P({__name:`DropdownMenuLabel`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return Jt(),(e,r)=>(F(),l(L(Nr),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Kr=P({__name:`DropdownMenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L(Pr),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),qr=P({__name:`DropdownMenuRadioGroup`,props:{modelValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`update:modelValue`],setup(e,{emit:n}){let r=e,i=Yt(n);return Jt(),(e,n)=>(F(),l(L(Lr),w(I({...r,...L(i)})),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Jr=P({__name:`DropdownMenuRadioItem`,props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:n}){let r=Qt(e,n);return Jt(),(e,n)=>(F(),l(L(Rr),w(I(L(r))),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Yr=P({__name:`DropdownMenuSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return Jt(),(e,r)=>(F(),l(L(zr),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),Xr=P({__name:`DropdownMenuTrigger`,props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(n){let r=n,i=Br(),{forwardRef:a,currentElement:o}=Jt();return de(()=>{i.triggerElement=o}),i.triggerId||=qt(void 0,`reka-dropdown-menu-trigger`),(n,o)=>(F(),l(L(pr),{"as-child":``},{default:t(()=>[e(L(Zt),{id:L(i).triggerId,ref:L(a),type:n.as===`button`?`button`:void 0,"as-child":r.asChild,as:n.as,"aria-haspopup":`menu`,"aria-expanded":L(i).open.value,"aria-controls":L(i).open.value?L(i).contentId:void 0,"data-disabled":n.disabled?``:void 0,disabled:n.disabled,"data-state":L(i).open.value?`open`:`closed`,onClick:o[0]||=async e=>{!n.disabled&&e.button===0&&e.ctrlKey===!1&&(L(i)?.onOpenToggle(),await se(),L(i).open.value&&e.preventDefault())},onKeydown:o[1]||=h(e=>{n.disabled||([`Enter`,` `].includes(e.key)&&L(i).onOpenToggle(),e.key===`ArrowDown`&&L(i).onOpenChange(!0),[`Enter`,` `,`ArrowDown`].includes(e.key)&&e.preventDefault())},[`enter`,`space`,`arrow-down`])},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`id`,`type`,`as-child`,`as`,`aria-expanded`,`aria-controls`,`data-disabled`,`disabled`,`data-state`])]),_:3}))}}),[Zr,Qr]=Wt(`HoverCardRoot`),$r=P({__name:`HoverCardRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},openDelay:{type:Number,required:!1,default:700},closeDelay:{type:Number,required:!1,default:300}},emits:[`update:open`],setup(e,{emit:n}){let r=e,i=n,{openDelay:o,closeDelay:s}=a(r);Jt();let c=rn(r,`open`,i,{defaultValue:r.defaultOpen,passive:r.open===void 0}),u=b(0),d=b(0),f=b(!1),p=b(!1),m=b(!1),h=b();function g(){clearTimeout(d.value),u.value=window.setTimeout(()=>c.value=!0,o.value)}function _(){clearTimeout(u.value),!f.value&&!p.value&&(d.value=window.setTimeout(()=>c.value=!1,s.value))}function v(){c.value=!1}return Qr({open:c,onOpenChange(e){c.value=e},onOpen:g,onClose:_,onDismiss:v,hasSelectionRef:f,isPointerDownOnContentRef:p,isPointerInTransitRef:m,triggerElement:h}),(e,n)=>(F(),l(L(tt),null,{default:t(()=>[V(e.$slots,`default`,{open:L(c)})]),_:3}))}});function ei(e){return t=>t.pointerType===`touch`?void 0:e()}function ti(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var ni=P({__name:`HoverCardContentImpl`,props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`],setup(n,{emit:r}){let i=n,a=r,o=tn(i),{forwardRef:s,currentElement:c}=Jt(),u=Zr(),{isPointerInTransit:d,onPointerExit:p}=Yn(u.triggerElement,c);Kt(u.isPointerInTransitRef,d,{direction:`rtl`}),p(()=>{u.onClose()});let m=b(!1),h;f(e=>{if(m.value){let t=document.body;h=t.style.userSelect||t.style.webkitUserSelect,t.style.userSelect=`none`,t.style.webkitUserSelect=`none`,e(()=>{t.style.userSelect=h,t.style.webkitUserSelect=h})}});function g(){m.value=!1,u.isPointerDownOnContentRef.value=!1,se(()=>{document.getSelection()?.toString()!==``&&(u.hasSelectionRef.value=!0)})}return de(()=>{c.value&&(document.addEventListener(`pointerup`,g),ti(c.value).forEach(e=>e.setAttribute(`tabindex`,`-1`)))}),ce(()=>{document.removeEventListener(`pointerup`,g),u.hasSelectionRef.value=!1,u.isPointerDownOnContentRef.value=!1}),(n,r)=>(F(),l(L(Ve),{"as-child":``,"disable-outside-pointer-events":!1,onEscapeKeyDown:r[1]||=e=>a(`escapeKeyDown`,e),onPointerDownOutside:r[2]||=e=>a(`pointerDownOutside`,e),onFocusOutside:r[3]||=be(e=>a(`focusOutside`,e),[`prevent`]),onDismiss:L(u).onDismiss},{default:t(()=>[e(L(et),M({...L(o),...n.$attrs},{ref:L(s),"data-state":L(u).open.value?`open`:`closed`,style:{userSelect:m.value?`text`:void 0,WebkitUserSelect:m.value?`text`:void 0,"--reka-hover-card-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-hover-card-content-available-width":`var(--reka-popper-available-width)`,"--reka-hover-card-content-available-height":`var(--reka-popper-available-height)`,"--reka-hover-card-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-hover-card-trigger-height":`var(--reka-popper-anchor-height)`},onPointerdown:r[0]||=e=>{e.currentTarget.contains(e.target)&&(m.value=!0),L(u).hasSelectionRef.value=!1,L(u).isPointerDownOnContentRef.value=!0}}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`data-state`,`style`])]),_:3},8,[`onDismiss`]))}}),ri=P({__name:`HoverCardContent`,props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`],setup(n,{emit:r}){let i=Qt(n,r),{forwardRef:a}=Jt(),o=Zr();return(n,r)=>(F(),l(L($t),{present:n.forceMount||L(o).open.value},{default:t(()=>[e(ni,M(L(i),{ref:L(a),onPointerenter:r[0]||=e=>L(ei)(L(o).onOpen)(e)}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16)]),_:3},8,[`present`]))}}),ii=P({__name:`HoverCardPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L($e),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),ai=P({__name:`HoverCardTrigger`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`a`}},setup(n){let{forwardRef:r,currentElement:i}=Jt(),a=Zr();a.triggerElement=i;function o(){setTimeout(()=>{!a.isPointerInTransitRef.value&&!a.open.value&&a.onClose()},0)}return(n,i)=>(F(),l(L(Xe),{"as-child":``,reference:n.reference},{default:t(()=>[e(L(Zt),{ref:L(r),"as-child":n.asChild,as:n.as,"data-state":L(a).open.value?`open`:`closed`,"data-grace-area-trigger":``,onPointerenter:i[0]||=e=>L(ei)(L(a).onOpen)(e),onPointerleave:i[1]||=e=>L(ei)(o)(e),onFocus:i[2]||=e=>L(a).onOpen(),onBlur:i[3]||=e=>L(a).onClose()},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`as-child`,`as`,`data-state`])]),_:3},8,[`reference`]))}}),oi=P({__name:`TooltipArrow`,props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`svg`}},setup(e){let n=e;return Jt(),(e,r)=>(F(),l(L(fr),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),[si,ci]=Wt(`TooltipProvider`),li=P({inheritAttrs:!1,__name:`TooltipProvider`,props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){let{delayDuration:t,skipDelayDuration:n,disableHoverableContent:r,disableClosingTrigger:i,ignoreNonKeyboardFocus:o,disabled:s}=a(e);Jt();let c=b(!0),l=b(!1),{start:u,stop:d}=Gt(()=>{c.value=!0},n,{immediate:!1});return ci({isOpenDelayed:c,delayDuration:t,onOpen(){d(),c.value=!1},onClose(){u()},isPointerInTransitRef:l,disableHoverableContent:r,disableClosingTrigger:i,disabled:s,ignoreNonKeyboardFocus:o}),(e,t)=>V(e.$slots,`default`)}}),ui=`tooltip.open`,[di,fi]=Wt(`TooltipRoot`),pi=P({__name:`TooltipRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:[`update:open`],setup(e,{emit:n}){let r=e,a=n;Jt();let o=si(),s=u(()=>r.disableHoverableContent??o.disableHoverableContent.value),c=u(()=>r.disableClosingTrigger??o.disableClosingTrigger.value),d=u(()=>r.disabled??o.disabled.value),f=u(()=>r.delayDuration??o.delayDuration.value),p=u(()=>r.ignoreNonKeyboardFocus??o.ignoreNonKeyboardFocus.value),m=rn(r,`open`,a,{defaultValue:r.defaultOpen,passive:r.open===void 0});i(m,e=>{o.onClose&&(e?(o.onOpen(),document.dispatchEvent(new CustomEvent(ui))):o.onClose())});let h=b(!1),g=b(),_=u(()=>m.value?h.value?`delayed-open`:`instant-open`:`closed`),{start:v,stop:y}=Gt(()=>{h.value=!0,m.value=!0},f,{immediate:!1});function x(){y(),h.value=!1,m.value=!0}function S(){y(),m.value=!1}function C(){v()}return fi({contentId:``,open:m,stateAttribute:_,trigger:g,onTriggerChange(e){g.value=e},onTriggerEnter(){o.isOpenDelayed.value?C():x()},onTriggerLeave(){s.value?S():y()},onOpen:x,onClose:S,disableHoverableContent:s,disableClosingTrigger:c,disabled:d,ignoreNonKeyboardFocus:p}),(e,n)=>(F(),l(L(tt),null,{default:t(()=>[V(e.$slots,`default`,{open:L(m)})]),_:3}))}}),mi=P({__name:`TooltipContentImpl`,props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:`top`},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:`center`},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:`partial`},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(n,{emit:r}){let i=n,a=r,o=di(),{forwardRef:s,currentElement:c}=Jt(),d=u(()=>i.ariaLabel||c.value?.textContent),f=u(()=>{let{ariaLabel:e,...t}=i;return t});return de(()=>{Xt(window,`scroll`,e=>{e.target?.contains(o.trigger.value)&&o.onClose()}),Xt(window,ui,o.onClose)}),(n,r)=>(F(),l(L(Ve),{"as-child":``,"disable-outside-pointer-events":!1,onEscapeKeyDown:r[0]||=e=>a(`escapeKeyDown`,e),onPointerDownOutside:r[1]||=e=>{L(o).disableClosingTrigger.value&&L(o).trigger.value?.contains(e.target)&&e.preventDefault(),a(`pointerDownOutside`,e)},onFocusOutside:r[2]||=be(()=>{},[`prevent`]),onDismiss:r[3]||=e=>L(o).onClose()},{default:t(()=>[e(L(et),M({ref:L(s),"data-state":L(o).stateAttribute.value},{...n.$attrs,...f.value},{style:{"--reka-tooltip-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-tooltip-content-available-width":`var(--reka-popper-available-width)`,"--reka-tooltip-content-available-height":`var(--reka-popper-available-height)`,"--reka-tooltip-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-tooltip-trigger-height":`var(--reka-popper-anchor-height)`}}),{default:t(()=>[V(n.$slots,`default`),e(L(Ge),{id:L(o).contentId,role:`tooltip`},{default:t(()=>[m(p(d.value),1)]),_:1},8,[`id`])]),_:3},16,[`data-state`])]),_:3}))}}),hi=P({__name:`TooltipContentHoverable`,props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){let n=tn(e),{forwardRef:r,currentElement:i}=Jt(),{trigger:a,onClose:o}=di(),s=si(),{isPointerInTransit:c,onPointerExit:u}=Yn(a,i);return s.isPointerInTransitRef=c,u(()=>{o()}),(e,i)=>(F(),l(mi,M({ref:L(r)},L(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),gi=P({__name:`TooltipContent`,props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:`top`},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(e,{emit:n}){let r=e,i=n,a=di(),o=Qt(r,i),{forwardRef:s}=Jt();return(e,n)=>(F(),l(L($t),{present:e.forceMount||L(a).open.value},{default:t(()=>[(F(),l(j(L(a).disableHoverableContent.value?mi:hi),M({ref:L(s)},L(o)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),_i=P({__name:`TooltipPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let n=e;return(e,r)=>(F(),l(L($e),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),vi=P({__name:`TooltipTrigger`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(n){let r=n,i=di(),a=si();i.contentId||=qt(void 0,`reka-tooltip-content`);let{forwardRef:o,currentElement:s}=Jt(),c=b(!1),d=b(!1),f=u(()=>i.disabled.value?{}:{click:y,focus:_,pointermove:h,pointerleave:g,pointerdown:m,blur:v});de(()=>{i.onTriggerChange(s.value)});function p(){setTimeout(()=>{c.value=!1},1)}function m(){i.open&&!i.disableClosingTrigger.value&&i.onClose(),c.value=!0,document.addEventListener(`pointerup`,p,{once:!0})}function h(e){e.pointerType!==`touch`&&!d.value&&!a.isPointerInTransitRef.value&&(i.onTriggerEnter(),d.value=!0)}function g(){i.onTriggerLeave(),d.value=!1}function _(e){c.value||i.ignoreNonKeyboardFocus.value&&!e.target.matches?.(`:focus-visible`)||i.onOpen()}function v(){i.onClose()}function y(){i.disableClosingTrigger.value||i.onClose()}return(n,a)=>(F(),l(L(Xe),{"as-child":``,reference:n.reference},{default:t(()=>[e(L(Zt),M({ref:L(o),"aria-describedby":L(i).open.value?L(i).contentId:void 0,"data-state":L(i).stateAttribute.value,as:n.as,"as-child":r.asChild,"data-grace-area-trigger":``},ye(f.value)),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`aria-describedby`,`data-state`,`as`,`as-child`])]),_:3},8,[`reference`]))}}),yi=P({__name:`Suggestion`,props:{suggestion:{},class:{},variant:{default:`outline`},size:{default:`sm`}},emits:[`click`],setup(e,{emit:n}){let r=e,i=n;function a(){i(`click`,r.suggestion)}return(e,n)=>(F(),l(L(Mt),M({class:L(U)(`cursor-pointer rounded-full px-4`,r.class),size:r.size,type:`button`,variant:r.variant},e.$attrs,{onClick:a}),{default:t(()=>[V(e.$slots,`default`,{},()=>[m(p(r.suggestion),1)])]),_:3},16,[`class`,`size`,`variant`]))}}),bi=P({__name:`Suggestions`,props:{class:{}},setup(n){let r=n;return(n,i)=>(F(),l(L(kt),M({class:`w-full overflow-x-auto whitespace-nowrap`},n.$attrs),{default:t(()=>[R(`div`,{class:E(L(U)(`flex w-max flex-nowrap items-center gap-2`,r.class))},[V(n.$slots,`default`)],2),e(L(Tt),{class:`hidden`,orientation:`horizontal`})]),_:3},16))}});let xi=(e=21)=>{let t=``,n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=`useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict`[n[e]&63];return t};var Si=`llm_active_conversation_id`,Ci=`llm_sidebar_collapsed`;function wi(e,t){return{key:e.messageKey,from:e.role,versions:e.versions.map(e=>({id:e.id,contentBlocks:e.contentBlocks?e.contentBlocks:e.content?[{type:`text`,id:`${e.id}-text`,content:e.content}]:[]}))}}function Ti(e){return{id:e.id,title:e.title,createdAt:e.createdAt,updatedAt:e.updatedAt,mode:e.mode,messages:(e.messages||[]).map((e,t)=>wi(e,t)),codeHistory:e.codeHistory}}const Ei=le(`conversation`,()=>{let e=b([]),t=Ae(Si,void 0),n=Ae(Ci,!1),r=b(!1),i=b(null),a=u(()=>e.value.find(e=>e.id===t.value)),o=u(()=>a.value?.messages||[]),s=u(()=>e.value.filter(e=>!e.pending));function c(t){e.value=t.map(Ti)}function l(t){let n=Ti(t),r=e.value.findIndex(e=>e.id===n.id);r>=0?e.value[r]=n:e.value.unshift(n)}function d(t,n,r,i=!1){let a=e.value.find(e=>e.id===t);if(!a)return;let o=a.messages.find(e=>e.versions.some(e=>e.id===n));o||(o={key:n,from:`assistant`,versions:[{id:n,contentBlocks:[]}]},a.messages.push(o));let s=o.versions.find(e=>e.id===n);s?s.contentBlocks=r:o.versions.push({id:n,contentBlocks:r}),a.updatedAt=Date.now()}function f(t,n,r){let i=e.value.find(e=>e.id===t);if(!i)return;let a=i.messages.find(e=>e.versions.some(e=>e.id===n));a||(a={key:n,from:`assistant`,versions:[{id:n,contentBlocks:[]}]},i.messages.push(a));let o=a.versions.find(e=>e.id===n);if(!o)a.versions.push({id:n,contentBlocks:[r]});else{let e=o.contentBlocks.findIndex(e=>e.id===r.id);e>=0?o.contentBlocks[e]=r:o.contentBlocks.push(r)}i.updatedAt=Date.now()}function p(t,n,r,i){let a=e.value.find(e=>e.id===t);if(!a)return;let o=a.messages.find(e=>e.versions.some(e=>e.id===n));if(!o)return;let s=o.versions.find(e=>e.id===n);if(!s)return;let c=s.contentBlocks.findIndex(e=>e.id===r),l=c>=0?s.contentBlocks[c]:null;l&&l.type===`text`?s.contentBlocks[c]={type:`text`,id:r,content:i}:c<0&&s.contentBlocks.push({type:`text`,id:r,content:i}),a.updatedAt=Date.now()}function m(t,n,r,i){let a=e.value.find(e=>e.id===t);if(!a)return;let o=a.messages.find(e=>e.versions.some(e=>e.id===n));if(!o)return;let s=o.versions.find(e=>e.id===n);if(!s)return;let c=s.contentBlocks.findIndex(e=>e.type===`tool`&&(e.toolCall.toolCallId===r||e.id===r)),l=c>=0?s.contentBlocks[c]:null;if(l&&l.type===`tool`)s.contentBlocks[c]={type:`tool`,id:l.id,toolCall:{...l.toolCall,...i}};else{let e=i.type?i.type.replace(/^tool-/,``):`unknown`,t={toolCallId:r,type:i.type||`tool-${e}`,state:i.state||`input-available`,input:i.input||{},...i};s.contentBlocks.push({type:`tool`,id:r,toolCall:t})}a.updatedAt=Date.now()}function h(t,n){let r=e.value.find(e=>e.id===t);r&&(r.messages=n.map((e,t)=>wi(e,t)),r.updatedAt=Date.now())}function g(t,n,r){let i=e.value.find(e=>e.id===t);if(!i)return;let a=`user-${Date.now()}`,o={key:a,from:`user`,versions:[{id:a,contentBlocks:[{type:`text`,id:`${a}-text`,content:n}],files:r?.filter(e=>e.url||e.filename).map(e=>({type:`file`,url:e.url||``,filename:e.filename||``,mediaType:e.mediaType||`application/octet-stream`}))}]};i.messages.push(o),i.updatedAt=Date.now()}function _(t,n){let r=e.value.find(e=>e.id===t);if(!r)return;let i={key:n,from:`assistant`,versions:[{id:n,contentBlocks:[]}]};r.messages.push(i),r.updatedAt=Date.now()}function v(t,n,r){let i=e.value.find(e=>e.id===t);if(!i)return;let a=i.messages.find(e=>e.key===n&&e.from===`assistant`);a&&(a.versions.push({id:r,contentBlocks:[]}),i.updatedAt=Date.now())}function y(t,n){let r=e.value.find(e=>e.id===t);r&&(r.title=n,r.updatedAt=Date.now())}function x(t,n){let r=e.value.find(e=>e.id===t);r&&(r.mode=n,r.updatedAt=Date.now())}function S(t,n){let r=e.value.find(e=>e.id===t);if(r){let e=r.codeHistory,t=!e!=!n||e&&n&&JSON.stringify(e)!==JSON.stringify(n);r.codeHistory=n,r.updatedAt=Date.now(),(r.codeVersion===void 0||t)&&(r.codeVersion=(r.codeVersion||0)+1)}}function C(n){if(e.value=e.value.filter(e=>e.id!==n),t.value===n){let n=e.value[0];n?t.value=n.id:t.value=void 0}}function w(e){t.value=e}function T(){n.value=!n.value}function E(e){r.value=e}function D(e){i.value=e}function O(){a.value&&(a.value.messages=[],a.value.updatedAt=Date.now())}function k(){let n=xi(),r={id:n,title:``,createdAt:Date.now(),updatedAt:Date.now(),messages:[],pending:!0,mode:`chat`};return e.value.unshift(r),t.value=n,r}return{conversations:e,activeConversationId:t,sidebarCollapsed:n,loading:r,error:i,activeConversation:a,activeMessages:o,sidebarConversations:s,setConversations:c,upsertConversation:l,updateConversationMessage:d,upsertContentBlock:f,updateTextBlock:p,updateToolBlock:m,updateConversationMessages:h,addUserMessage:g,addAssistantPlaceholder:_,addAssistantVersionPlaceholder:v,updateConversationTitle:y,updateConversationMode:x,updateConversationCodeHistory:S,removeConversation:C,setActiveConversationId:w,toggleSidebar:T,setLoading:E,setError:D,clearActiveConversationMessages:O,createPendingConversation:k}});function Di(){let{endpoint:e}=Te();async function t(t,n={}){let r=`${e.value}${t}`,i={};n.body&&(i[`Content-Type`]=`application/json`);let a=await fetch(r,{...n,headers:{...i,...n.headers}}),o=await a.json();if(!a.ok){let e=o?.error||o?.message||``,t=Error(e);throw t.status=a.status,t}return o}async function n(){return t(`/api/ai_chat/conversations`)}async function r(e){return t(`/api/ai_chat/conversations/${e}`)}async function i(e){let n={mode:e.mode||`chat`};return e.initialInput&&(n.initialInput=e.initialInput),e.messages&&e.messages.length>0&&(n.messages=e.messages),e.model&&(n.model=e.model),e.apiKey&&(n.apiKey=e.apiKey),e.files&&e.files.length>0&&(n.files=e.files),e.editorCode&&(n.editorCode=e.editorCode),e.config&&(n.config=e.config),await t(`/api/ai_chat/conversations`,{method:`POST`,body:JSON.stringify(n),signal:e.abortSignal})}async function a(e,n){let r={content:n.content};return n.mode&&(r.mode=n.mode),n.model&&(r.model=n.model),n.apiKey&&(r.apiKey=n.apiKey),n.files&&n.files.length>0&&(r.files=n.files),n.editorCode&&(r.editorCode=n.editorCode),n.config&&(r.config=n.config),n.messageKey&&(r.messageKey=n.messageKey),await t(`/api/ai_chat/conversations/${e}/messages`,{method:`POST`,body:JSON.stringify(r),signal:n.abortSignal})}async function o(e){await t(`/api/ai_chat/conversations/${e}`,{method:`DELETE`})}async function s(e){return t(`/api/ai_chat/conversations/${e}/canvas`)}async function c(e,n){return t(`/api/ai_chat/conversations/${e}/canvas`,{method:`PUT`,body:JSON.stringify(n)})}async function l(e,n,r){return t(`/api/ai_chat/conversations/${e}/canvas/records/${n}/apply`,{method:`POST`,body:JSON.stringify({code:r})})}async function d(e,n){return t(`/api/ai_chat/conversations/${e}/stream/${n}/abort`,{method:`POST`})}return{endpoint:u(()=>e.value),fetchConversations:n,fetchConversation:r,createConversation:i,sendMessage:a,deleteConversation:o,fetchCanvas:s,updateCanvas:c,applyCanvasDiff:l,abortRequest:d}}function Oi(){let{endpoint:e}=Di(),t=b(null),n=u(()=>t.value!==null);function r(n,r,a){i();let o=`${e.value}/api/ai_chat/conversations/${n}/stream/${r}`,s=new EventSource(o);t.value=s;let c=``,l=!1,u=null,d=``;s.onmessage=e=>{try{let t=JSON.parse(e.data);switch(t.type){case`content_block_start`:t.content_block?.name?a.onContentBlockStart?.({index:t.index??0,blockId:t.content_block.id,blockType:`tool`,toolName:t.content_block.name}):(u=t.content_block?.id||`text-${Date.now()}-${Math.random()}`,d=``,a.onContentBlockStart?.({index:t.index??0,blockId:u,blockType:`text`}));break;case`content_block_delta`:t.delta?.text?(d+=t.delta.text,c+=t.delta.text,a.onContentBlockDelta?.({index:t.index??0,text:t.delta.text}),a.onChunk?.(c)):t.delta?.partial_json&&a.onContentBlockDelta?.({index:t.index??0,partialJson:t.delta.partial_json});break;case`content_block_stop`:a.onContentBlockStop?.({index:t.index??0}),u=null,d=``;break;case`message_delta`:t.delta?.text&&(c+=t.delta.text,a.onChunk?.(c));break;case`request_id`:t.requestId&&a.onRequestId?.(t.requestId);break;case`conversation:updated`:t.conversationId&&t.messages&&t.requestId&&a.onConversationUpdated?.({conversationId:t.conversationId,messages:t.messages,requestId:t.requestId});break;case`conversation:title_updated`:t.conversationId&&t.title&&a.onConversationTitleUpdated?.({conversationId:t.conversationId,title:t.title});break;case`message_complete`:l=!0,a.onComplete?.(),i();break;case`session_end`:l||console.warn(`SSE :`,t),l=!0,i();break;case`error`:let e=t.error||``;a.onError?.(e),i();break;case`canvas:code_delta`:t.code&&a.onCanvasCodeDelta?.(t.code);break;case`canvas:diff_detected`:t.diff&&t.recordId&&a.onCanvasDiffDetected?.({diff:t.diff,recordId:t.recordId,originalCode:t.originalCode});break;case`canvas:show_editor`:a.onCanvasShowEditor?.();break;case`canvas:code_complete`:t.recordId&&t.codeType&&a.onCanvasCodeComplete?.({recordId:t.recordId,codeType:t.codeType,code:t.code});break;case`canvas:record_created`:t.recordId&&a.onCanvasRecordCreated?.(t.recordId);break;case`tool:start`:t.tool_id&&t.tool_name&&a.onToolStart?.({toolId:t.tool_id,toolName:t.tool_name,timestamp:t.timestamp});break;case`tool:result`:t.tool_id&&t.tool_name&&a.onToolResult?.({toolId:t.tool_id,toolName:t.tool_name,input:t.input,result:t.result,timestamp:t.timestamp});break;case`tool:error`:t.tool_id&&t.tool_name&&a.onToolError?.({toolId:t.tool_id,toolName:t.tool_name,error:t.error||``,timestamp:t.timestamp});break;case`tool:continue_error`:a.onToolContinueError?.({error:t.error||``,timestamp:t.timestamp});break;case`tool:continue_complete`:a.onToolContinueComplete?.({timestamp:t.timestamp});break}}catch(e){console.error(` SSE :`,e),a.onError?.(e instanceof Error?e.message:``)}},s.onerror=e=>{let t=s.readyState;if(l){console.log(`SSE `);return}if(t===EventSource.CLOSED){let n=`SSE `;console.error(`SSE :`,{message:n,readyState:t,url:o,event:e}),a.onError?.(n),i()}else t===EventSource.CONNECTING?console.warn(`SSE ...`,{readyState:t,url:o,event:e}):(console.error(`SSE :`,{message:`SSE `,readyState:t,url:o,event:e}),t===EventSource.OPEN&&a.onError?.(`SSE `))}}function i(){t.value&&=(t.value.close(),null)}return ce(()=>{i()}),{isConnected:n,connectToStream:r,disconnect:i}}function ki(){let e=Ei(),t=Di(),n=Oi(),{eventBus:r}=te();async function i(){e.setLoading(!0),e.setError(null);try{let n=await t.fetchConversations();if(e.setConversations(n),e.activeConversationId){let t=e.activeConversationId;n.some(e=>e.id===t)&&await a(t)}else if(n.length>0){let t=n[0];t&&(e.setActiveConversationId(t.id),await a(t.id))}}catch(t){let n=t instanceof Error?t.message:``;e.setError(n),console.error(`:`,t)}finally{e.setLoading(!1)}}async function a(n){e.setLoading(!0),e.setError(null);try{let i=await t.fetchConversation(n);e.upsertConversation(i),e.conversations.some(e=>e.id===n)||e.setActiveConversationId(n);let a=e.conversations.find(e=>e.id===n);a&&r.emit(`conversation:loaded`,{id:n,conversation:a})}catch(t){let n=t instanceof Error?t.message:``;e.setError(n),console.error(`:`,t)}finally{e.setLoading(!1)}}async function o(n){e.setLoading(!0),e.setError(null);try{let i=e.createPendingConversation(),o=await t.createConversation({...n,initialInput:n.initialInput||``}),s=i.id;return e.removeConversation(s),await a(o.id),e.setActiveConversationId(o.id),o.streamUrl&&c(o.id,o.requestId),r.emit(`conversation:created`,{id:o.id}),{conversationId:o.id,requestId:o.requestId}}catch(t){let n=t instanceof Error?t.message:``;throw e.setError(n),console.error(`:`,t),t}finally{e.setLoading(!1)}}async function s(n,i){if(!n)throw Error(` ID `);e.setLoading(!0),e.setError(null);try{let a=!!i.messageKey;a||(e.addUserMessage(n,i.content,i.files),r.emit(`message:sent`,{conversationId:n,content:i.content}));let o=await t.sendMessage(n,i);return a&&i.messageKey?e.addAssistantVersionPlaceholder(n,i.messageKey,o.requestId):e.addAssistantPlaceholder(n,o.requestId),c(n,o.requestId),i.mode&&i.mode!==e.activeConversation?.mode&&(e.updateConversationMode(n,i.mode),r.emit(`mode:changed`,{conversationId:n,mode:i.mode})),{requestId:o.requestId}}catch(t){let n=t instanceof Error?t.message:``;throw e.setError(n),console.error(`:`,t),t}finally{e.setLoading(!1)}}function c(t,i){let a=null,o=``,s=null,c=``;n.connectToStream(t,i,{onContentBlockStart:n=>{n.blockType===`text`?(a=n.blockId||`text-${Date.now()}-${Math.random()}`,o=``,e.upsertContentBlock(t,i,{type:`text`,id:a,content:``})):n.blockType===`tool`&&n.toolName&&(s=n.blockId||`tool-${Date.now()}-${Math.random()}`,c=``,e.upsertContentBlock(t,i,{type:`tool`,id:s,toolCall:{toolCallId:s,type:`tool-${n.toolName}`,state:`input-available`,input:{}}}))},onContentBlockDelta:n=>{if(n.text&&a)o+=n.text,e.updateTextBlock(t,i,a,o);else if(n.partialJson&&s){c+=n.partialJson;try{let n=JSON.parse(c);e.updateToolBlock(t,i,s,{input:n})}catch{}}},onContentBlockStop:()=>{a=null,o=``,s=null,c=``},onToolStart:n=>{e.updateToolBlock(t,i,n.toolId,{toolCallId:n.toolId,type:`tool-${n.toolName}`,state:`input-available`,input:{}})},onToolResult:n=>{e.updateToolBlock(t,i,n.toolId,{state:`output-available`,input:n.input,output:n.result})},onToolError:n=>{e.updateToolBlock(t,i,n.toolId,{state:`output-error`,errorText:n.error})},onChunk:e=>{r.emit(`message:streaming`,{conversationId:t,requestId:i,chunk:e})},onConversationTitleUpdated:t=>{e.updateConversationTitle(t.conversationId,t.title)},onComplete:()=>{r.emit(`message:complete`,{conversationId:t,requestId:i})},onError:n=>{e.upsertContentBlock(t,i,{type:`text`,id:`error-${Date.now()}`,content:`: ${n}`}),e.setError(n)},onCanvasCodeDelta:e=>{r.emit(`canvas:code_delta`,{conversationId:t,code:e})},onCanvasDiffDetected:e=>{r.emit(`canvas:diff_detected`,{conversationId:t,...e})},onCanvasShowEditor:()=>{r.emit(`canvas:show_editor`,{conversationId:t})},onCanvasCodeComplete:e=>{r.emit(`canvas:code_complete`,{conversationId:t,...e})},onCanvasRecordCreated:e=>{r.emit(`canvas:record_created`,{conversationId:t,recordId:e})}})}async function l(t){e.activeConversationId!==t&&(e.setActiveConversationId(t),await a(t),r.emit(`conversation:selected`,{id:t}))}async function d(n){try{await t.deleteConversation(n),e.removeConversation(n),r.emit(`conversation:deleted`,{id:n})}catch(t){let n=t instanceof Error?t.message:``;throw e.setError(n),console.error(`:`,t),t}}let f=je(async(t,n)=>{e.updateConversationMode(t,n),r.emit(`mode:changed`,{conversationId:t,mode:n})},300),p=je(async(t,n)=>{e.updateConversationCodeHistory(t,n),r.emit(`canvas:history-changed`,{conversationId:t,history:n})},500);e.conversations.length===0&&i();function m(){e.setActiveConversationId(void 0),r.emit(`conversation:cleared`)}return{conversations:u(()=>e.conversations),activeConversation:u(()=>e.activeConversation),activeMessages:u(()=>e.activeMessages),sidebarConversations:u(()=>e.sidebarConversations),activeConversationId:u(()=>e.activeConversationId),sidebarCollapsed:u(()=>e.sidebarCollapsed),loading:u(()=>e.loading),error:u(()=>e.error),loadConversations:i,loadConversation:a,createConversation:o,sendMessage:s,selectConversation:l,deleteConversation:d,updateMode:f,updateCodeHistory:p,toggleSidebar:()=>e.toggleSidebar(),clearActiveConversationMessages:()=>e.clearActiveConversationMessages(),clearActiveConversation:m,updateConversationTitle:(t,n)=>e.updateConversationTitle(t,n)}}function Ai(e){let{width:t}=ke(e),n=u(()=>Math.round(t.value)),r=u(()=>n.value<640);return{layoutConfig:u(()=>({containerWidth:n.value,isSmallScreen:r.value,messageMaxWidth:r.value?`max-w-full`:`max-w-[80%]`,messageLayout:r.value?`flex-col items-center`:`flex-row`,avatarSize:r.value?`size-8`:`size-11`,iconSize:r.value?`w-4 h-4`:`w-5 h-5`,messageBranchPadding:r.value?`px-2 pb-4 pt-2`:`px-4 pb-6 pt-2 md:px-6`,messageToolbarMargin:r.value?`sticky left-0 z-10 backdrop-blur-md -mx-2 px-2`:`sticky left-0 z-10 backdrop-blur-md -mx-4 md:-mx-6 px-4 md:px-6`,containerMaxWidth:r.value?`max-w-full`:`max-w-full sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-6xl`}))}}var ji={class:`flex items-center gap-2`},Mi=P({__name:`ChatHeaderActions`,props:{currentTab:{},hasMessages:{type:Boolean}},emits:[`clear`],setup(e,{emit:t}){return(t,n)=>(F(),l(y,{defer:``,to:`#header-right-target`,disabled:e.currentTab!==`chat`},[R(`div`,ji,[(e.hasMessages,D(``,!0))])],8,[`disabled`]))}}),Ni={key:0,class:`flex flex-col items-center gap-4 py-3 text-slate-600 dark:text-slate-200`},Pi={class:`flex items-center justify-between px-3 py-2 dark:bg-slate-950/60`},Fi={class:`flex items-center gap-3`},Ii={class:`inline-flex items-center justify-center rounded-full p-2 hover:bg-slate-100/80 dark:hover:bg-slate-800 transition-colors text-slate-500 dark:text-slate-300`,type:`button`},Li={class:`px-2`},Ri={class:`flex-1 overflow-y-auto`},zi={class:`space-y-0.5 px-2 pb-3 pt-2`},Bi=[`onClick`],Vi={class:`line-clamp-1 flex-1 text-left`},Hi=[`onClick`],Ui=P({__name:`ChatSidebar`,emits:[`conversation:new`,`conversation:select`],setup(t,{emit:n}){let{sidebarConversations:r,activeConversationId:i,sidebarCollapsed:a,toggleSidebar:o,deleteConversation:s}=ki(),c=n;function l(){c(`conversation:new`)}function u(e){c(`conversation:select`,e)}async function d(e){confirm(``)&&await s(e)}return Me(window,`keydown`,e=>{e.key===`Tab`&&(e.preventDefault(),o())}),(t,n)=>(F(),T(`aside`,{class:E([`h-full bg-white border-r border-gray-200 dark:bg-slate-950/50 flex flex-col transition-all duration-200`,L(a)?`w-16`:`w-72`])},[L(a)?(F(),T(`div`,Ni,[R(`button`,{class:`inline-flex items-center justify-center rounded-full p-2 hover:bg-slate-200/80 dark:hover:bg-slate-800 transition-colors`,type:`button`,onClick:n[0]||=(...e)=>L(o)&&L(o)(...e)},[e(L(mn),{class:`w-5 h-5`})]),R(`button`,{class:`inline-flex items-center justify-center rounded-full p-2 hover:bg-slate-200/80 dark:hover:bg-slate-800 transition-colors`,type:`button`,onClick:l},[e(L(cn),{class:`w-5 h-5`})])])):(F(),T(x,{key:1},[R(`div`,Pi,[R(`div`,Fi,[R(`button`,{class:`inline-flex items-center justify-center rounded-full p-2 hover:bg-slate-100/80 dark:hover:bg-slate-800 transition-colors text-slate-600 dark:text-slate-200`,type:`button`,onClick:n[1]||=(...e)=>L(o)&&L(o)(...e)},[e(L(mn),{class:`w-5 h-5`})])]),R(`button`,Ii,[e(L(bn),{class:`w-4 h-4`})])]),R(`div`,Li,[R(`button`,{class:`w-full inline-flex items-center justify-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-100 dark:bg-slate-900/70 dark:text-slate-100 dark:hover:bg-slate-800 transition-colors`,type:`button`,onClick:l},[e(L(cn),{class:`w-4 h-4`}),n[2]||=R(`span`,{class:`whitespace-nowrap`},``,-1)])]),R(`div`,Ri,[R(`ul`,zi,[(F(!0),T(x,null,_e(L(r),t=>(F(),T(`li`,{key:t.id,class:E([`group flex items-center gap-2 rounded-md px-2 py-1.5 text-xs cursor-pointer transition-colors`,t.id===L(i)?`bg-slate-100 text-slate-900 dark:bg-slate-900/70 dark:text-slate-50`:`text-slate-700 hover:bg-slate-100/80 dark:text-slate-300 dark:hover:bg-slate-900/60`]),onClick:e=>u(t.id)},[e(L(un),{class:`w-4 h-4 shrink-0 text-slate-400 group-hover:text-slate-500 dark:group-hover:text-slate-200`}),R(`span`,Vi,p(t.title||``),1),R(`button`,{class:`opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-500 transition-opacity`,type:`button`,onClick:be(e=>d(t.id),[`stop`])},[e(L(fn),{class:`w-3.5 h-3.5`})],8,Hi)],10,Bi))),128))])])],64))],2))}}),Wi={damping:.7,stiffness:.05,mass:1.25},Gi=70,Ki=1e3/60,qi=350,Ji=!1,Yi=!1;function Xi(){Yi||typeof document>`u`||(document.addEventListener(`mousedown`,()=>{Ji=!0}),document.addEventListener(`mouseup`,()=>{Ji=!1}),document.addEventListener(`click`,()=>{Ji=!1}),Yi=!0)}var Zi=new Map;function Qi(...e){let t={damping:Wi.damping,stiffness:Wi.stiffness,mass:Wi.mass},n=!1;for(let r of e){if(r===`instant`){n=!0;continue}typeof r!=`object`||!r||(n=!1,t.damping=r.damping??t.damping,t.stiffness=r.stiffness??t.stiffness,t.mass=r.mass??t.mass)}let r=JSON.stringify(t);return Zi.has(r)||Zi.set(r,Object.freeze({...t})),n?`instant`:Zi.get(r)}function $i(e={}){Xi();let t={...e},n=new Set,r={isAtBottom:t.initial!==!1,isNearBottom:!1,escapedFromLock:!1,velocity:0,accumulated:0,resizeDifference:0};function i(){let e=a();for(let t of n)t(e)}function a(){return{isAtBottom:r.isAtBottom||r.isNearBottom,isNearBottom:r.isNearBottom,escapedFromLock:r.escapedFromLock}}function o(){return r.scrollElement?.scrollTop??0}function s(e){r.scrollElement&&(r.scrollElement.scrollTop=e,r.ignoreScrollToTop=r.scrollElement.scrollTop)}function c(){let e=r.scrollElement,t=r.contentElement;return!e||!t?0:e.scrollHeight-1-e.clientHeight}let l;function u(){let e=r.scrollElement,n=r.contentElement;if(!e||!n)return 0;let i=c();if(!t.targetScrollTop)return i;if(l?.targetScrollTop===i)return l.calculatedScrollTop;let a=Math.max(Math.min(t.targetScrollTop(i,{scrollElement:e,contentElement:n}),i),0);return l={targetScrollTop:i,calculatedScrollTop:a},typeof requestAnimationFrame<`u`&&requestAnimationFrame(()=>{l=void 0}),a}function d(){return u()-o()}function f(){return d()<=Gi}function p(e){r.isAtBottom=e,i()}function m(e){r.escapedFromLock=e,i()}function h(e){r.isNearBottom=e,i()}function g(){if(!Ji||typeof window>`u`)return!1;let e=window.getSelection?.();if(!e||!e.rangeCount)return!1;let t=e.getRangeAt(0),n=r.scrollElement;if(!n)return!1;let i=t.commonAncestorContainer;return!!(i&&(n.contains(i)||i.contains(n)))}let _=e=>{if(e.target!==r.scrollElement)return;let t=o(),n=r.lastScrollTop??t;r.lastScrollTop=t,r.ignoreScrollToTop=void 0,r.ignoreScrollToTop&&r.ignoreScrollToTop>t&&(n=r.ignoreScrollToTop),h(f()),setTimeout(()=>{if(r.resizeDifference||t===r.ignoreScrollToTop)return;if(g()){m(!0),p(!1);return}let e=t>n,i=t<n;if(r.animation?.ignoreEscapes){s(n);return}i&&(m(!0),p(!1)),e&&m(!1),!r.escapedFromLock&&f()&&p(!0)},1)},v=e=>{let t=r.scrollElement;if(!t)return;let n=e.target;for(;n&&![`scroll`,`auto`].includes(getComputedStyle(n).overflow);){if(!n.parentElement)return;n=n.parentElement}n===t&&e.deltaY<0&&t.scrollHeight>t.clientHeight&&!r.animation?.ignoreEscapes&&(m(!0),p(!1))};function y(e,n){b(),r.scrollElement=e,r.contentElement=n,getComputedStyle(e).overflow===`visible`&&(e.style.overflow=`auto`),e.addEventListener(`scroll`,_,{passive:!0}),e.addEventListener(`wheel`,v,{passive:!0});let i;r.resizeObserver=new ResizeObserver(([e])=>{let{height:n}=e.contentRect,a=n-(i??n);if(r.resizeDifference=a,o()>c()&&s(c()),h(f()),a>=0){let e=Qi(t,i?t.resize:t.initial);C({animation:e,wait:!0,preserveScrollPosition:!0,duration:e===`instant`?void 0:qi})}else f()&&(m(!1),p(!0));i=n,typeof requestAnimationFrame<`u`&&requestAnimationFrame(()=>{setTimeout(()=>{r.resizeDifference===a&&(r.resizeDifference=0)},1)})}),r.resizeObserver.observe(n)}function b(){r.scrollElement&&(r.scrollElement.removeEventListener(`scroll`,_),r.scrollElement.removeEventListener(`wheel`,v)),r.resizeObserver?.disconnect(),r.resizeObserver=void 0,r.scrollElement=void 0,r.contentElement=void 0}function x(){b(),n.clear()}function S(e){t={...t,...e}}function C(e={}){typeof e==`string`&&(e={animation:e});let n=e&&typeof e==`object`?e:{};n.preserveScrollPosition||p(!0);let i=Date.now()+(Number(n.wait)||0),a=Qi(t,n.animation),{ignoreEscapes:c=!1}=n,l,f=u();n.duration instanceof Promise?n.duration.finally(()=>{l=Date.now()}):l=i+(n.duration??0);let m=async()=>{let e=new Promise(e=>{if(typeof requestAnimationFrame>`u`){e(!1);return}requestAnimationFrame(()=>e(!0))}).then(()=>{if(!r.isAtBottom)return r.animation=void 0,!1;let n=o(),p=typeof performance<`u`?performance.now():Date.now(),h=(p-(r.lastTick??p))/Ki;if(r.animation||={behavior:a,promise:e,ignoreEscapes:c},r.animation.behavior===a&&(r.lastTick=p),g()||i>Date.now())return m();if(n<Math.min(f,u())){if(r.animation?.behavior===a){if(a===`instant`)return s(u()),m();let e=a;r.velocity=(e.damping*r.velocity+e.stiffness*d())/e.mass,r.accumulated+=r.velocity*h;let t=o();s(t+r.accumulated),o()!==t&&(r.accumulated=0)}return m()}return l>Date.now()?(f=u(),m()):(r.animation=void 0,o()<u()?C({animation:Qi(t,t.resize),ignoreEscapes:c,duration:Math.max(0,l-Date.now())||void 0}):r.isAtBottom)});return e.then(e=>(typeof requestAnimationFrame<`u`&&requestAnimationFrame(()=>{r.animation||(r.lastTick=void 0,r.velocity=0)}),e))};return n.wait!==!0&&(r.animation=void 0),r.animation?.behavior===a?r.animation.promise:m()}let w=()=>{m(!0),p(!1)};function T(e){return n.add(e),()=>n.delete(e)}return{attach:y,detach:b,destroy:x,setOptions:S,getState:a,onChange:T,scrollToBottom:C,stopScroll:w}}function ea(e={}){let t=b(null),n=b(null),r=b(e.initial!==!1),i=b(!1),a=b(!1),o=v($i(e)),s=v(null);function c(){!t.value||!n.value||(o.value.attach(t.value,n.value),s.value=o.value.onChange(e=>{r.value=e.isAtBottom,i.value=e.isNearBottom,a.value=e.escapedFromLock}))}function l(){s.value?.(),s.value=null,o.value.detach()}de(()=>{c()}),N(()=>{l(),o.value.destroy()}),f(e=>{!t.value||!n.value||(c(),e(()=>l()))});function u(e){o.value.setOptions(e)}return{scrollRef:t,contentRef:n,isAtBottom:r,isNearBottom:i,escapedFromLock:a,scrollToBottom:e=>o.value.scrollToBottom(e),stopScroll:()=>o.value.stopScroll(),setOptions:u}}var ta=Symbol(`StickToBottom`);function na(){let e=ae(ta,null);if(!e)throw Error(`useStickToBottomContext must be used within <StickToBottom>`);return e}var ra={style:{height:`100%`,width:`100%`}},ia={style:{position:`relative`,height:`100%`,width:`100%`}},aa=P({name:`StickToBottom`,__name:`StickToBottom`,props:{resize:{},initial:{type:[Boolean,String,Object]},targetScrollTop:{type:Function},damping:{},stiffness:{},mass:{},anchor:{}},setup(e,{expose:t}){let n=e,{scrollRef:r,contentRef:a,isAtBottom:o,isNearBottom:s,escapedFromLock:c,scrollToBottom:l,stopScroll:d,setOptions:f}=ea({resize:n.resize,initial:n.initial,targetScrollTop:n.targetScrollTop,damping:n.damping,stiffness:n.stiffness,mass:n.mass}),p={scrollRef:r,contentRef:a,isAtBottom:o,isNearBottom:s,escapedFromLock:c,scrollToBottom:l,stopScroll:d};k(ta,p),t(p),i(()=>[n.resize,n.initial,n.damping,n.stiffness,n.mass,n.targetScrollTop],()=>{f({resize:n.resize,initial:n.initial,targetScrollTop:n.targetScrollTop,damping:n.damping,stiffness:n.stiffness,mass:n.mass})},{flush:`post`});let m=u(()=>n.anchor??`auto`);return(e,t)=>(F(),T(`div`,ra,[R(`div`,ia,[R(`div`,{ref_key:`scrollRef`,ref:r,style:O({"overflow-anchor":m.value,overflow:`auto`,height:`100%`,width:`100%`})},[R(`div`,{ref_key:`contentRef`,ref:a},[V(e.$slots,`default`)],512)],4),V(e.$slots,`overlay`)]),V(e.$slots,`after`)]))}}),oa=P({__name:`Conversation`,props:{ariaLabel:{default:`Conversation`},class:{},initial:{type:[Boolean,String,Object],default:!0},resize:{},damping:{default:.7},stiffness:{default:.05},mass:{default:1.25},anchor:{default:`none`}},setup(e){let n=e,r=De(n,`class`);return(e,i)=>(F(),l(L(aa),M(L(r),{class:L(U)(`relative flex-1 overflow-y-hidden`,n.class),role:`log`}),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`class`]))}}),sa=P({__name:`ConversationContent`,props:{class:{}},setup(e){let t=e,n=u(()=>[`flex flex-col gap-8 p-4`,t.class]);return(e,t)=>(F(),T(`div`,{class:E(n.value)},[V(e.$slots,`default`)],2))}}),ca=P({__name:`ConversationScrollButton`,props:{class:{}},setup(n){let r=n,{isAtBottom:i,scrollToBottom:a}=na(),o=u(()=>!i.value);function s(){a()}return(n,i)=>o.value?(F(),l(L(Mt),M({key:0,class:L(U)(`absolute bottom-4 left-[50%] z-10 translate-x-[-50%] rounded-full`,r.class),size:`icon`,type:`button`,variant:`outline`},n.$attrs,{onClick:s}),{default:t(()=>[e(L(Cn),{class:`size-4`})]),_:1},16,[`class`])):D(``,!0)}}),la=P({__name:`Message`,props:{from:{},class:{},maxWidth:{default:`max-w-[80%]`}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,M({class:L(U)(`group flex w-full gap-2`,t.maxWidth,t.from===`user`?`is-user ml-auto justify-end`:`is-assistant`,t.class)},e.$attrs),[V(e.$slots,`default`)],16))}}),ua=P({__name:`Tooltip`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:[`update:open`],setup(e,{emit:n}){let r=Qt(e,n);return(e,n)=>(F(),l(L(pi),M({"data-slot":`tooltip`},L(r)),{default:t(t=>[V(e.$slots,`default`,w(I(t)))]),_:3},16))}}),da=P({inheritAttrs:!1,__name:`TooltipContent`,props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(n,{emit:r}){let i=n,a=r,o=Qt(De(i,`class`),a);return(n,r)=>(F(),l(L(_i),null,{default:t(()=>[e(L(gi),M({"data-slot":`tooltip-content`},{...L(o),...n.$attrs},{class:L(U)(`bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit rounded-md px-3 py-1.5 text-xs text-balance`,i.class)}),{default:t(()=>[V(n.$slots,`default`),e(L(oi),{class:`bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]`})]),_:3},16,[`class`])]),_:3}))}}),fa=P({__name:`TooltipProvider`,props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(e){let n=e;return(e,r)=>(F(),l(L(li),w(I(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),pa=P({__name:`TooltipTrigger`,props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(vi),M({"data-slot":`tooltip-trigger`},n),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),ma={class:`sr-only`},ha={class:`sr-only`},ga=P({__name:`MessageAction`,props:{tooltip:{},label:{},variant:{default:`ghost`},size:{default:`icon-sm`}},setup(n){let r=n,i={variant:r.variant,size:r.size,type:`button`};return(n,a)=>r.tooltip?(F(),l(L(fa),{key:0},{default:t(()=>[e(L(ua),null,{default:t(()=>[e(L(pa),{"as-child":``},{default:t(()=>[e(L(Mt),w(I({...i,...n.$attrs})),{default:t(()=>[V(n.$slots,`default`),R(`span`,ma,p(r.label||r.tooltip),1)]),_:3},16)]),_:3}),e(L(da),null,{default:t(()=>[R(`p`,null,p(r.tooltip),1)]),_:1})]),_:3})]),_:3})):(F(),l(L(Mt),w(M({key:1},{...i,...n.$attrs})),{default:t(()=>[V(n.$slots,`default`),R(`span`,ha,p(r.label||r.tooltip),1)]),_:3},16))}}),_a=P({__name:`MessageActions`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,M({class:L(U)(`flex items-center gap-1`,t.class)},e.$attrs),[V(e.$slots,`default`)],16))}}),va=[`src`,`alt`],ya={class:`flex size-full shrink-0 items-center justify-center rounded-lg bg-muted text-muted-foreground`},ba=P({__name:`MessageAttachment`,props:{data:{},class:{}},emits:[`remove`],setup(n,{emit:r}){let i=n,a=r,o=u(()=>i.data.filename||``),s=u(()=>i.data.mediaType?.startsWith(`image/`)&&i.data.url?`image`:`file`),c=u(()=>s.value===`image`),l=u(()=>o.value||(c.value?`Image`:`Attachment`));return(n,r)=>(F(),T(`div`,M({class:L(U)(`group relative size-24 overflow-hidden rounded-lg`,i.class)},n.$attrs),[c.value?(F(),T(x,{key:0},[R(`img`,{src:i.data.url,alt:o.value||`attachment`,class:`size-full object-cover`,height:`100`,width:`100`},null,8,va),e(L(Mt),{"aria-label":`Remove attachment`,class:`absolute top-2 right-2 size-6 rounded-full bg-background/80 p-0 opacity-0 backdrop-blur-sm transition-opacity hover:bg-background group-hover:opacity-100 [&>svg]:size-3`,type:`button`,variant:`ghost`,onClick:r[0]||=be(e=>a(`remove`),[`stop`])},{default:t(()=>[e(L(zt)),r[2]||=R(`span`,{class:`sr-only`},`Remove`,-1)]),_:1})],64)):(F(),T(x,{key:1},[e(L(fa),null,{default:t(()=>[e(L(ua),null,{default:t(()=>[e(L(pa),{"as-child":``},{default:t(()=>[R(`div`,ya,[e(L(Dt),{class:`size-4`})])]),_:1}),e(L(da),null,{default:t(()=>[R(`p`,null,p(l.value),1)]),_:1})]),_:1})]),_:1}),e(L(Mt),{"aria-label":`Remove attachment`,class:`size-6 shrink-0 rounded-full p-0 opacity-0 transition-opacity hover:bg-accent group-hover:opacity-100 [&>svg]:size-3`,type:`button`,variant:`ghost`,onClick:r[1]||=be(e=>a(`remove`),[`stop`])},{default:t(()=>[e(L(zt)),r[3]||=R(`span`,{class:`sr-only`},`Remove`,-1)]),_:1})],64))],16))}}),xa=P({__name:`MessageAttachments`,props:{class:{}},setup(e){let t=e,n=_();return(e,r)=>L(n).default?(F(),T(`div`,M({key:0,class:L(U)(`ml-auto flex w-fit flex-wrap items-start gap-2`,t.class)},e.$attrs),[V(e.$slots,`default`)],16)):D(``,!0)}});const Sa=Symbol(`MessageBranch`),Ca=Symbol(`MessageBranchWidth`);function wa(){let e=ae(Ca);if(!e)throw Error(`Message Branch Width must be used within Message Branch`);return e}function Ta(){let e=ae(Sa);if(!e)throw Error(`Message Branch components must be used within Message Branch`);return e}var Ea=P({__name:`MessageBranch`,props:{defaultBranch:{default:0},class:{}},emits:[`branchChange`],setup(e,{emit:t}){let r=b(null),{width:i}=ke(r),a=e,o=t,s=b(a.defaultBranch),c=b([]),l=b(0);function u(e){s.value=e,o(`branchChange`,e)}function d(){l.value!==0&&u(s.value>0?s.value-1:l.value-1)}function f(){l.value!==0&&u(s.value<l.value-1?s.value+1:0)}function p(e){l.value=e}return k(Sa,{currentBranch:n(s),totalBranches:n(l),goToPrevious:d,goToNext:f,branches:c,setBranches:p}),k(Ca,i),(e,t)=>(F(),T(`div`,M({ref_key:`rootRef`,ref:r,class:L(U)(`grid w-full gap-2 [&>div]:pb-0`,a.class)},e.$attrs),[V(e.$slots,`default`)],16))}}),Da=P({__name:`MessageBranchContent`,props:{class:{}},setup(e){let t=e,n=g(),r=_(),{currentBranch:a,setBranches:o}=Ta(),s=u(()=>(r.default?.()??[]).flatMap(e=>A(e)&&e.type===x?Array.isArray(e.children)?e.children:[]:[e]).filter(e=>A(e)?e.type&&typeof e.type==`object`:!1)),c=()=>o(s.value.length);de(c),i(s,c);let d=u(()=>U(`grid gap-2 [&>div]:pb-0`,t.class));return(e,t)=>(F(!0),T(x,null,_e(s.value,(e,t)=>(F(),T(`div`,M({key:e.key??t,class:L(U)(d.value,t===L(a)?`block`:`hidden`)},{ref_for:!0},L(n)),[(F(),l(j(e)))],16))),128))}}),Oa=P({__name:`MessageBranchNext`,setup(n){let{goToNext:r,totalBranches:i}=Ta();return(n,a)=>(F(),l(L(Mt),M({"aria-label":`Next branch`,disabled:L(i)<=1,size:`icon-sm`,type:`button`,variant:`ghost`},n.$attrs,{onClick:L(r)}),{default:t(()=>[V(n.$slots,`default`,{},()=>[e(L(pt),{size:14})])]),_:3},16,[`disabled`,`onClick`]))}}),ka=[`data-orientation`],Aa=P({__name:`ButtonGroup`,props:{class:{},orientation:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,{role:`group`,"data-slot":`button-group`,"data-orientation":t.orientation,class:E(L(U)(L(Ma)({orientation:t.orientation}),t.class))},[V(e.$slots,`default`)],10,ka))}}),ja=P({__name:`ButtonGroupText`,props:{class:{},orientation:{},asChild:{type:Boolean},as:{default:`div`}},setup(e){let n=e;return(r,i)=>(F(),l(L(Zt),{role:`group`,"data-slot":`button-group`,"data-orientation":n.orientation,as:e.as,"as-child":e.asChild,class:E(L(U)(`bg-muted flex items-center gap-2 rounded-md border px-4 text-sm font-medium shadow-xs [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4`,n.class))},{default:t(()=>[V(r.$slots,`default`)]),_:3},8,[`data-orientation`,`as`,`as-child`,`class`]))}});const Ma=Pt(`flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2`,{variants:{orientation:{horizontal:`[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none`,vertical:`flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none`}},defaultVariants:{orientation:`horizontal`}});var Na=P({__name:`MessageBranchPage`,props:{class:{}},setup(e){let n=e,{currentBranch:r,totalBranches:i}=Ta();return(e,a)=>(F(),l(L(ja),M({class:L(U)(`border-none bg-transparent text-muted-foreground shadow-none`,n.class)},e.$attrs),{default:t(()=>[m(p(L(r)+1)+` of `+p(L(i)),1)]),_:1},16,[`class`]))}}),Pa=P({__name:`MessageBranchPrevious`,setup(n){let{goToPrevious:r,totalBranches:i}=Ta();return(n,a)=>(F(),l(L(Mt),M({"aria-label":`Previous branch`,disabled:L(i)<=1,size:`icon-sm`,type:`button`,variant:`ghost`},n.$attrs,{onClick:L(r)}),{default:t(()=>[V(n.$slots,`default`,{},()=>[e(L(On),{size:14})])]),_:3},16,[`disabled`,`onClick`]))}}),Fa=P({__name:`MessageBranchSelector`,props:{from:{}},setup(e){let{totalBranches:n}=Ta();return(e,r)=>L(n)>1?(F(),l(L(Aa),M({key:0,class:`[&>*:not(:first-child)]:rounded-l-md [&>*:not(:last-child)]:rounded-r-md`,orientation:`horizontal`},e.$attrs),{default:t(()=>[V(e.$slots,`default`)]),_:3},16)):D(``,!0)}}),Ia=P({__name:`MessageContent`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,M({class:L(U)(`is-user:dark flex flex-col gap-2 text-sm w-full group-[.is-user]:w-fit`,`group-[.is-user]:ml-auto group-[.is-user]:rounded-lg group-[.is-user]:bg-secondary group-[.is-user]:px-4 group-[.is-user]:py-3 group-[.is-user]:text-foreground`,`group-[.is-assistant]:text-foreground`,t.class)},e.$attrs),[V(e.$slots,`default`)],16))}});function La(e){if(e)throw e}var Ra=ee(((e,t)=>{var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return typeof Array.isArray==`function`?Array.isArray(e):r.call(e)===`[object Array]`},s=function(e){if(!e||r.call(e)!==`[object Object]`)return!1;var t=n.call(e,`constructor`),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,`isPrototypeOf`);if(e.constructor&&!t&&!i)return!1;for(var a in e);return a===void 0||n.call(e,a)},c=function(e,t){i&&t.name===`__proto__`?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if(t===`__proto__`)if(n.call(e,t)){if(a)return a(e,t).value}else return;return e[t]};t.exports=function e(){var t,n,r,i,a,u,d=arguments[0],f=1,p=arguments.length,m=!1;for(typeof d==`boolean`&&(m=d,d=arguments[1]||{},f=2),(d==null||typeof d!=`object`&&typeof d!=`function`)&&(d={});f<p;++f)if(t=arguments[f],t!=null)for(n in t)r=l(d,n),i=l(t,n),d!==i&&(m&&i&&(s(i)||(a=o(i)))?(a?(a=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},c(d,{name:n,newValue:e(m,u,i)})):i!==void 0&&c(d,{name:n,newValue:i}));return d}}));function za(e){if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ba(){let e=[],t={run:n,use:r};return t;function n(...t){let n=-1,r=t.pop();if(typeof r!=`function`)throw TypeError(`Expected function as last argument, not `+r);i(null,...t);function i(a,...o){let s=e[++n],c=-1;if(a){r(a);return}for(;++c<t.length;)(o[c]===null||o[c]===void 0)&&(o[c]=t[c]);t=o,s?Va(s,i)(...o):r(null,...o)}}function r(n){if(typeof n!=`function`)throw TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}}function Va(e,t){let n;return r;function r(...t){let r=e.length>t.length,o;r&&t.push(i);try{o=e.apply(this,t)}catch(e){let t=e;if(r&&n)throw t;return i(t)}r||(o&&o.then&&typeof o.then==`function`?o.then(a,i):o instanceof Error?i(o):a(o))}function i(e,...r){n||(n=!0,t(e,...r))}function a(e){i(null,e)}}function Ha(e){return!e||typeof e!=`object`?``:`position`in e||`type`in e?Wa(e.position):`start`in e||`end`in e?Wa(e):`line`in e||`column`in e?Ua(e):``}function Ua(e){return Ga(e&&e.line)+`:`+Ga(e&&e.column)}function Wa(e){return Ua(e&&e.start)+`-`+Ua(e&&e.end)}function Ga(e){return e&&typeof e==`number`?e:1}var Ka=class extends Error{constructor(e,t,n){super(),typeof t==`string`&&(n=t,t=void 0);let r=``,i={},a=!1;if(t&&(i=`line`in t&&`column`in t||`start`in t&&`end`in t?{place:t}:`type`in t?{ancestors:[t],place:t.position}:{...t}),typeof e==`string`?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof n==`string`){let e=n.indexOf(`:`);e===-1?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){let e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}let o=i.place&&`start`in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file=``,this.message=r,this.line=o?o.line:void 0,this.name=Ha(i.place)||`1:1`,this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack==`string`?i.cause.stack:``,this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Ka.prototype.file=``,Ka.prototype.name=``,Ka.prototype.reason=``,Ka.prototype.message=``,Ka.prototype.stack=``,Ka.prototype.column=void 0,Ka.prototype.line=void 0,Ka.prototype.ancestors=void 0,Ka.prototype.cause=void 0,Ka.prototype.fatal=void 0,Ka.prototype.place=void 0,Ka.prototype.ruleId=void 0,Ka.prototype.source=void 0;const qa={basename:Ja,dirname:Ya,extname:Xa,join:Za,sep:`/`};function Ja(e,t){if(t!==void 0&&typeof t!=`string`)throw TypeError(`"ext" argument must be a string`);eo(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?``:e.slice(n,r)}if(t===e)return``;let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Ya(e){if(eo(e),e.length===0)return`.`;let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||=!0;return t<0?e.codePointAt(0)===47?`/`:`.`:t===1&&e.codePointAt(0)===47?`//`:e.slice(0,t)}function Xa(e){eo(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){let s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?``:e.slice(i,n)}function Za(...e){let t=-1,n;for(;++t<e.length;)eo(e[t]),e[t]&&(n=n===void 0?e[t]:n+`/`+e[t]);return n===void 0?`.`:Qa(n)}function Qa(e){eo(e);let t=e.codePointAt(0)===47,n=$a(e,!t);return n.length===0&&!t&&(n=`.`),n.length>0&&e.codePointAt(e.length-1)===47&&(n+=`/`),t?`/`+n:n}function $a(e,t){let n=``,r=0,i=-1,a=0,o=-1,s,c;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else if(s===47)break;else s=47;if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf(`/`),c!==n.length-1){c<0?(n=``,r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf(`/`)),i=o,a=0;continue}}else if(n.length>0){n=``,r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+`/..`:`..`,r=2)}else n.length>0?n+=`/`+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function eo(e){if(typeof e!=`string`)throw TypeError(`Path must be a string. Received `+JSON.stringify(e))}const to={cwd:no};function no(){return`/`}function ro(e){return!!(typeof e==`object`&&e&&`href`in e&&e.href&&`protocol`in e&&e.protocol&&e.auth===void 0)}function io(e){if(typeof e==`string`)e=new URL(e);else if(!ro(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code=`ERR_INVALID_ARG_TYPE`,t}if(e.protocol!==`file:`){let e=TypeError(`The URL must be of scheme file`);throw e.code=`ERR_INVALID_URL_SCHEME`,e}return ao(e)}function ao(e){if(e.hostname!==``){let e=TypeError(`File URL host must be "localhost" or empty on darwin`);throw e.code=`ERR_INVALID_FILE_URL_HOST`,e}let t=e.pathname,n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){let e=t.codePointAt(n+2);if(e===70||e===102){let e=TypeError(`File URL path must not include encoded / characters`);throw e.code=`ERR_INVALID_FILE_URL_PATH`,e}}return decodeURIComponent(t)}var oo=[`history`,`path`,`basename`,`stem`,`extname`,`dirname`],so=class{constructor(e){let t;t=e?ro(e)?{path:e}:typeof e==`string`||fo(e)?{value:e}:e:{},this.cwd=`cwd`in t?``:to.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<oo.length;){let e=oo[n];e in t&&t[e]!==void 0&&t[e]!==null&&(this[e]=e===`history`?[...t[e]]:t[e])}let r;for(r in t)oo.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path==`string`?qa.basename(this.path):void 0}set basename(e){lo(e,`basename`),co(e,`basename`),this.path=qa.join(this.dirname||``,e)}get dirname(){return typeof this.path==`string`?qa.dirname(this.path):void 0}set dirname(e){uo(this.basename,`dirname`),this.path=qa.join(e||``,this.basename)}get extname(){return typeof this.path==`string`?qa.extname(this.path):void 0}set extname(e){if(co(e,`extname`),uo(this.dirname,`extname`),e){if(e.codePointAt(0)!==46)throw Error("`extname` must start with `.`");if(e.includes(`.`,1))throw Error("`extname` cannot contain multiple dots")}this.path=qa.join(this.dirname,this.stem+(e||``))}get path(){return this.history[this.history.length-1]}set path(e){ro(e)&&(e=io(e)),lo(e,`path`),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path==`string`?qa.basename(this.path,this.extname):void 0}set stem(e){lo(e,`stem`),co(e,`stem`),this.path=qa.join(this.dirname||``,e+(this.extname||``))}fail(e,t,n){let r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){let r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){let r=new Ka(e,t,n);return this.path&&(r.name=this.path+`:`+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?``:typeof this.value==`string`?this.value:new TextDecoder(e||void 0).decode(this.value)}};function co(e,t){if(e&&e.includes(qa.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+qa.sep+"`")}function lo(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function uo(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}function fo(e){return!!(e&&typeof e==`object`&&`byteLength`in e&&`byteOffset`in e)}const po=(function(e){let t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r});var mo=pe(Ra(),1),ho={}.hasOwnProperty;const go=new class e extends po{constructor(){super(`copy`),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ba()}copy(){let t=new e,n=-1;for(;++n<this.attachers.length;){let e=this.attachers[n];t.use(...e)}return t.data((0,mo.default)(!0,{},this.namespace)),t}data(e,t){return typeof e==`string`?arguments.length===2?(yo(`data`,this.frozen),this.namespace[e]=t,this):ho.call(this.namespace,e)&&this.namespace[e]||void 0:e?(yo(`data`,this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);let r=t.call(e,...n);typeof r==`function`&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=1/0,this}parse(e){this.freeze();let t=So(e),n=this.parser||this.Parser;return _o(`parse`,n),n(String(t),t)}process(e,t){let n=this;return this.freeze(),_o(`process`,this.parser||this.Parser),vo(`process`,this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){let a=So(e),o=n.parse(a);n.run(o,a,function(e,t,r){if(e||!t||!r)return s(e);let i=t,a=n.stringify(i,r);wo(a)?r.value=a:r.result=a,s(e,r)});function s(e,n){e||!n?i(e):r?r(n):t(void 0,n)}}}processSync(e){let t=!1,n;return this.freeze(),_o(`processSync`,this.parser||this.Parser),vo(`processSync`,this.compiler||this.Compiler),this.process(e,r),xo(`processSync`,`process`,t),n;function r(e,r){t=!0,La(e),n=r}}run(e,t,n){bo(e),this.freeze();let r=this.transformers;return!n&&typeof t==`function`&&(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){let o=So(t);r.run(e,o,s);function s(t,r,o){let s=r||e;t?a(t):i?i(s):n(void 0,s,o)}}}runSync(e,t){let n=!1,r;return this.run(e,t,i),xo(`runSync`,`run`,n),r;function i(e,t){La(e),r=t,n=!0}}stringify(e,t){this.freeze();let n=So(t),r=this.compiler||this.Compiler;return vo(`stringify`,r),bo(e),r(e,n)}use(e,...t){let n=this.attachers,r=this.namespace;if(yo(`use`,this.frozen),e!=null)if(typeof e==`function`)s(e,t);else if(typeof e==`object`)Array.isArray(e)?o(e):a(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function i(e){if(typeof e==`function`)s(e,[]);else if(typeof e==`object`)if(Array.isArray(e)){let[t,...n]=e;s(t,n)}else a(e);else throw TypeError("Expected usable value, not `"+e+"`")}function a(e){if(!(`plugins`in e)&&!(`settings`in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(r.settings=(0,mo.default)(!0,r.settings,e.settings))}function o(e){let t=-1;if(e!=null)if(Array.isArray(e))for(;++t<e.length;){let n=e[t];i(n)}else throw TypeError("Expected a list of plugins, not `"+e+"`")}function s(e,t){let r=-1,i=-1;for(;++r<n.length;)if(n[r][0]===e){i=r;break}if(i===-1)n.push([e,...t]);else if(t.length>0){let[r,...a]=t,o=n[i][1];za(o)&&za(r)&&(r=(0,mo.default)(!0,o,r)),n[i]=[e,r,...a]}}}}().freeze();function _o(e,t){if(typeof t!=`function`)throw TypeError("Cannot `"+e+"` without `parser`")}function vo(e,t){if(typeof t!=`function`)throw TypeError("Cannot `"+e+"` without `compiler`")}function yo(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bo(e){if(!za(e)||typeof e.type!=`string`)throw TypeError("Expected node, got `"+e+"`")}function xo(e,t,n){if(!n)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function So(e){return Co(e)?e:new so(e)}function Co(e){return!!(e&&typeof e==`object`&&`message`in e&&`messages`in e)}function wo(e){return typeof e==`string`||To(e)}function To(e){return!!(e&&typeof e==`object`&&`byteLength`in e&&`byteOffset`in e)}var Eo={};function Do(e,t){let n=t||Eo;return Oo(e,typeof n.includeImageAlt==`boolean`?n.includeImageAlt:!0,typeof n.includeHtml==`boolean`?n.includeHtml:!0)}function Oo(e,t,n){if(Ao(e)){if(`value`in e)return e.type===`html`&&!n?``:e.value;if(t&&`alt`in e&&e.alt)return e.alt;if(`children`in e)return ko(e.children,t,n)}return Array.isArray(e)?ko(e,t,n):``}function ko(e,t,n){let r=[],i=-1;for(;++i<e.length;)r[i]=Oo(e[i],t,n);return r.join(``)}function Ao(e){return!!(e&&typeof e==`object`)}var jo=document.createElement(`i`);function Mo(e){let t=`&`+e+`;`;jo.innerHTML=t;let n=jo.textContent;return n.charCodeAt(n.length-1)===59&&e!==`semi`||n===t?!1:n}function No(e,t,n,r){let i=e.length,a=0,o;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Po(e,t){return e.length>0?(No(e,e.length,0,t),e):t}var Fo={}.hasOwnProperty;function Io(e){let t={},n=-1;for(;++n<e.length;)Lo(t,e[n]);return t}function Lo(e,t){let n;for(n in t){let r=(Fo.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n],a;if(i)for(a in i){Fo.call(r,a)||(r[a]=[]);let e=i[a];Ro(r[a],Array.isArray(e)?e:e?[e]:[])}}}function Ro(e,t){let n=-1,r=[];for(;++n<t.length;)(t[n].add===`after`?e:r).push(t[n]);No(e,0,0,r)}function zo(e,t){let n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)==65535||(n&65535)==65534||n>1114111?``:String.fromCodePoint(n)}function Bo(e){return e.replace(/[\t\n\r ]+/g,` `).replace(/^ | $/g,``).toLowerCase().toUpperCase()}const Vo=Xo(/[A-Za-z]/),Ho=Xo(/[\dA-Za-z]/),Uo=Xo(/[#-'*+\--9=?A-Z^-~]/);function Wo(e){return e!==null&&(e<32||e===127)}const Go=Xo(/\d/),Ko=Xo(/[\dA-Fa-f]/),qo=Xo(/[!-/:-@[-`{-~]/);function W(e){return e!==null&&e<-2}function G(e){return e!==null&&(e<0||e===32)}function K(e){return e===-2||e===-1||e===32}const Jo=Xo(/\p{P}|\p{S}/u),Yo=Xo(/\s/);function Xo(e){return t;function t(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Zo(e){let t=[],n=-1,r=0,i=0;for(;++n<e.length;){let a=e.charCodeAt(n),o=``;if(a===37&&Ho(e.charCodeAt(n+1))&&Ho(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(o=String.fromCharCode(a,t),i=1):o=``}else o=String.fromCharCode(a);o&&=(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,``),i&&=(n+=i,0)}return t.join(``)+e.slice(r)}function q(e,t,n,r){let i=r?r-1:1/0,a=0;return o;function o(r){return K(r)?(e.enter(n),s(r)):t(r)}function s(r){return K(r)&&a++<i?(e.consume(r),s):(e.exit(n),t(r))}}const Qo={tokenize:$o};function $o(e){let t=e.attempt(this.parser.constructs.contentInitial,r,i),n;return t;function r(n){if(n===null){e.consume(n);return}return e.enter(`lineEnding`),e.consume(n),e.exit(`lineEnding`),q(e,t,`linePrefix`)}function i(t){return e.enter(`paragraph`),a(t)}function a(t){let r=e.enter(`chunkText`,{contentType:`text`,previous:n});return n&&(n.next=r),n=r,o(t)}function o(t){if(t===null){e.exit(`chunkText`),e.exit(`paragraph`),e.consume(t);return}return W(t)?(e.consume(t),e.exit(`chunkText`),a):(e.consume(t),o)}}const es={tokenize:ns};var ts={tokenize:rs};function ns(e){let t=this,n=[],r=0,i,a,o;return s;function s(i){if(r<n.length){let a=n[r];return t.containerState=a[1],e.attempt(a[0].continuation,c,l)(i)}return l(i)}function c(e){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();let n=t.events.length,a=n,o;for(;a--;)if(t.events[a][0]===`exit`&&t.events[a][1].type===`chunkFlow`){o=t.events[a][1].end;break}_(r);let s=n;for(;s<t.events.length;)t.events[s][1].end={...o},s++;return No(t.events,a+1,0,t.events.slice(n)),t.events.length=s,l(e)}return s(e)}function l(a){if(r===n.length){if(!i)return f(a);if(i.currentConstruct&&i.currentConstruct.concrete)return m(a);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ts,u,d)(a)}function u(e){return i&&v(),_(r),f(e)}function d(e){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(e)}function f(n){return t.containerState={},e.attempt(ts,p,m)(n)}function p(e){return r++,n.push([t.currentConstruct,t.containerState]),f(e)}function m(n){if(n===null){i&&v(),_(0),e.consume(n);return}return i||=t.parser.flow(t.now()),e.enter(`chunkFlow`,{_tokenizer:i,contentType:`flow`,previous:a}),h(n)}function h(n){if(n===null){g(e.exit(`chunkFlow`),!0),_(0),e.consume(n);return}return W(n)?(e.consume(n),g(e.exit(`chunkFlow`)),r=0,t.interrupt=void 0,s):(e.consume(n),h)}function g(e,n){let s=t.sliceStream(e);if(n&&s.push(null),e.previous=a,a&&(a.next=e),a=e,i.defineSkip(e.start),i.write(s),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;let n=t.events.length,a=n,s,c;for(;a--;)if(t.events[a][0]===`exit`&&t.events[a][1].type===`chunkFlow`){if(s){c=t.events[a][1].end;break}s=!0}for(_(r),e=n;e<t.events.length;)t.events[e][1].end={...c},e++;No(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function _(r){let i=n.length;for(;i-- >r;){let r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function rs(e,t,n){return q(e,e.attempt(this.parser.constructs.document,t,n),`linePrefix`,this.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)}function is(e){if(e===null||G(e)||Yo(e))return 1;if(Jo(e))return 2}function as(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const os={name:`attention`,resolveAll:ss,tokenize:cs};function ss(e,t){let n=-1,r,i,a,o,s,c,l,u;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`attentionSequence`&&e[n][1]._close){for(r=n;r--;)if(e[r][0]===`exit`&&e[r][1].type===`attentionSequence`&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let d={...e[r][1].end},f={...e[n][1].start};ls(d,-c),ls(f,c),o={type:c>1?`strongSequence`:`emphasisSequence`,start:d,end:{...e[r][1].end}},s={type:c>1?`strongSequence`:`emphasisSequence`,start:{...e[n][1].start},end:f},a={type:c>1?`strongText`:`emphasisText`,start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?`strong`:`emphasis`,start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=Po(l,[[`enter`,e[r][1],t],[`exit`,e[r][1],t]])),l=Po(l,[[`enter`,i,t],[`enter`,o,t],[`exit`,o,t],[`enter`,a,t]]),l=Po(l,as(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=Po(l,[[`exit`,a,t],[`enter`,s,t],[`exit`,s,t],[`exit`,i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,l=Po(l,[[`enter`,e[n][1],t],[`exit`,e[n][1],t]])):u=0,No(e,r-1,n-r+3,l),n=r+l.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`attentionSequence`&&(e[n][1].type=`data`);return e}function cs(e,t){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=is(r),a;return o;function o(t){return a=t,e.enter(`attentionSequence`),s(t)}function s(o){if(o===a)return e.consume(o),s;let c=e.exit(`attentionSequence`),l=is(o),u=!l||l===2&&i||n.includes(o),d=!i||i===2&&l||n.includes(r);return c._open=!!(a===42?u:u&&(i||!d)),c._close=!!(a===42?d:d&&(l||!u)),t(o)}}function ls(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const us={name:`autolink`,tokenize:ds};function ds(e,t,n){let r=0;return i;function i(t){return e.enter(`autolink`),e.enter(`autolinkMarker`),e.consume(t),e.exit(`autolinkMarker`),e.enter(`autolinkProtocol`),a}function a(t){return Vo(t)?(e.consume(t),o):t===64?n(t):l(t)}function o(e){return e===43||e===45||e===46||Ho(e)?(r=1,s(e)):l(e)}function s(t){return t===58?(e.consume(t),r=0,c):(t===43||t===45||t===46||Ho(t))&&r++<32?(e.consume(t),s):(r=0,l(t))}function c(r){return r===62?(e.exit(`autolinkProtocol`),e.enter(`autolinkMarker`),e.consume(r),e.exit(`autolinkMarker`),e.exit(`autolink`),t):r===null||r===32||r===60||Wo(r)?n(r):(e.consume(r),c)}function l(t){return t===64?(e.consume(t),u):Uo(t)?(e.consume(t),l):n(t)}function u(e){return Ho(e)?d(e):n(e)}function d(n){return n===46?(e.consume(n),r=0,u):n===62?(e.exit(`autolinkProtocol`).type=`autolinkEmail`,e.enter(`autolinkMarker`),e.consume(n),e.exit(`autolinkMarker`),e.exit(`autolink`),t):f(n)}function f(t){if((t===45||Ho(t))&&r++<63){let n=t===45?f:d;return e.consume(t),n}return n(t)}}const fs={partial:!0,tokenize:ps};function ps(e,t,n){return r;function r(t){return K(t)?q(e,i,`linePrefix`)(t):i(t)}function i(e){return e===null||W(e)?t(e):n(e)}}const ms={continuation:{tokenize:gs},exit:_s,name:`blockQuote`,tokenize:hs};function hs(e,t,n){let r=this;return i;function i(t){if(t===62){let n=r.containerState;return n.open||=(e.enter(`blockQuote`,{_container:!0}),!0),e.enter(`blockQuotePrefix`),e.enter(`blockQuoteMarker`),e.consume(t),e.exit(`blockQuoteMarker`),a}return n(t)}function a(n){return K(n)?(e.enter(`blockQuotePrefixWhitespace`),e.consume(n),e.exit(`blockQuotePrefixWhitespace`),e.exit(`blockQuotePrefix`),t):(e.exit(`blockQuotePrefix`),t(n))}}function gs(e,t,n){let r=this;return i;function i(t){return K(t)?q(e,a,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):a(t)}function a(r){return e.attempt(ms,t,n)(r)}}function _s(e){e.exit(`blockQuote`)}const vs={name:`characterEscape`,tokenize:ys};function ys(e,t,n){return r;function r(t){return e.enter(`characterEscape`),e.enter(`escapeMarker`),e.consume(t),e.exit(`escapeMarker`),i}function i(r){return qo(r)?(e.enter(`characterEscapeValue`),e.consume(r),e.exit(`characterEscapeValue`),e.exit(`characterEscape`),t):n(r)}}const bs={name:`characterReference`,tokenize:xs};function xs(e,t,n){let r=this,i=0,a,o;return s;function s(t){return e.enter(`characterReference`),e.enter(`characterReferenceMarker`),e.consume(t),e.exit(`characterReferenceMarker`),c}function c(t){return t===35?(e.enter(`characterReferenceMarkerNumeric`),e.consume(t),e.exit(`characterReferenceMarkerNumeric`),l):(e.enter(`characterReferenceValue`),a=31,o=Ho,u(t))}function l(t){return t===88||t===120?(e.enter(`characterReferenceMarkerHexadecimal`),e.consume(t),e.exit(`characterReferenceMarkerHexadecimal`),e.enter(`characterReferenceValue`),a=6,o=Ko,u):(e.enter(`characterReferenceValue`),a=7,o=Go,u(t))}function u(s){if(s===59&&i){let i=e.exit(`characterReferenceValue`);return o===Ho&&!Mo(r.sliceSerialize(i))?n(s):(e.enter(`characterReferenceMarker`),e.consume(s),e.exit(`characterReferenceMarker`),e.exit(`characterReference`),t)}return o(s)&&i++<a?(e.consume(s),u):n(s)}}var Ss={partial:!0,tokenize:Ts};const Cs={concrete:!0,name:`codeFenced`,tokenize:ws};function ws(e,t,n){let r=this,i={partial:!0,tokenize:x},a=0,o=0,s;return c;function c(e){return l(e)}function l(t){let n=r.events[r.events.length-1];return a=n&&n[1].type===`linePrefix`?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter(`codeFenced`),e.enter(`codeFencedFence`),e.enter(`codeFencedFenceSequence`),u(t)}function u(t){return t===s?(o++,e.consume(t),u):o<3?n(t):(e.exit(`codeFencedFenceSequence`),K(t)?q(e,d,`whitespace`)(t):d(t))}function d(n){return n===null||W(n)?(e.exit(`codeFencedFence`),r.interrupt?t(n):e.check(Ss,h,b)(n)):(e.enter(`codeFencedFenceInfo`),e.enter(`chunkString`,{contentType:`string`}),f(n))}function f(t){return t===null||W(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceInfo`),d(t)):K(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceInfo`),q(e,p,`whitespace`)(t)):t===96&&t===s?n(t):(e.consume(t),f)}function p(t){return t===null||W(t)?d(t):(e.enter(`codeFencedFenceMeta`),e.enter(`chunkString`,{contentType:`string`}),m(t))}function m(t){return t===null||W(t)?(e.exit(`chunkString`),e.exit(`codeFencedFenceMeta`),d(t)):t===96&&t===s?n(t):(e.consume(t),m)}function h(t){return e.attempt(i,b,g)(t)}function g(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),_}function _(t){return a>0&&K(t)?q(e,v,`linePrefix`,a+1)(t):v(t)}function v(t){return t===null||W(t)?e.check(Ss,h,b)(t):(e.enter(`codeFlowValue`),y(t))}function y(t){return t===null||W(t)?(e.exit(`codeFlowValue`),v(t)):(e.consume(t),y)}function b(n){return e.exit(`codeFenced`),t(n)}function x(e,t,n){let i=0;return a;function a(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),c}function c(t){return e.enter(`codeFencedFence`),K(t)?q(e,l,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):l(t)}function l(t){return t===s?(e.enter(`codeFencedFenceSequence`),u(t)):n(t)}function u(t){return t===s?(i++,e.consume(t),u):i>=o?(e.exit(`codeFencedFenceSequence`),K(t)?q(e,d,`whitespace`)(t):d(t)):n(t)}function d(r){return r===null||W(r)?(e.exit(`codeFencedFence`),t(r)):n(r)}}}function Ts(e,t,n){let r=this;return i;function i(t){return t===null?n(t):(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),a)}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}const Es={name:`codeIndented`,tokenize:Os};var Ds={partial:!0,tokenize:ks};function Os(e,t,n){let r=this;return i;function i(t){return e.enter(`codeIndented`),q(e,a,`linePrefix`,5)(t)}function a(e){let t=r.events[r.events.length-1];return t&&t[1].type===`linePrefix`&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return t===null?c(t):W(t)?e.attempt(Ds,o,c)(t):(e.enter(`codeFlowValue`),s(t))}function s(t){return t===null||W(t)?(e.exit(`codeFlowValue`),o(t)):(e.consume(t),s)}function c(n){return e.exit(`codeIndented`),t(n)}}function ks(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):W(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),i):q(e,a,`linePrefix`,5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&a[1].type===`linePrefix`&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):W(e)?i(e):n(e)}}const As={name:`codeText`,previous:Ms,resolve:js,tokenize:Ns};function js(e){let t=e.length-4,n=3,r,i;if((e[n][1].type===`lineEnding`||e[n][1].type===`space`)&&(e[t][1].type===`lineEnding`||e[t][1].type===`space`)){for(r=n;++r<t;)if(e[r][1].type===`codeTextData`){e[n][1].type=`codeTextPadding`,e[t][1].type=`codeTextPadding`,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!==`lineEnding`&&(i=r):(r===t||e[r][1].type===`lineEnding`)&&(e[i][1].type=`codeTextData`,r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Ms(e){return e!==96||this.events[this.events.length-1][1].type===`characterEscape`}function Ns(e,t,n){let r=0,i,a;return o;function o(t){return e.enter(`codeText`),e.enter(`codeTextSequence`),s(t)}function s(t){return t===96?(e.consume(t),r++,s):(e.exit(`codeTextSequence`),c(t))}function c(t){return t===null?n(t):t===32?(e.enter(`space`),e.consume(t),e.exit(`space`),c):t===96?(a=e.enter(`codeTextSequence`),i=0,u(t)):W(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),c):(e.enter(`codeTextData`),l(t))}function l(t){return t===null||t===32||t===96||W(t)?(e.exit(`codeTextData`),c(t)):(e.consume(t),l)}function u(n){return n===96?(e.consume(n),i++,u):i===r?(e.exit(`codeTextSequence`),e.exit(`codeText`),t(n)):(a.type=`codeTextData`,l(n))}}var Ps=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let n=t??1/0;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){let r=t||0;this.setCursor(Math.trunc(e));let i=this.right.splice(this.right.length-r,1/0);return n&&Fs(this.left,n),i.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(e){this.setCursor(1/0),this.left.push(e)}pushMany(e){this.setCursor(1/0),Fs(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fs(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let t=this.left.splice(e,1/0);Fs(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,1/0);Fs(this.left,t.reverse())}}};function Fs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Is(e){let t={},n=-1,r,i,a,o,s,c,l,u=new Ps(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type===`chunkFlow`&&u.get(n-1)[1].type===`listItemPrefix`&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type===`lineEndingBlank`&&(a+=2),a<c.length&&c[a][1].type===`content`))for(;++a<c.length&&c[a][1].type!==`content`;)c[a][1].type===`chunkText`&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]===`enter`)r[1].contentType&&(Object.assign(t,Ls(u,n)),n=t[n],l=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type===`lineEnding`||o[1].type===`lineEndingBlank`)o[0]===`enter`&&(i&&(u.get(i)[1].type=`lineEndingBlank`),o[1].type=`lineEnding`,i=a);else if(!(o[1].type===`linePrefix`||o[1].type===`listItemIndent`))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return No(e,0,1/0,u.slice(0)),!l}function Ls(e,t){let n=e.get(t)[1],r=e.get(t)[2],i=t-1,a=[],o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));let s=o.events,c=[],l={},u,d,f=-1,p=n,m=0,h=0,g=[h];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<s.length;)s[f][0]===`exit`&&s[f-1][0]===`enter`&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(h=f+1,g.push(h),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),f=g.length;f--;){let t=s.slice(g[f],g[f+1]),n=a.pop();c.push([n,n+t.length-1]),e.splice(n,2,t)}for(c.reverse(),f=-1;++f<c.length;)l[m+c[f][0]]=m+c[f][1],m+=c[f][1]-c[f][0]-1;return l}const Rs={resolve:Bs,tokenize:Vs};var zs={partial:!0,tokenize:Hs};function Bs(e){return Is(e),e}function Vs(e,t){let n;return r;function r(t){return e.enter(`content`),n=e.enter(`chunkContent`,{contentType:`content`}),i(t)}function i(t){return t===null?a(t):W(t)?e.check(zs,o,a)(t):(e.consume(t),i)}function a(n){return e.exit(`chunkContent`),e.exit(`content`),t(n)}function o(t){return e.consume(t),e.exit(`chunkContent`),n.next=e.enter(`chunkContent`,{contentType:`content`,previous:n}),n=n.next,i}}function Hs(e,t,n){let r=this;return i;function i(t){return e.exit(`chunkContent`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),q(e,a,`linePrefix`)}function a(i){if(i===null||W(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes(`codeIndented`)&&a&&a[1].type===`linePrefix`&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function Us(e,t,n,r,i,a,o,s,c){let l=c||1/0,u=0;return d;function d(t){return t===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),f):t===null||t===32||t===41||Wo(t)?n(t):(e.enter(r),e.enter(o),e.enter(s),e.enter(`chunkString`,{contentType:`string`}),h(t))}function f(n){return n===62?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter(`chunkString`,{contentType:`string`}),p(n))}function p(t){return t===62?(e.exit(`chunkString`),e.exit(s),f(t)):t===null||t===60||W(t)?n(t):(e.consume(t),t===92?m:p)}function m(t){return t===60||t===62||t===92?(e.consume(t),p):p(t)}function h(i){return!u&&(i===null||i===41||G(i))?(e.exit(`chunkString`),e.exit(s),e.exit(o),e.exit(r),t(i)):u<l&&i===40?(e.consume(i),u++,h):i===41?(e.consume(i),u--,h):i===null||i===32||i===40||Wo(i)?n(i):(e.consume(i),i===92?g:h)}function g(t){return t===40||t===41||t===92?(e.consume(t),h):h(t)}}function Ws(e,t,n,r,i,a){let o=this,s=0,c;return l;function l(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),u}function u(l){return s>999||l===null||l===91||l===93&&!c||l===94&&!s&&`_hiddenFootnoteSupport`in o.parser.constructs?n(l):l===93?(e.exit(a),e.enter(i),e.consume(l),e.exit(i),e.exit(r),t):W(l)?(e.enter(`lineEnding`),e.consume(l),e.exit(`lineEnding`),u):(e.enter(`chunkString`,{contentType:`string`}),d(l))}function d(t){return t===null||t===91||t===93||W(t)||s++>999?(e.exit(`chunkString`),u(t)):(e.consume(t),c||=!K(t),t===92?f:d)}function f(t){return t===91||t===92||t===93?(e.consume(t),s++,d):d(t)}}function Gs(e,t,n,r,i,a){let o;return s;function s(t){return t===34||t===39||t===40?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),o=t===40?41:t,c):n(t)}function c(n){return n===o?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===o?(e.exit(a),c(o)):t===null?n(t):W(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),q(e,l,`linePrefix`)):(e.enter(`chunkString`,{contentType:`string`}),u(t))}function u(t){return t===o||t===null||W(t)?(e.exit(`chunkString`),l(t)):(e.consume(t),t===92?d:u)}function d(t){return t===o||t===92?(e.consume(t),u):u(t)}}function Ks(e,t){let n;return r;function r(i){return W(i)?(e.enter(`lineEnding`),e.consume(i),e.exit(`lineEnding`),n=!0,r):K(i)?q(e,r,n?`linePrefix`:`lineSuffix`)(i):t(i)}}const qs={name:`definition`,tokenize:Ys};var Js={partial:!0,tokenize:Xs};function Ys(e,t,n){let r=this,i;return a;function a(t){return e.enter(`definition`),o(t)}function o(t){return Ws.call(r,e,s,n,`definitionLabel`,`definitionLabelMarker`,`definitionLabelString`)(t)}function s(t){return i=Bo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),c):n(t)}function c(t){return G(t)?Ks(e,l)(t):l(t)}function l(t){return Us(e,u,n,`definitionDestination`,`definitionDestinationLiteral`,`definitionDestinationLiteralMarker`,`definitionDestinationRaw`,`definitionDestinationString`)(t)}function u(t){return e.attempt(Js,d,d)(t)}function d(t){return K(t)?q(e,f,`whitespace`)(t):f(t)}function f(a){return a===null||W(a)?(e.exit(`definition`),r.parser.defined.push(i),t(a)):n(a)}}function Xs(e,t,n){return r;function r(t){return G(t)?Ks(e,i)(t):n(t)}function i(t){return Gs(e,a,n,`definitionTitle`,`definitionTitleMarker`,`definitionTitleString`)(t)}function a(t){return K(t)?q(e,o,`whitespace`)(t):o(t)}function o(e){return e===null||W(e)?t(e):n(e)}}const Zs={name:`hardBreakEscape`,tokenize:Qs};function Qs(e,t,n){return r;function r(t){return e.enter(`hardBreakEscape`),e.consume(t),i}function i(r){return W(r)?(e.exit(`hardBreakEscape`),t(r)):n(r)}}const $s={name:`headingAtx`,resolve:ec,tokenize:tc};function ec(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type===`whitespace`&&(r+=2),n-2>r&&e[n][1].type===`whitespace`&&(n-=2),e[n][1].type===`atxHeadingSequence`&&(r===n-1||n-4>r&&e[n-2][1].type===`whitespace`)&&(n-=r+1===n?2:4),n>r&&(i={type:`atxHeadingText`,start:e[r][1].start,end:e[n][1].end},a={type:`chunkText`,start:e[r][1].start,end:e[n][1].end,contentType:`text`},No(e,r,n-r+1,[[`enter`,i,t],[`enter`,a,t],[`exit`,a,t],[`exit`,i,t]])),e}function tc(e,t,n){let r=0;return i;function i(t){return e.enter(`atxHeading`),a(t)}function a(t){return e.enter(`atxHeadingSequence`),o(t)}function o(t){return t===35&&r++<6?(e.consume(t),o):t===null||G(t)?(e.exit(`atxHeadingSequence`),s(t)):n(t)}function s(n){return n===35?(e.enter(`atxHeadingSequence`),c(n)):n===null||W(n)?(e.exit(`atxHeading`),t(n)):K(n)?q(e,s,`whitespace`)(n):(e.enter(`atxHeadingText`),l(n))}function c(t){return t===35?(e.consume(t),c):(e.exit(`atxHeadingSequence`),s(t))}function l(t){return t===null||t===35||G(t)?(e.exit(`atxHeadingText`),s(t)):(e.consume(t),l)}}const nc=`address.article.aside.base.basefont.blockquote.body.caption.center.col.colgroup.dd.details.dialog.dir.div.dl.dt.fieldset.figcaption.figure.footer.form.frame.frameset.h1.h2.h3.h4.h5.h6.head.header.hr.html.iframe.legend.li.link.main.menu.menuitem.nav.noframes.ol.optgroup.option.p.param.search.section.summary.table.tbody.td.tfoot.th.thead.title.tr.track.ul`.split(`.`),rc=[`pre`,`script`,`style`,`textarea`],ic={concrete:!0,name:`htmlFlow`,resolveTo:sc,tokenize:cc};var ac={partial:!0,tokenize:uc},oc={partial:!0,tokenize:lc};function sc(e){let t=e.length;for(;t--&&!(e[t][0]===`enter`&&e[t][1].type===`htmlFlow`););return t>1&&e[t-2][1].type===`linePrefix`&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function cc(e,t,n){let r=this,i,a,o,s,c;return l;function l(e){return u(e)}function u(t){return e.enter(`htmlFlow`),e.enter(`htmlFlowData`),e.consume(t),d}function d(s){return s===33?(e.consume(s),f):s===47?(e.consume(s),a=!0,h):s===63?(e.consume(s),i=3,r.interrupt?t:te):Vo(s)?(e.consume(s),o=String.fromCharCode(s),g):n(s)}function f(a){return a===45?(e.consume(a),i=2,p):a===91?(e.consume(a),i=5,s=0,m):Vo(a)?(e.consume(a),i=4,r.interrupt?t:te):n(a)}function p(i){return i===45?(e.consume(i),r.interrupt?t:te):n(i)}function m(i){return i===`CDATA[`.charCodeAt(s++)?(e.consume(i),s===6?r.interrupt?t:O:m):n(i)}function h(t){return Vo(t)?(e.consume(t),o=String.fromCharCode(t),g):n(t)}function g(s){if(s===null||s===47||s===62||G(s)){let c=s===47,l=o.toLowerCase();return!c&&!a&&rc.includes(l)?(i=1,r.interrupt?t(s):O(s)):nc.includes(o.toLowerCase())?(i=6,c?(e.consume(s),_):r.interrupt?t(s):O(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):a?v(s):y(s))}return s===45||Ho(s)?(e.consume(s),o+=String.fromCharCode(s),g):n(s)}function _(i){return i===62?(e.consume(i),r.interrupt?t:O):n(i)}function v(t){return K(t)?(e.consume(t),v):E(t)}function y(t){return t===47?(e.consume(t),E):t===58||t===95||Vo(t)?(e.consume(t),b):K(t)?(e.consume(t),y):E(t)}function b(t){return t===45||t===46||t===58||t===95||Ho(t)?(e.consume(t),b):x(t)}function x(t){return t===61?(e.consume(t),S):K(t)?(e.consume(t),x):y(t)}function S(t){return t===null||t===60||t===61||t===62||t===96?n(t):t===34||t===39?(e.consume(t),c=t,C):K(t)?(e.consume(t),S):w(t)}function C(t){return t===c?(e.consume(t),c=null,T):t===null||W(t)?n(t):(e.consume(t),C)}function w(t){return t===null||t===34||t===39||t===47||t===60||t===61||t===62||t===96||G(t)?x(t):(e.consume(t),w)}function T(e){return e===47||e===62||K(e)?y(e):n(e)}function E(t){return t===62?(e.consume(t),D):n(t)}function D(t){return t===null||W(t)?O(t):K(t)?(e.consume(t),D):n(t)}function O(t){return t===45&&i===2?(e.consume(t),M):t===60&&i===1?(e.consume(t),N):t===62&&i===4?(e.consume(t),ne):t===63&&i===3?(e.consume(t),te):t===93&&i===5?(e.consume(t),ee):W(t)&&(i===6||i===7)?(e.exit(`htmlFlowData`),e.check(ac,F,k)(t)):t===null||W(t)?(e.exit(`htmlFlowData`),k(t)):(e.consume(t),O)}function k(t){return e.check(oc,A,F)(t)}function A(t){return e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),j}function j(t){return t===null||W(t)?k(t):(e.enter(`htmlFlowData`),O(t))}function M(t){return t===45?(e.consume(t),te):O(t)}function N(t){return t===47?(e.consume(t),o=``,P):O(t)}function P(t){if(t===62){let n=o.toLowerCase();return rc.includes(n)?(e.consume(t),ne):O(t)}return Vo(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),P):O(t)}function ee(t){return t===93?(e.consume(t),te):O(t)}function te(t){return t===62?(e.consume(t),ne):t===45&&i===2?(e.consume(t),te):O(t)}function ne(t){return t===null||W(t)?(e.exit(`htmlFlowData`),F(t)):(e.consume(t),ne)}function F(n){return e.exit(`htmlFlow`),t(n)}}function lc(e,t,n){let r=this;return i;function i(t){return W(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),a):n(t)}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}function uc(e,t,n){return r;function r(r){return e.enter(`lineEnding`),e.consume(r),e.exit(`lineEnding`),e.attempt(fs,t,n)}}const dc={name:`htmlText`,tokenize:fc};function fc(e,t,n){let r=this,i,a,o;return s;function s(t){return e.enter(`htmlText`),e.enter(`htmlTextData`),e.consume(t),c}function c(t){return t===33?(e.consume(t),l):t===47?(e.consume(t),x):t===63?(e.consume(t),y):Vo(t)?(e.consume(t),w):n(t)}function l(t){return t===45?(e.consume(t),u):t===91?(e.consume(t),a=0,m):Vo(t)?(e.consume(t),v):n(t)}function u(t){return t===45?(e.consume(t),p):n(t)}function d(t){return t===null?n(t):t===45?(e.consume(t),f):W(t)?(o=d,N(t)):(e.consume(t),d)}function f(t){return t===45?(e.consume(t),p):d(t)}function p(e){return e===62?M(e):e===45?f(e):d(e)}function m(t){return t===`CDATA[`.charCodeAt(a++)?(e.consume(t),a===6?h:m):n(t)}function h(t){return t===null?n(t):t===93?(e.consume(t),g):W(t)?(o=h,N(t)):(e.consume(t),h)}function g(t){return t===93?(e.consume(t),_):h(t)}function _(t){return t===62?M(t):t===93?(e.consume(t),_):h(t)}function v(t){return t===null||t===62?M(t):W(t)?(o=v,N(t)):(e.consume(t),v)}function y(t){return t===null?n(t):t===63?(e.consume(t),b):W(t)?(o=y,N(t)):(e.consume(t),y)}function b(e){return e===62?M(e):y(e)}function x(t){return Vo(t)?(e.consume(t),S):n(t)}function S(t){return t===45||Ho(t)?(e.consume(t),S):C(t)}function C(t){return W(t)?(o=C,N(t)):K(t)?(e.consume(t),C):M(t)}function w(t){return t===45||Ho(t)?(e.consume(t),w):t===47||t===62||G(t)?T(t):n(t)}function T(t){return t===47?(e.consume(t),M):t===58||t===95||Vo(t)?(e.consume(t),E):W(t)?(o=T,N(t)):K(t)?(e.consume(t),T):M(t)}function E(t){return t===45||t===46||t===58||t===95||Ho(t)?(e.consume(t),E):D(t)}function D(t){return t===61?(e.consume(t),O):W(t)?(o=D,N(t)):K(t)?(e.consume(t),D):T(t)}function O(t){return t===null||t===60||t===61||t===62||t===96?n(t):t===34||t===39?(e.consume(t),i=t,k):W(t)?(o=O,N(t)):K(t)?(e.consume(t),O):(e.consume(t),A)}function k(t){return t===i?(e.consume(t),i=void 0,j):t===null?n(t):W(t)?(o=k,N(t)):(e.consume(t),k)}function A(t){return t===null||t===34||t===39||t===60||t===61||t===96?n(t):t===47||t===62||G(t)?T(t):(e.consume(t),A)}function j(e){return e===47||e===62||G(e)?T(e):n(e)}function M(r){return r===62?(e.consume(r),e.exit(`htmlTextData`),e.exit(`htmlText`),t):n(r)}function N(t){return e.exit(`htmlTextData`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),P}function P(t){return K(t)?q(e,ee,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):ee(t)}function ee(t){return e.enter(`htmlTextData`),o(t)}}const pc={name:`labelEnd`,resolveAll:_c,resolveTo:vc,tokenize:yc};var mc={tokenize:bc},hc={tokenize:xc},gc={tokenize:Sc};function _c(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),r.type===`labelImage`||r.type===`labelLink`||r.type===`labelEnd`){let e=r.type===`labelImage`?4:2;r.type=`data`,t+=e}}return e.length!==n.length&&No(e,0,e.length,n),e}function vc(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type===`link`||i.type===`labelLink`&&i._inactive)break;e[n][0]===`enter`&&i.type===`labelLink`&&(i._inactive=!0)}else if(o){if(e[n][0]===`enter`&&(i.type===`labelImage`||i.type===`labelLink`)&&!i._balanced&&(a=n,i.type!==`labelLink`)){r=2;break}}else i.type===`labelEnd`&&(o=n);let c={type:e[a][1].type===`labelLink`?`link`:`image`,start:{...e[a][1].start},end:{...e[e.length-1][1].end}},l={type:`label`,start:{...e[a][1].start},end:{...e[o][1].end}},u={type:`labelText`,start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[[`enter`,c,t],[`enter`,l,t]],s=Po(s,e.slice(a+1,a+r+3)),s=Po(s,[[`enter`,u,t]]),s=Po(s,as(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Po(s,[[`exit`,u,t],e[o-2],e[o-1],[`exit`,l,t]]),s=Po(s,e.slice(o+1)),s=Po(s,[[`exit`,c,t]]),No(e,a,e.length,s),e}function yc(e,t,n){let r=this,i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type===`labelImage`||r.events[i][1].type===`labelLink`)&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(t){return a?a._inactive?d(t):(o=r.parser.defined.includes(Bo(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter(`labelEnd`),e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelEnd`),c):n(t)}function c(t){return t===40?e.attempt(mc,u,o?u:d)(t):t===91?e.attempt(hc,u,o?l:d)(t):o?u(t):d(t)}function l(t){return e.attempt(gc,u,d)(t)}function u(e){return t(e)}function d(e){return a._balanced=!0,n(e)}}function bc(e,t,n){return r;function r(t){return e.enter(`resource`),e.enter(`resourceMarker`),e.consume(t),e.exit(`resourceMarker`),i}function i(t){return G(t)?Ks(e,a)(t):a(t)}function a(t){return t===41?u(t):Us(e,o,s,`resourceDestination`,`resourceDestinationLiteral`,`resourceDestinationLiteralMarker`,`resourceDestinationRaw`,`resourceDestinationString`,32)(t)}function o(t){return G(t)?Ks(e,c)(t):u(t)}function s(e){return n(e)}function c(t){return t===34||t===39||t===40?Gs(e,l,n,`resourceTitle`,`resourceTitleMarker`,`resourceTitleString`)(t):u(t)}function l(t){return G(t)?Ks(e,u)(t):u(t)}function u(r){return r===41?(e.enter(`resourceMarker`),e.consume(r),e.exit(`resourceMarker`),e.exit(`resource`),t):n(r)}}function xc(e,t,n){let r=this;return i;function i(t){return Ws.call(r,e,a,o,`reference`,`referenceMarker`,`referenceString`)(t)}function a(e){return r.parser.defined.includes(Bo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function o(e){return n(e)}}function Sc(e,t,n){return r;function r(t){return e.enter(`reference`),e.enter(`referenceMarker`),e.consume(t),e.exit(`referenceMarker`),i}function i(r){return r===93?(e.enter(`referenceMarker`),e.consume(r),e.exit(`referenceMarker`),e.exit(`reference`),t):n(r)}}const Cc={name:`labelStartImage`,resolveAll:pc.resolveAll,tokenize:wc};function wc(e,t,n){let r=this;return i;function i(t){return e.enter(`labelImage`),e.enter(`labelImageMarker`),e.consume(t),e.exit(`labelImageMarker`),a}function a(t){return t===91?(e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelImage`),o):n(t)}function o(e){return e===94&&`_hiddenFootnoteSupport`in r.parser.constructs?n(e):t(e)}}const Tc={name:`labelStartLink`,resolveAll:pc.resolveAll,tokenize:Ec};function Ec(e,t,n){let r=this;return i;function i(t){return e.enter(`labelLink`),e.enter(`labelMarker`),e.consume(t),e.exit(`labelMarker`),e.exit(`labelLink`),a}function a(e){return e===94&&`_hiddenFootnoteSupport`in r.parser.constructs?n(e):t(e)}}const Dc={name:`lineEnding`,tokenize:Oc};function Oc(e,t){return n;function n(n){return e.enter(`lineEnding`),e.consume(n),e.exit(`lineEnding`),q(e,t,`linePrefix`)}}const kc={name:`thematicBreak`,tokenize:Ac};function Ac(e,t,n){let r=0,i;return a;function a(t){return e.enter(`thematicBreak`),o(t)}function o(e){return i=e,s(e)}function s(a){return a===i?(e.enter(`thematicBreakSequence`),c(a)):r>=3&&(a===null||W(a))?(e.exit(`thematicBreak`),t(a)):n(a)}function c(t){return t===i?(e.consume(t),r++,c):(e.exit(`thematicBreakSequence`),K(t)?q(e,s,`whitespace`)(t):s(t))}}const jc={continuation:{tokenize:Fc},exit:Lc,name:`list`,tokenize:Pc};var Mc={partial:!0,tokenize:Rc},Nc={partial:!0,tokenize:Ic};function Pc(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&i[1].type===`linePrefix`?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(t){let i=r.containerState.type||(t===42||t===43||t===45?`listUnordered`:`listOrdered`);if(i===`listUnordered`?!r.containerState.marker||t===r.containerState.marker:Go(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),i===`listUnordered`)return e.enter(`listItemPrefix`),t===42||t===45?e.check(kc,n,l)(t):l(t);if(!r.interrupt||t===49)return e.enter(`listItemPrefix`),e.enter(`listItemValue`),c(t)}return n(t)}function c(t){return Go(t)&&++o<10?(e.consume(t),c):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:t===41||t===46)?(e.exit(`listItemValue`),l(t)):n(t)}function l(t){return e.enter(`listItemMarker`),e.consume(t),e.exit(`listItemMarker`),r.containerState.marker=r.containerState.marker||t,e.check(fs,r.interrupt?n:u,e.attempt(Mc,f,d))}function u(e){return r.containerState.initialBlankLine=!0,a++,f(e)}function d(t){return K(t)?(e.enter(`listItemPrefixWhitespace`),e.consume(t),e.exit(`listItemPrefixWhitespace`),f):n(t)}function f(n){return r.containerState.size=a+r.sliceSerialize(e.exit(`listItemPrefix`),!0).length,t(n)}}function Fc(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(fs,i,a);function i(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,q(e,t,`listItemIndent`,r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!K(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Nc,t,o)(n))}function o(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,q(e,e.attempt(jc,t,n),`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(i)}}function Ic(e,t,n){let r=this;return q(e,i,`listItemIndent`,r.containerState.size+1);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`listItemIndent`&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}}function Lc(e){e.exit(this.containerState.type)}function Rc(e,t,n){let r=this;return q(e,i,`listItemPrefixWhitespace`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:5);function i(e){let i=r.events[r.events.length-1];return!K(e)&&i&&i[1].type===`listItemPrefixWhitespace`?t(e):n(e)}}const zc={name:`setextUnderline`,resolveTo:Bc,tokenize:Vc};function Bc(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]===`enter`){if(e[n][1].type===`content`){r=n;break}e[n][1].type===`paragraph`&&(i=n)}else e[n][1].type===`content`&&e.splice(n,1),!a&&e[n][1].type===`definition`&&(a=n);let o={type:`setextHeading`,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type=`setextHeadingText`,a?(e.splice(i,0,[`enter`,o,t]),e.splice(a+1,0,[`exit`,e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push([`exit`,o,t]),e}function Vc(e,t,n){let r=this,i;return a;function a(t){let a=r.events.length,s;for(;a--;)if(r.events[a][1].type!==`lineEnding`&&r.events[a][1].type!==`linePrefix`&&r.events[a][1].type!==`content`){s=r.events[a][1].type===`paragraph`;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter(`setextHeadingLine`),i=t,o(t)):n(t)}function o(t){return e.enter(`setextHeadingLineSequence`),s(t)}function s(t){return t===i?(e.consume(t),s):(e.exit(`setextHeadingLineSequence`),K(t)?q(e,c,`lineSuffix`)(t):c(t))}function c(r){return r===null||W(r)?(e.exit(`setextHeadingLine`),t(r)):n(r)}}const Hc={tokenize:Uc};function Uc(e){let t=this,n=e.attempt(fs,r,e.attempt(this.parser.constructs.flowInitial,i,q(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Rs,i)),`linePrefix`)));return n;function r(r){if(r===null){e.consume(r);return}return e.enter(`lineEndingBlank`),e.consume(r),e.exit(`lineEndingBlank`),t.currentConstruct=void 0,n}function i(r){if(r===null){e.consume(r);return}return e.enter(`lineEnding`),e.consume(r),e.exit(`lineEnding`),t.currentConstruct=void 0,n}}const Wc={resolveAll:Jc()},Gc=qc(`string`),Kc=qc(`text`);function qc(e){return{resolveAll:Jc(e===`text`?Yc:void 0),tokenize:t};function t(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,o);return a;function a(e){return c(e)?i(e):o(e)}function o(e){if(e===null){t.consume(e);return}return t.enter(`data`),t.consume(e),s}function s(e){return c(e)?(t.exit(`data`),i(e)):(t.consume(e),s)}function c(e){if(e===null)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}function Jc(e){return t;function t(t,n){let r=-1,i;for(;++r<=t.length;)i===void 0?t[r]&&t[r][1].type===`data`&&(i=r,r++):(!t[r]||t[r][1].type!==`data`)&&(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function Yc(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type===`lineEnding`)&&e[n-1][1].type===`data`){let r=e[n-1][1],i=t.sliceStream(r),a=i.length,o=-1,s=0,c;for(;a--;){let e=i[a];if(typeof e==`string`){for(o=e.length;e.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(e===-2)c=!0,s++;else if(e!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){let i={type:n===e.length||c||s<2?`lineSuffix`:`hardBreakTrailing`,start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...i.start},r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,[`enter`,i,t],[`exit`,i,t]),n+=2)}n++}return e}var Xc=he({attentionMarkers:()=>il,contentInitial:()=>Qc,disable:()=>al,document:()=>Zc,flow:()=>el,flowInitial:()=>$c,insideSpan:()=>rl,string:()=>tl,text:()=>nl},1);const Zc={42:jc,43:jc,45:jc,48:jc,49:jc,50:jc,51:jc,52:jc,53:jc,54:jc,55:jc,56:jc,57:jc,62:ms},Qc={91:qs},$c={[-2]:Es,[-1]:Es,32:Es},el={35:$s,42:kc,45:[zc,kc],60:ic,61:zc,95:kc,96:Cs,126:Cs},tl={38:bs,92:vs},nl={[-5]:Dc,[-4]:Dc,[-3]:Dc,33:Cc,38:bs,42:os,60:[us,dc],91:Tc,92:[Zs,vs],93:pc,95:os,96:As},rl={null:[os,Wc]},il={null:[42,95]},al={null:[]};function ol(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},a=[],o=[],s=[],c={attempt:C(x),check:C(S),consume:v,enter:y,exit:b,interrupt:C(S,{interrupt:!0})},l={code:null,containerState:{},defineSkip:h,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:p,write:d},u=t.tokenize.call(l,c);return t.resolveAll&&a.push(t),l;function d(e){return o=Po(o,e),g(),o[o.length-1]===null?(w(t,0),l.events=as(a,l.events,l),l.events):[]}function f(e,t){return cl(p(e),t)}function p(e){return sl(o,e)}function m(){let{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function h(e){i[e.line]=e.column,E()}function g(){let e;for(;r._index<o.length;){let t=o[r._index];if(typeof t==`string`)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)_(t.charCodeAt(r._bufferIndex));else _(t)}}function _(e){u=u(e)}function v(e){W(e)?(r.line++,r.column=1,r.offset+=e===-3?2:1,E()):e!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=e}function y(e,t){let n=t||{};return n.type=e,n.start=m(),l.events.push([`enter`,n,l]),s.push(n),n}function b(e){let t=s.pop();return t.end=m(),l.events.push([`exit`,t,l]),t}function x(e,t){w(e,t.from)}function S(e,t){t.restore()}function C(e,t){return n;function n(n,r,i){let a,o,s,u;return Array.isArray(n)?f(n):`tokenize`in n?f([n]):d(n);function d(e){return t;function t(t){let n=t!==null&&e[t],r=t!==null&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}function f(e){return a=e,o=0,e.length===0?i:p(e[o])}function p(e){return n;function n(n){return u=T(),s=e,e.partial||(l.currentConstruct=e),e.name&&l.parser.constructs.disable.null.includes(e.name)?h(n):e.tokenize.call(t?Object.assign(Object.create(l),t):l,c,m,h)(n)}}function m(t){return e(s,u),r}function h(e){return u.restore(),++o<a.length?p(a[o]):i}}}function w(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&No(l.events,t,l.events.length-t,e.resolve(l.events.slice(t),l)),e.resolveTo&&(l.events=e.resolveTo(l.events,l))}function T(){let e=m(),t=l.previous,n=l.currentConstruct,i=l.events.length,a=Array.from(s);return{from:i,restore:o};function o(){r=e,l.previous=t,l.currentConstruct=n,l.events.length=i,s=a,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sl(e,t){let n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex,o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){let e=o[0];typeof e==`string`?o[0]=e.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function cl(e,t){let n=-1,r=[],i;for(;++n<e.length;){let a=e[n],o;if(typeof a==`string`)o=a;else switch(a){case-5:o=`\r`;break;case-4:o=`
`;break;case-3:o=`\r
`;break;case-2:o=t?` `:`	`;break;case-1:if(!t&&i)continue;o=` `;break;default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join(``)}function ll(e){let t={constructs:Io([Xc,...(e||{}).extensions||[]]),content:n(Qo),defined:[],document:n(es),flow:n(Hc),lazy:{},string:n(Gc),text:n(Kc)};return t;function n(e){return n;function n(n){return ol(t,e,n)}}}function ul(e){for(;!Is(e););return e}var dl=/[\0\t\n\r]/g;function fl(){let e=1,t=``,n=!0,r;return i;function i(i,a,o){let s=[],c,l,u,d,f;for(i=t+(typeof i==`string`?i.toString():new TextDecoder(a||void 0).decode(i)),u=0,t=``,n&&=(i.charCodeAt(0)===65279&&u++,void 0);u<i.length;){if(dl.lastIndex=u,c=dl.exec(i),d=c&&c.index!==void 0?c.index:i.length,f=i.charCodeAt(d),!c){t=i.slice(u);break}if(f===10&&u===d&&r)s.push(-3),r=void 0;else switch(r&&=(s.push(-5),void 0),u<d&&(s.push(i.slice(u,d)),e+=d-u),f){case 0:s.push(65533),e++;break;case 9:for(l=Math.ceil(e/4)*4,s.push(-2);e++<l;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:r=!0,e=1}u=d+1}return o&&(r&&s.push(-5),t&&s.push(t),s.push(null)),s}}var pl=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ml(e){return e.replace(pl,hl)}function hl(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){let e=n.charCodeAt(1),t=e===120||e===88;return zo(n.slice(t?2:1),t?16:10)}return Mo(n)||e}var gl={}.hasOwnProperty;function _l(e,t,n){return typeof t!=`string`&&(n=t,t=void 0),vl(n)(ul(ll(n).document().write(fl()(e,t,!0))))}function vl(e){let t={transforms:[],canContainEols:[`emphasis`,`fragment`,`heading`,`paragraph`,`strong`],enter:{autolink:a(me),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(fe),blockQuote:a(I),characterEscape:T,characterReference:T,codeFenced:a(ue),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ue,o),codeText:a(de,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(L),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(R),hardBreakEscape:a(z),hardBreakTrailing:a(z),htmlFlow:a(pe,o),htmlFlowData:T,htmlText:a(pe,o),htmlTextData:T,image:a(B),label:o,link:a(me),listItem:a(ge),listItemValue:f,listOrdered:a(he,d),listUnordered:a(he),paragraph:a(_e),reference:re,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(fe),strong:a(ve),thematicBreak:a(V)},exit:{atxHeading:c(),atxHeadingSequence:x,autolink:c(),autolinkEmail:le,autolinkProtocol:ce,blockQuote:c(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:oe,characterReference:se,codeFenced:c(g),codeFencedFence:h,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:E,codeIndented:c(_),codeText:c(j),codeTextData:E,data:E,definition:c(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:y,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(k),htmlFlowData:E,htmlText:c(A),htmlTextData:E,image:c(N),label:ee,labelText:P,lineEnding:D,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ie,resourceDestinationString:te,resourceTitleString:ne,resource:F,setextHeading:c(w),setextHeadingLineSequence:C,setextHeadingText:S,strong:c(),thematicBreak:c()}};bl(t,(e||{}).mdastExtensions||[]);let n={};return r;function r(e){let r={type:`root`,children:[]},a={stack:[r],tokenStack:[],config:t,enter:s,exit:l,buffer:o,resume:u,data:n},c=[],d=-1;for(;++d<e.length;)(e[d][1].type===`listOrdered`||e[d][1].type===`listUnordered`)&&(e[d][0]===`enter`?c.push(d):d=i(e,c.pop(),d));for(d=-1;++d<e.length;){let n=t[e[d][0]];gl.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){let e=a.tokenStack[a.tokenStack.length-1];(e[1]||Sl).call(a,void 0,e[0])}for(r.position={start:yl(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:yl(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r=t-1,i=-1,a=!1,o,s,c,l;for(;++r<=n;){let t=e[r];switch(t[1].type){case`listUnordered`:case`listOrdered`:case`blockQuote`:t[0]===`enter`?i++:i--,l=void 0;break;case`lineEndingBlank`:t[0]===`enter`&&(o&&!l&&!i&&!c&&(c=r),l=void 0);break;case`linePrefix`:case`listItemValue`:case`listItemMarker`:case`listItemPrefix`:case`listItemPrefixWhitespace`:break;default:l=void 0}if(!i&&t[0]===`enter`&&t[1].type===`listItemPrefix`||i===-1&&t[0]===`exit`&&(t[1].type===`listUnordered`||t[1].type===`listOrdered`)){if(o){let i=r;for(s=void 0;i--;){let t=e[i];if(t[1].type===`lineEnding`||t[1].type===`lineEndingBlank`){if(t[0]===`exit`)continue;s&&(e[s][1].type=`lineEndingBlank`,a=!0),t[1].type=`lineEnding`,s=i}else if(!(t[1].type===`linePrefix`||t[1].type===`blockQuotePrefix`||t[1].type===`blockQuotePrefixWhitespace`||t[1].type===`blockQuoteMarker`||t[1].type===`listItemIndent`))break}c&&(!s||c<s)&&(o._spread=!0),o.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||r,0,[`exit`,o,t[2]]),r++,n++}if(t[1].type===`listItemPrefix`){let i={type:`listItem`,_spread:!1,start:Object.assign({},t[1].start),end:void 0};o=i,e.splice(r,0,[`enter`,i,t[2]]),r++,n++,c=void 0,l=!0}}}return e[t][1]._spread=a,n}function a(e,t){return n;function n(n){s.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:`fragment`,children:[]})}function s(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:yl(t.start),end:void 0}}function c(e){return t;function t(t){e&&e.call(this,t),l.call(this,t)}}function l(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r)r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||Sl).call(this,e,r[0]));else throw Error("Cannot close `"+e.type+"` ("+Ha({start:e.start,end:e.end})+`): its not open`);n.position.end=yl(e.end)}function u(){return Do(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(e){if(this.data.expectingFirstListItemValue){let t=this.stack[this.stack.length-2];t.start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){let e=this.resume(),t=this.stack[this.stack.length-1];t.lang=e}function m(){let e=this.resume(),t=this.stack[this.stack.length-1];t.meta=e}function h(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,``),this.data.flowCodeInside=void 0}function _(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e.replace(/(\r?\n|\r)$/g,``)}function v(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Bo(this.sliceSerialize(e)).toLowerCase()}function y(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function b(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function x(e){let t=this.stack[this.stack.length-1];t.depth||=this.sliceSerialize(e).length}function S(){this.data.setextHeadingSlurpLineEnding=!0}function C(e){let t=this.stack[this.stack.length-1];t.depth=this.sliceSerialize(e).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function T(e){let t=this.stack[this.stack.length-1].children,n=t[t.length-1];(!n||n.type!==`text`)&&(n=ye(),n.position={start:yl(e.start),end:void 0},t.push(n)),this.stack.push(n)}function E(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=yl(e.end)}function D(e){let n=this.stack[this.stack.length-1];if(this.data.atHardBreak){let t=n.children[n.children.length-1];t.position.end=yl(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(T.call(this,e),E.call(this,e))}function O(){this.data.atHardBreak=!0}function k(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function A(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function j(){let e=this.resume(),t=this.stack[this.stack.length-1];t.value=e}function M(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||`shortcut`;e.type+=`Reference`,e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function N(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||`shortcut`;e.type+=`Reference`,e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=ml(t),n.identifier=Bo(t).toLowerCase()}function ee(){let e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];this.data.inReference=!0,n.type===`link`?n.children=e.children:n.alt=t}function te(){let e=this.resume(),t=this.stack[this.stack.length-1];t.url=e}function ne(){let e=this.resume(),t=this.stack[this.stack.length-1];t.title=e}function F(){this.data.inReference=void 0}function re(){this.data.referenceType=`collapsed`}function ie(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Bo(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType=`full`}function ae(e){this.data.characterReferenceType=e.type}function oe(e){let t=this.sliceSerialize(e),n=this.data.characterReferenceType,r;n?(r=zo(t,n===`characterReferenceMarkerNumeric`?10:16),this.data.characterReferenceType=void 0):r=Mo(t);let i=this.stack[this.stack.length-1];i.value+=r}function se(e){let t=this.stack.pop();t.position.end=yl(e.end)}function ce(e){E.call(this,e);let t=this.stack[this.stack.length-1];t.url=this.sliceSerialize(e)}function le(e){E.call(this,e);let t=this.stack[this.stack.length-1];t.url=`mailto:`+this.sliceSerialize(e)}function I(){return{type:`blockquote`,children:[]}}function ue(){return{type:`code`,lang:null,meta:null,value:``}}function de(){return{type:`inlineCode`,value:``}}function L(){return{type:`definition`,identifier:``,label:null,title:null,url:``}}function R(){return{type:`emphasis`,children:[]}}function fe(){return{type:`heading`,depth:0,children:[]}}function z(){return{type:`break`}}function pe(){return{type:`html`,value:``}}function B(){return{type:`image`,title:null,url:``,alt:null}}function me(){return{type:`link`,title:null,url:``,children:[]}}function he(e){return{type:`list`,ordered:e.type===`listOrdered`,start:null,spread:e._spread,children:[]}}function ge(e){return{type:`listItem`,spread:e._spread,checked:null,children:[]}}function _e(){return{type:`paragraph`,children:[]}}function ve(){return{type:`strong`,children:[]}}function ye(){return{type:`text`,value:``}}function V(){return{type:`thematicBreak`}}}function yl(e){return{line:e.line,column:e.column,offset:e.offset}}function bl(e,t){let n=-1;for(;++n<t.length;){let r=t[n];Array.isArray(r)?bl(e,r):xl(e,r)}}function xl(e,t){let n;for(n in t)if(gl.call(t,n))switch(n){case`canContainEols`:{let r=t[n];r&&e[n].push(...r);break}case`transforms`:{let r=t[n];r&&e[n].push(...r);break}case`enter`:case`exit`:{let r=t[n];r&&Object.assign(e[n],r);break}}}function Sl(e,t){throw e?Error("Cannot close `"+e.type+"` ("+Ha({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ha({start:t.start,end:t.end})+`) is open`):Error("Cannot close document, a token (`"+t.type+"`, "+Ha({start:t.start,end:t.end})+`) is still open`)}function Cl(e){let t=this;t.parser=n;function n(n){return _l(n,{...t.data(`settings`),...e,extensions:t.data(`micromarkExtensions`)||[],mdastExtensions:t.data(`fromMarkdownExtensions`)||[]})}}function wl(e,t){let n=String(e);if(typeof t!=`string`)throw TypeError(`Expected character`);let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Tl(e){if(typeof e!=`string`)throw TypeError(`Expected a string`);return e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`)}const El=(function(e){if(e==null)return jl;if(typeof e==`function`)return Al(e);if(typeof e==`object`)return Array.isArray(e)?Dl(e):Ol(e);if(typeof e==`string`)return kl(e);throw Error(`Expected function, string, or object as test`)});function Dl(e){let t=[],n=-1;for(;++n<e.length;)t[n]=El(e[n]);return Al(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}function Ol(e){let t=e;return Al(n);function n(n){let r=n,i;for(i in e)if(r[i]!==t[i])return!1;return!0}}function kl(e){return Al(t);function t(t){return t&&t.type===e}}function Al(e){return t;function t(t,n,r){return!!(Ml(t)&&e.call(this,t,typeof n==`number`?n:void 0,r||void 0))}}function jl(){return!0}function Ml(e){return typeof e==`object`&&!!e&&`type`in e}function Nl(e){return e}var Pl=[];function Fl(e,t,n,r){let i;typeof t==`function`&&typeof n!=`function`?(r=n,n=t):i=t;let a=El(i),o=r?-1:1;s(e,void 0,[])();function s(e,i,c){let l=e&&typeof e==`object`?e:{};if(typeof l.type==`string`){let t=typeof l.tagName==`string`?l.tagName:typeof l.name==`string`?l.name:void 0;Object.defineProperty(u,`name`,{value:`node (`+Nl(e.type+(t?`<`+t+`>`:``))+`)`})}return u;function u(){let l=Pl,u,d,f;if((!t||a(e,i,c[c.length-1]||void 0))&&(l=Il(n(e,c)),l[0]===!1))return l;if(`children`in e&&e.children){let t=e;if(t.children&&l[0]!==`skip`)for(d=(r?t.children.length:-1)+o,f=c.concat(t);d>-1&&d<t.children.length;){let e=t.children[d];if(u=s(e,d,f)(),u[0]===!1)return u;d=typeof u[1]==`number`?u[1]:d+o}}return l}}}function Il(e){return Array.isArray(e)?e:typeof e==`number`?[!0,e]:e==null?Pl:[e]}function Ll(e,t,n){let r=El((n||{}).ignore||[]),i=Rl(t),a=-1;for(;++a<i.length;)Fl(e,`text`,o);function o(e,t){let n=-1,i;for(;++n<t.length;){let e=t[n],a=i?i.children:void 0;if(r(e,a?a.indexOf(e):void 0,i))return;i=e}if(i)return s(e,t)}function s(e,t){let n=t[t.length-1],r=i[a][0],o=i[a][1],s=0,c=n.children.indexOf(e),l=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){let n=d.index,i={index:d.index,input:d.input,stack:[...t,e]},a=o(...d,i);if(typeof a==`string`&&(a=a.length>0?{type:`text`,value:a}:void 0),a===!1?r.lastIndex=n+1:(s!==n&&u.push({type:`text`,value:e.value.slice(s,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),s=n+d[0].length,l=!0),!r.global)break;d=r.exec(e.value)}return l?(s<e.value.length&&u.push({type:`text`,value:e.value.slice(s)}),n.children.splice(c,1,...u)):u=[e],c+u.length}}function Rl(e){let t=[];if(!Array.isArray(e))throw TypeError(`Expected find and replace tuple or list of tuples`);let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){let e=n[r];t.push([zl(e[0]),Bl(e[1])])}return t}function zl(e){return typeof e==`string`?new RegExp(Tl(e),`g`):e}function Bl(e){return typeof e==`function`?e:function(){return e}}var Vl=`phrasing`,Hl=[`autolink`,`link`,`image`,`label`];function Ul(){return{transforms:[Zl],enter:{literalAutolink:Gl,literalAutolinkEmail:Kl,literalAutolinkHttp:Kl,literalAutolinkWww:Kl},exit:{literalAutolink:Xl,literalAutolinkEmail:Yl,literalAutolinkHttp:ql,literalAutolinkWww:Jl}}}function Wl(){return{unsafe:[{character:`@`,before:`[+\\-.\\w]`,after:`[\\-.\\w]`,inConstruct:Vl,notInConstruct:Hl},{character:`.`,before:`[Ww]`,after:`[\\-.\\w]`,inConstruct:Vl,notInConstruct:Hl},{character:`:`,before:`[ps]`,after:`\\/`,inConstruct:Vl,notInConstruct:Hl}]}}function Gl(e){this.enter({type:`link`,title:null,url:``,children:[]},e)}function Kl(e){this.config.enter.autolinkProtocol.call(this,e)}function ql(e){this.config.exit.autolinkProtocol.call(this,e)}function Jl(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];t.type,t.url=`http://`+this.sliceSerialize(e)}function Yl(e){this.config.exit.autolinkEmail.call(this,e)}function Xl(e){this.exit(e)}function Zl(e){Ll(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ql],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,$l]],{ignore:[`link`,`linkReference`]})}function Ql(e,t,n,r,i){let a=``;if(!nu(i)||(/^w/i.test(t)&&(n=t+n,t=``,a=`http://`),!eu(n)))return!1;let o=tu(n+r);if(!o[0])return!1;let s={type:`link`,title:null,url:a+t+o[0],children:[{type:`text`,value:t+o[0]}]};return o[1]?[s,{type:`text`,value:o[1]}]:s}function $l(e,t,n,r){return!nu(r,!0)||/[-\d_]$/.test(n)?!1:{type:`link`,title:null,url:`mailto:`+t+`@`+n,children:[{type:`text`,value:t+`@`+n}]}}function eu(e){let t=e.split(`.`);return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function tu(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(`)`),i=wl(e,`(`),a=wl(e,`)`);for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(`)`),a++;return[e,n]}function nu(e,t){let n=e.input.charCodeAt(e.index-1);return(e.index===0||Yo(n)||Jo(n))&&(!t||n!==47)}fu.peek=du;function ru(){this.buffer()}function iu(e){this.enter({type:`footnoteReference`,identifier:``,label:``},e)}function au(){this.buffer()}function ou(e){this.enter({type:`footnoteDefinition`,identifier:``,label:``,children:[]},e)}function su(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function cu(e){this.exit(e)}function lu(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function uu(e){this.exit(e)}function du(){return`[`}function fu(e,t,n,r){let i=n.createTracker(r),a=i.move(`[^`),o=n.enter(`footnoteReference`),s=n.enter(`reference`);return a+=i.move(n.safe(n.associationId(e),{after:`]`,before:a})),s(),o(),a+=i.move(`]`),a}function pu(){return{enter:{gfmFootnoteCallString:ru,gfmFootnoteCall:iu,gfmFootnoteDefinitionLabelString:au,gfmFootnoteDefinition:ou},exit:{gfmFootnoteCallString:su,gfmFootnoteCall:cu,gfmFootnoteDefinitionLabelString:lu,gfmFootnoteDefinition:uu}}}function mu(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:fu},unsafe:[{character:`[`,inConstruct:[`label`,`phrasing`,`reference`]}]};function n(e,n,r,i){let a=r.createTracker(i),o=a.move(`[^`),s=r.enter(`footnoteDefinition`),c=r.enter(`label`);return o+=a.move(r.safe(r.associationId(e),{before:o,after:`]`})),c(),o+=a.move(`]:`),e.children&&e.children.length>0&&(a.shift(4),o+=a.move((t?`
`:` `)+r.indentLines(r.containerFlow(e,a.current()),t?gu:hu))),s(),o}}function hu(e,t,n){return t===0?e:gu(e,t,n)}function gu(e,t,n){return(n?``:`    `)+e}var _u=[`autolink`,`destinationLiteral`,`destinationRaw`,`reference`,`titleQuote`,`titleApostrophe`];Su.peek=Cu;function vu(){return{canContainEols:[`delete`],enter:{strikethrough:bu},exit:{strikethrough:xu}}}function yu(){return{unsafe:[{character:`~`,inConstruct:`phrasing`,notInConstruct:_u}],handlers:{delete:Su}}}function bu(e){this.enter({type:`delete`,children:[]},e)}function xu(e){this.exit(e)}function Su(e,t,n,r){let i=n.createTracker(r),a=n.enter(`strikethrough`),o=i.move(`~~`);return o+=n.containerPhrasing(e,{...i.current(),before:o,after:`~`}),o+=i.move(`~~`),a(),o}function Cu(){return`~`}function wu(e){return e.length}function Tu(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||wu,a=[],o=[],s=[],c=[],l=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>l&&(l=e[u].length);++a<e[u].length;){let o=Eu(e[u][a]);if(n.alignDelimiters!==!1){let e=i(o);r[a]=e,(c[a]===void 0||e>c[a])&&(c[a]=e)}t.push(o)}o[u]=t,s[u]=r}let d=-1;if(typeof r==`object`&&`length`in r)for(;++d<l;)a[d]=Du(r[d]);else{let e=Du(r);for(;++d<l;)a[d]=e}d=-1;let f=[],p=[];for(;++d<l;){let e=a[d],t=``,r=``;e===99?(t=`:`,r=`:`):e===108?t=`:`:e===114&&(r=`:`);let i=n.alignDelimiters===!1?1:Math.max(1,c[d]-t.length-r.length),o=t+`-`.repeat(i)+r;n.alignDelimiters!==!1&&(i=t.length+i+r.length,i>c[d]&&(c[d]=i),p[d]=i),f[d]=o}o.splice(1,0,f),s.splice(1,0,p),u=-1;let m=[];for(;++u<o.length;){let e=o[u],t=s[u];d=-1;let r=[];for(;++d<l;){let i=e[d]||``,o=``,s=``;if(n.alignDelimiters!==!1){let e=c[d]-(t[d]||0),n=a[d];n===114?o=` `.repeat(e):n===99?e%2?(o=` `.repeat(e/2+.5),s=` `.repeat(e/2-.5)):(o=` `.repeat(e/2),s=o):s=` `.repeat(e)}n.delimiterStart!==!1&&!d&&r.push(`|`),n.padding!==!1&&!(n.alignDelimiters===!1&&i===``)&&(n.delimiterStart!==!1||d)&&r.push(` `),n.alignDelimiters!==!1&&r.push(o),r.push(i),n.alignDelimiters!==!1&&r.push(s),n.padding!==!1&&r.push(` `),(n.delimiterEnd!==!1||d!==l-1)&&r.push(`|`)}m.push(n.delimiterEnd===!1?r.join(``).replace(/ +$/,``):r.join(``))}return m.join(`
`)}function Eu(e){return e==null?``:String(e)}function Du(e){let t=typeof e==`string`?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}var Ou={}.hasOwnProperty;function ku(e,t){let n=t||{};function r(t,...n){let i=r.invalid,a=r.handlers;if(t&&Ou.call(t,e)){let n=String(t[e]);i=Ou.call(a,n)?a[n]:r.unknown}if(i)return i.call(this,t,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function Au(e,t,n,r){let i=n.enter(`blockquote`),a=n.createTracker(r);a.move(`> `),a.shift(2);let o=n.indentLines(n.containerFlow(e,a.current()),ju);return i(),o}function ju(e,t,n){return`>`+(n?``:` `)+e}function Mu(e,t){return Nu(e,t.inConstruct,!0)&&!Nu(e,t.notInConstruct,!1)}function Nu(e,t,n){if(typeof t==`string`&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Pu(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Mu(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?``:` `;return`\\
`}function Fu(e,t){let n=String(e),r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!=`string`)throw TypeError(`Expected substring`);for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function Iu(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Lu(e){let t=e.options.fence||"`";if(t!=="`"&&t!==`~`)throw Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ru(e,t,n,r){let i=Lu(n),a=e.value||``,o=i==="`"?`GraveAccent`:`Tilde`;if(Iu(e,n)){let e=n.enter(`codeIndented`),t=n.indentLines(a,zu);return e(),t}let s=n.createTracker(r),c=i.repeat(Math.max(Fu(a,i)+1,3)),l=n.enter(`codeFenced`),u=s.move(c);if(e.lang){let t=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:` `,encode:["`"],...s.current()})),t()}if(e.lang&&e.meta){let t=n.enter(`codeFencedMeta${o}`);u+=s.move(` `),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),t()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(c),l(),u}function zu(e,t,n){return(n?``:`    `)+e}function Bu(e){let t=e.options.quote||`"`;if(t!==`"`&&t!==`'`)throw Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Vu(e,t,n,r){let i=Bu(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`definition`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`[`);return l+=c.move(n.safe(n.associationId(e),{before:l,after:`]`,...c.current()})),l+=c.move(`]: `),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`
`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),o(),l}function Hu(e){let t=e.options.emphasis||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Uu(e){return`&#x`+e.toString(16).toUpperCase()+`;`}function Wu(e,t,n){let r=is(e),i=is(t);return r===void 0?i===void 0?n===`_`?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Gu.peek=Ku;function Gu(e,t,n,r){let i=Hu(n),a=n.enter(`emphasis`),o=n.createTracker(r),s=o.move(i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Wu(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Uu(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Wu(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Uu(d));let p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function Ku(e,t,n){return n.options.emphasis||`*`}function qu(e,t,n,r){let i,a,o;typeof t==`function`&&typeof n!=`function`?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Fl(e,a,s,i);function s(e,t){let n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)}}function Ju(e,t){let n=!1;return qu(e,function(e){if(`value`in e&&/\r?\n|\r/.test(e.value)||e.type===`break`)return n=!0,!1}),!!((!e.depth||e.depth<3)&&Do(e)&&(t.options.setext||n))}function Yu(e,t,n,r){let i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Ju(e,n)){let t=n.enter(`headingSetext`),r=n.enter(`phrasing`),o=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return r(),t(),o+`
`+(i===1?`=`:`-`).repeat(o.length-(Math.max(o.lastIndexOf(`\r`),o.lastIndexOf(`
`))+1))}let o=`#`.repeat(i),s=n.enter(`headingAtx`),c=n.enter(`phrasing`);a.move(o+` `);let l=n.containerPhrasing(e,{before:`# `,after:`
`,...a.current()});return/^[\t ]/.test(l)&&(l=Uu(l.charCodeAt(0))+l.slice(1)),l=l?o+` `+l:o,n.options.closeAtx&&(l+=` `+o),c(),s(),l}Xu.peek=Zu;function Xu(e){return e.value||``}function Zu(){return`<`}Qu.peek=$u;function Qu(e,t,n,r){let i=Bu(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.enter(`image`),s=n.enter(`label`),c=n.createTracker(r),l=c.move(`![`);return l+=c.move(n.safe(e.alt,{before:l,after:`]`,...c.current()})),l+=c.move(`](`),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter(`destinationLiteral`),l+=c.move(`<`),l+=c.move(n.safe(e.url,{before:l,after:`>`,...c.current()})),l+=c.move(`>`)):(s=n.enter(`destinationRaw`),l+=c.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...c.current()}))),s(),e.title&&(s=n.enter(`title${a}`),l+=c.move(` `+i),l+=c.move(n.safe(e.title,{before:l,after:i,...c.current()})),l+=c.move(i),s()),l+=c.move(`)`),o(),l}function $u(){return`!`}ed.peek=td;function ed(e,t,n,r){let i=e.referenceType,a=n.enter(`imageReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`![`),l=n.safe(e.alt,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function td(){return`!`}nd.peek=rd;function nd(e,t,n){let r=e.value||``,i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=` `+r+` `);++a<n.unsafe.length;){let e=n.unsafe[a],t=n.compilePattern(e),i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;r.charCodeAt(e)===10&&r.charCodeAt(e-1)===13&&e--,r=r.slice(0,e)+` `+r.slice(i.index+1)}}return i+r+i}function rd(){return"`"}function id(e,t){let n=Do(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type===`text`&&(n===e.url||`mailto:`+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ad.peek=od;function ad(e,t,n,r){let i=Bu(n),a=i===`"`?`Quote`:`Apostrophe`,o=n.createTracker(r),s,c;if(id(e,n)){let t=n.stack;n.stack=[],s=n.enter(`autolink`);let r=o.move(`<`);return r+=o.move(n.containerPhrasing(e,{before:r,after:`>`,...o.current()})),r+=o.move(`>`),s(),n.stack=t,r}s=n.enter(`link`),c=n.enter(`label`);let l=o.move(`[`);return l+=o.move(n.containerPhrasing(e,{before:l,after:`](`,...o.current()})),l+=o.move(`](`),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter(`destinationLiteral`),l+=o.move(`<`),l+=o.move(n.safe(e.url,{before:l,after:`>`,...o.current()})),l+=o.move(`>`)):(c=n.enter(`destinationRaw`),l+=o.move(n.safe(e.url,{before:l,after:e.title?` `:`)`,...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),l+=o.move(` `+i),l+=o.move(n.safe(e.title,{before:l,after:i,...o.current()})),l+=o.move(i),c()),l+=o.move(`)`),s(),l}function od(e,t,n){return id(e,n)?`<`:`[`}sd.peek=cd;function sd(e,t,n,r){let i=e.referenceType,a=n.enter(`linkReference`),o=n.enter(`label`),s=n.createTracker(r),c=s.move(`[`),l=n.containerPhrasing(e,{before:c,after:`]`,...s.current()});c+=s.move(l+`][`),o();let u=n.stack;n.stack=[],o=n.enter(`reference`);let d=n.safe(n.associationId(e),{before:c,after:`]`,...s.current()});return o(),n.stack=u,a(),i===`full`||!l||l!==d?c+=s.move(d+`]`):i===`shortcut`?c=c.slice(0,-1):c+=s.move(`]`),c}function cd(){return`[`}function ld(e){let t=e.options.bullet||`*`;if(t!==`*`&&t!==`+`&&t!==`-`)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ud(e){let t=ld(e),n=e.options.bulletOther;if(!n)return t===`*`?`-`:`*`;if(n!==`*`&&n!==`+`&&n!==`-`)throw Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function dd(e){let t=e.options.bulletOrdered||`.`;if(t!==`.`&&t!==`)`)throw Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function fd(e){let t=e.options.rule||`*`;if(t!==`*`&&t!==`-`&&t!==`_`)throw Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function pd(e,t,n,r){let i=n.enter(`list`),a=n.bulletCurrent,o=e.ordered?dd(n):ld(n),s=e.ordered?o===`.`?`)`:`.`:ud(n),c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){let t=e.children?e.children[0]:void 0;if((o===`*`||o===`-`)&&t&&(!t.children||!t.children[0])&&n.stack[n.stack.length-1]===`list`&&n.stack[n.stack.length-2]===`listItem`&&n.stack[n.stack.length-3]===`list`&&n.stack[n.stack.length-4]===`listItem`&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),fd(n)===o&&t){let t=-1;for(;++t<e.children.length;){let n=e.children[t];if(n&&n.type===`listItem`&&n.children&&n.children[0]&&n.children[0].type===`thematicBreak`){c=!0;break}}}}c&&(o=s),n.bulletCurrent=o;let l=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),l}function md(e){let t=e.options.listItemIndent||`one`;if(t!==`tab`&&t!==`one`&&t!==`mixed`)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function hd(e,t,n,r){let i=md(n),a=n.bulletCurrent||ld(n);t&&t.type===`list`&&t.ordered&&(a=(typeof t.start==`number`&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i===`tab`||i===`mixed`&&(t&&t.type===`list`&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);let s=n.createTracker(r);s.move(a+` `.repeat(o-a.length)),s.shift(o);let c=n.enter(`listItem`),l=n.indentLines(n.containerFlow(e,s.current()),u);return c(),l;function u(e,t,n){return t?(n?``:` `.repeat(o))+e:(n?a:a+` `.repeat(o-a.length))+e}}function gd(e,t,n,r){let i=n.enter(`paragraph`),a=n.enter(`phrasing`),o=n.containerPhrasing(e,r);return a(),i(),o}const _d=El([`break`,`delete`,`emphasis`,`footnote`,`footnoteReference`,`image`,`imageReference`,`inlineCode`,`inlineMath`,`link`,`linkReference`,`mdxJsxTextElement`,`mdxTextExpression`,`strong`,`text`,`textDirective`]);function vd(e,t,n,r){return(e.children.some(function(e){return _d(e)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function yd(e){let t=e.options.strong||`*`;if(t!==`*`&&t!==`_`)throw Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bd.peek=xd;function bd(e,t,n,r){let i=yd(n),a=n.enter(`strong`),o=n.createTracker(r),s=o.move(i+i),c=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()})),l=c.charCodeAt(0),u=Wu(r.before.charCodeAt(r.before.length-1),l,i);u.inside&&(c=Uu(l)+c.slice(1));let d=c.charCodeAt(c.length-1),f=Wu(r.after.charCodeAt(0),d,i);f.inside&&(c=c.slice(0,-1)+Uu(d));let p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},s+c+p}function xd(e,t,n){return n.options.strong||`*`}function Sd(e,t,n,r){return n.safe(e.value,r)}function Cd(e){let t=e.options.ruleRepetition||3;if(t<3)throw Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function wd(e,t,n){let r=(fd(n)+(n.options.ruleSpaces?` `:``)).repeat(Cd(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Td={blockquote:Au,break:Pu,code:Ru,definition:Vu,emphasis:Gu,hardBreak:Pu,heading:Yu,html:Xu,image:Qu,imageReference:ed,inlineCode:nd,link:ad,linkReference:sd,list:pd,listItem:hd,paragraph:gd,root:vd,strong:bd,text:Sd,thematicBreak:wd};function Ed(){return{enter:{table:Dd,tableData:jd,tableHeader:jd,tableRow:kd},exit:{codeText:Md,table:Od,tableData:Ad,tableHeader:Ad,tableRow:Ad}}}function Dd(e){let t=e._align;this.enter({type:`table`,align:t.map(function(e){return e===`none`?null:e}),children:[]},e),this.data.inTable=!0}function Od(e){this.exit(e),this.data.inTable=void 0}function kd(e){this.enter({type:`tableRow`,children:[]},e)}function Ad(e){this.exit(e)}function jd(e){this.enter({type:`tableCell`,children:[]},e)}function Md(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Nd));let n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Nd(e,t){return t===`|`?t:e}function Pd(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?` `:`|`;return{unsafe:[{character:`\r`,inConstruct:`tableCell`},{character:`
`,inConstruct:`tableCell`},{atBreak:!0,character:`|`,after:`[	 :-]`},{character:`|`,inConstruct:`tableCell`},{atBreak:!0,character:`:`,after:`-`},{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{inlineCode:f,table:o,tableCell:c,tableRow:s}};function o(e,t,n,r){return l(u(e,n,r),e.align)}function s(e,t,n,r){let i=l([d(e,n,r)]);return i.slice(0,i.indexOf(`
`))}function c(e,t,n,r){let i=n.enter(`tableCell`),o=n.enter(`phrasing`),s=n.containerPhrasing(e,{...r,before:a,after:a});return o(),i(),s}function l(e,t){return Tu(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function u(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`table`);for(;++i<r.length;)a[i]=d(r[i],t,n);return o(),a}function d(e,t,n){let r=e.children,i=-1,a=[],o=t.enter(`tableRow`);for(;++i<r.length;)a[i]=c(r[i],e,t,n);return o(),a}function f(e,t,n){let r=Td.inlineCode(e,t,n);return n.stack.includes(`tableCell`)&&(r=r.replace(/\|/g,`\\$&`)),r}}function Fd(){return{exit:{taskListCheckValueChecked:Ld,taskListCheckValueUnchecked:Ld,paragraph:Rd}}}function Id(){return{unsafe:[{atBreak:!0,character:`-`,after:`[:|-]`}],handlers:{listItem:zd}}}function Ld(e){let t=this.stack[this.stack.length-2];t.type,t.checked=e.type===`taskListCheckValueChecked`}function Rd(e){let t=this.stack[this.stack.length-2];if(t&&t.type===`listItem`&&typeof t.checked==`boolean`){let e=this.stack[this.stack.length-1];e.type;let n=e.children[0];if(n&&n.type===`text`){let r=t.children,i=-1,a;for(;++i<r.length;){let e=r[i];if(e.type===`paragraph`){a=e;break}}a===e&&(n.value=n.value.slice(1),n.value.length===0?e.children.shift():e.position&&n.position&&typeof n.position.start.offset==`number`&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function zd(e,t,n,r){let i=e.children[0],a=typeof e.checked==`boolean`&&i&&i.type===`paragraph`,o=`[`+(e.checked?`x`:` `)+`] `,s=n.createTracker(r);a&&s.move(o);let c=Td.listItem(e,t,n,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),c;function l(e){return e+o}}function Bd(){return[Ul(),pu(),vu(),Ed(),Fd()]}function Vd(e){return{extensions:[Wl(),mu(e),yu(),Pd(e),Id()]}}var Hd={tokenize:nf,partial:!0},Ud={tokenize:rf,partial:!0},Wd={tokenize:af,partial:!0},Gd={tokenize:of,partial:!0},Kd={tokenize:sf,partial:!0},qd={name:`wwwAutolink`,tokenize:ef,previous:cf},Jd={name:`protocolAutolink`,tokenize:tf,previous:lf},Yd={name:`emailAutolink`,tokenize:$d,previous:uf},Xd={};function Zd(){return{text:Xd}}for(var Qd=48;Qd<123;)Xd[Qd]=Yd,Qd++,Qd===58?Qd=65:Qd===91&&(Qd=97);Xd[43]=Yd,Xd[45]=Yd,Xd[46]=Yd,Xd[95]=Yd,Xd[72]=[Yd,Jd],Xd[104]=[Yd,Jd],Xd[87]=[Yd,qd],Xd[119]=[Yd,qd];function $d(e,t,n){let r=this,i,a;return o;function o(t){return!df(t)||!uf.call(r,r.previous)||ff(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkEmail`),s(t))}function s(t){return df(t)?(e.consume(t),s):t===64?(e.consume(t),c):n(t)}function c(t){return t===46?e.check(Kd,u,l)(t):t===45||t===95||Ho(t)?(a=!0,e.consume(t),c):u(t)}function l(t){return e.consume(t),i=!0,c}function u(o){return a&&i&&Vo(r.previous)?(e.exit(`literalAutolinkEmail`),e.exit(`literalAutolink`),t(o)):n(o)}}function ef(e,t,n){let r=this;return i;function i(t){return t!==87&&t!==119||!cf.call(r,r.previous)||ff(r.events)?n(t):(e.enter(`literalAutolink`),e.enter(`literalAutolinkWww`),e.check(Hd,e.attempt(Ud,e.attempt(Wd,a),n),n)(t))}function a(n){return e.exit(`literalAutolinkWww`),e.exit(`literalAutolink`),t(n)}}function tf(e,t,n){let r=this,i=``,a=!1;return o;function o(t){return(t===72||t===104)&&lf.call(r,r.previous)&&!ff(r.events)?(e.enter(`literalAutolink`),e.enter(`literalAutolinkHttp`),i+=String.fromCodePoint(t),e.consume(t),s):n(t)}function s(t){if(Vo(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(t===58){let n=i.toLowerCase();if(n===`http`||n===`https`)return e.consume(t),c}return n(t)}function c(t){return t===47?(e.consume(t),a?l:(a=!0,c)):n(t)}function l(t){return t===null||Wo(t)||G(t)||Yo(t)||Jo(t)?n(t):e.attempt(Ud,e.attempt(Wd,u),n)(t)}function u(n){return e.exit(`literalAutolinkHttp`),e.exit(`literalAutolink`),t(n)}}function nf(e,t,n){let r=0;return i;function i(t){return(t===87||t===119)&&r<3?(r++,e.consume(t),i):t===46&&r===3?(e.consume(t),a):n(t)}function a(e){return e===null?n(e):t(e)}}function rf(e,t,n){let r,i,a;return o;function o(t){return t===46||t===95?e.check(Gd,c,s)(t):t===null||G(t)||Yo(t)||t!==45&&Jo(t)?c(t):(a=!0,e.consume(t),o)}function s(t){return t===95?r=!0:(i=r,r=void 0),e.consume(t),o}function c(e){return i||r||!a?n(e):t(e)}}function af(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Gd,t,a)(o):o===null||G(o)||Yo(o)?t(o):(e.consume(o),i)}function a(t){return t===41&&r++,e.consume(t),i}}function of(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||G(o)||Yo(o)?t(o):n(o)}function i(e){return e===null||e===40||e===91||G(e)||Yo(e)?t(e):r(e)}function a(e){return Vo(e)?o(e):n(e)}function o(t){return t===59?(e.consume(t),r):Vo(t)?(e.consume(t),o):n(t)}}function sf(e,t,n){return r;function r(t){return e.consume(t),i}function i(e){return Ho(e)?n(e):t(e)}}function cf(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||G(e)}function lf(e){return!Vo(e)}function uf(e){return!(e===47||df(e))}function df(e){return e===43||e===45||e===46||e===95||Ho(e)}function ff(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if((r.type===`labelLink`||r.type===`labelImage`)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}var pf={tokenize:xf,partial:!0};function mf(){return{document:{91:{name:`gfmFootnoteDefinition`,tokenize:vf,continuation:{tokenize:yf},exit:bf}},text:{91:{name:`gfmFootnoteCall`,tokenize:_f},93:{name:`gfmPotentialFootnoteCall`,add:`after`,tokenize:hf,resolveTo:gf}}}}function hf(e,t,n){let r=this,i=r.events.length,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),o;for(;i--;){let e=r.events[i][1];if(e.type===`labelImage`){o=e;break}if(e.type===`gfmFootnoteCall`||e.type===`labelLink`||e.type===`label`||e.type===`image`||e.type===`link`)break}return s;function s(i){if(!o||!o._balanced)return n(i);let s=Bo(r.sliceSerialize({start:o.end,end:r.now()}));return s.codePointAt(0)!==94||!a.includes(s.slice(1))?n(i):(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(i),e.exit(`gfmFootnoteCallLabelMarker`),t(i))}}function gf(e,t){let n=e.length;for(;n--;)if(e[n][1].type===`labelImage`&&e[n][0]===`enter`){e[n][1];break}e[n+1][1].type=`data`,e[n+3][1].type=`gfmFootnoteCallLabelMarker`;let r={type:`gfmFootnoteCall`,start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:`gfmFootnoteCallMarker`,start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let a={type:`gfmFootnoteCallString`,start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:`chunkString`,contentType:`string`,start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],[`enter`,r,t],e[n+3],e[n+4],[`enter`,i,t],[`exit`,i,t],[`enter`,a,t],[`enter`,o,t],[`exit`,o,t],[`exit`,a,t],e[e.length-2],e[e.length-1],[`exit`,r,t]];return e.splice(n,e.length-n+1,...s),e}function _f(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a=0,o;return s;function s(t){return e.enter(`gfmFootnoteCall`),e.enter(`gfmFootnoteCallLabelMarker`),e.consume(t),e.exit(`gfmFootnoteCallLabelMarker`),c}function c(t){return t===94?(e.enter(`gfmFootnoteCallMarker`),e.consume(t),e.exit(`gfmFootnoteCallMarker`),e.enter(`gfmFootnoteCallString`),e.enter(`chunkString`).contentType=`string`,l):n(t)}function l(s){if(a>999||s===93&&!o||s===null||s===91||G(s))return n(s);if(s===93){e.exit(`chunkString`);let a=e.exit(`gfmFootnoteCallString`);return i.includes(Bo(r.sliceSerialize(a)))?(e.enter(`gfmFootnoteCallLabelMarker`),e.consume(s),e.exit(`gfmFootnoteCallLabelMarker`),e.exit(`gfmFootnoteCall`),t):n(s)}return G(s)||(o=!0),a++,e.consume(s),s===92?u:l}function u(t){return t===91||t===92||t===93?(e.consume(t),a++,l):l(t)}}function vf(e,t,n){let r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]),a,o=0,s;return c;function c(t){return e.enter(`gfmFootnoteDefinition`)._container=!0,e.enter(`gfmFootnoteDefinitionLabel`),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),l}function l(t){return t===94?(e.enter(`gfmFootnoteDefinitionMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionMarker`),e.enter(`gfmFootnoteDefinitionLabelString`),e.enter(`chunkString`).contentType=`string`,u):n(t)}function u(t){if(o>999||t===93&&!s||t===null||t===91||G(t))return n(t);if(t===93){e.exit(`chunkString`);let n=e.exit(`gfmFootnoteDefinitionLabelString`);return a=Bo(r.sliceSerialize(n)),e.enter(`gfmFootnoteDefinitionLabelMarker`),e.consume(t),e.exit(`gfmFootnoteDefinitionLabelMarker`),e.exit(`gfmFootnoteDefinitionLabel`),f}return G(t)||(s=!0),o++,e.consume(t),t===92?d:u}function d(t){return t===91||t===92||t===93?(e.consume(t),o++,u):u(t)}function f(t){return t===58?(e.enter(`definitionMarker`),e.consume(t),e.exit(`definitionMarker`),i.includes(a)||i.push(a),q(e,p,`gfmFootnoteDefinitionWhitespace`)):n(t)}function p(e){return t(e)}}function yf(e,t,n){return e.check(fs,t,e.attempt(pf,t,n))}function bf(e){e.exit(`gfmFootnoteDefinition`)}function xf(e,t,n){let r=this;return q(e,i,`gfmFootnoteDefinitionIndent`,5);function i(e){let i=r.events[r.events.length-1];return i&&i[1].type===`gfmFootnoteDefinitionIndent`&&i[2].sliceSerialize(i[1],!0).length===4?t(e):n(e)}}function Sf(e){let t=(e||{}).singleTilde,n={name:`strikethrough`,tokenize:i,resolveAll:r};return t??=!0,{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(e,t){let n=-1;for(;++n<e.length;)if(e[n][0]===`enter`&&e[n][1].type===`strikethroughSequenceTemporary`&&e[n][1]._close){let r=n;for(;r--;)if(e[r][0]===`exit`&&e[r][1].type===`strikethroughSequenceTemporary`&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type=`strikethroughSequence`,e[r][1].type=`strikethroughSequence`;let i={type:`strikethrough`,start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:`strikethroughText`,start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o=[[`enter`,i,t],[`enter`,e[r][1],t],[`exit`,e[r][1],t],[`enter`,a,t]],s=t.parser.constructs.insideSpan.null;s&&No(o,o.length,0,as(s,e.slice(r+1,n),t)),No(o,o.length,0,[[`exit`,a,t],[`enter`,e[n][1],t],[`exit`,e[n][1],t],[`exit`,i,t]]),No(e,r-1,n-r+3,o),n=r+o.length-2;break}}for(n=-1;++n<e.length;)e[n][1].type===`strikethroughSequenceTemporary`&&(e[n][1].type=`data`);return e}function i(e,n,r){let i=this.previous,a=this.events,o=0;return s;function s(t){return i===126&&a[a.length-1][1].type!==`characterEscape`?r(t):(e.enter(`strikethroughSequenceTemporary`),c(t))}function c(a){let s=is(i);if(a===126)return o>1?r(a):(e.consume(a),o++,c);if(o<2&&!t)return r(a);let l=e.exit(`strikethroughSequenceTemporary`),u=is(a);return l._open=!u||u===2&&!!s,l._close=!s||s===2&&!!u,n(a)}}}var Cf=class{constructor(){this.map=[]}add(e,t,n){wf(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),this.map.length===0)return;let t=this.map.length,n=[];for(;t>0;)--t,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}};function wf(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Tf(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if(i[0]===`enter`)i[1].type===`tableContent`&&r.push(e[t+1][1].type===`tableDelimiterMarker`?`left`:`none`);else if(i[1].type===`tableContent`){if(e[t-1][1].type===`tableDelimiterMarker`){let e=r.length-1;r[e]=r[e]===`left`?`center`:`right`}}else if(i[1].type===`tableDelimiterRow`)break}else i[0]===`enter`&&i[1].type===`tableDelimiterRow`&&(n=!0);t+=1}return r}function Ef(){return{flow:{null:{name:`table`,tokenize:Df,resolveAll:Of}}}}function Df(e,t,n){let r=this,i=0,a=0,o;return s;function s(e){let t=r.events.length-1;for(;t>-1;){let e=r.events[t][1].type;if(e===`lineEnding`||e===`linePrefix`)t--;else break}let i=t>-1?r.events[t][1].type:null,a=i===`tableHead`||i===`tableRow`?S:c;return a===S&&r.parser.lazy[r.now().line]?n(e):a(e)}function c(t){return e.enter(`tableHead`),e.enter(`tableRow`),l(t)}function l(e){return e===124?u(e):(o=!0,a+=1,u(e))}function u(t){return t===null?n(t):W(t)?a>1?(a=0,r.interrupt=!0,e.exit(`tableRow`),e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),p):n(t):K(t)?q(e,u,`whitespace`)(t):(a+=1,o&&(o=!1,i+=1),t===124?(e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),o=!0,u):(e.enter(`data`),d(t)))}function d(t){return t===null||t===124||G(t)?(e.exit(`data`),u(t)):(e.consume(t),t===92?f:d)}function f(t){return t===92||t===124?(e.consume(t),d):d(t)}function p(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter(`tableDelimiterRow`),o=!1,K(t)?q(e,m,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4)(t):m(t))}function m(t){return t===45||t===58?g(t):t===124?(o=!0,e.enter(`tableCellDivider`),e.consume(t),e.exit(`tableCellDivider`),h):x(t)}function h(t){return K(t)?q(e,g,`whitespace`)(t):g(t)}function g(t){return t===58?(a+=1,o=!0,e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),_):t===45?(a+=1,_(t)):t===null||W(t)?b(t):x(t)}function _(t){return t===45?(e.enter(`tableDelimiterFiller`),v(t)):x(t)}function v(t){return t===45?(e.consume(t),v):t===58?(o=!0,e.exit(`tableDelimiterFiller`),e.enter(`tableDelimiterMarker`),e.consume(t),e.exit(`tableDelimiterMarker`),y):(e.exit(`tableDelimiterFiller`),y(t))}function y(t){return K(t)?q(e,b,`whitespace`)(t):b(t)}function b(n){return n===124?m(n):n===null||W(n)?!o||i!==a?x(n):(e.exit(`tableDelimiterRow`),e.exit(`tableHead`),t(n)):x(n)}function x(e){return n(e)}function S(t){return e.enter(`tableRow`),C(t)}function C(n){return n===124?(e.enter(`tableCellDivider`),e.consume(n),e.exit(`tableCellDivider`),C):n===null||W(n)?(e.exit(`tableRow`),t(n)):K(n)?q(e,C,`whitespace`)(n):(e.enter(`data`),w(n))}function w(t){return t===null||t===124||G(t)?(e.exit(`data`),C(t)):(e.consume(t),t===92?T:w)}function T(t){return t===92||t===124?(e.consume(t),w):w(t)}}function Of(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,c=0,l,u,d,f=new Cf;for(;++n<e.length;){let p=e[n],m=p[1];p[0]===`enter`?m.type===`tableHead`?(s=!1,c!==0&&(Af(f,t,c,l,u),u=void 0,c=0),l={type:`table`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,l,t]])):m.type===`tableRow`||m.type===`tableDelimiterRow`?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:`tableBody`,start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[[`enter`,u,t]])),i=m.type===`tableDelimiterRow`?2:u?3:1):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=kf(f,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type===`tableCellDivider`&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=kf(f,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type===`tableHead`?(s=!0,c=n):m.type===`tableRow`||m.type===`tableDelimiterRow`?(c=n,a[1]===0?o[1]!==0&&(d=kf(f,t,o,i,n,d)):(o[0]=o[1],d=kf(f,t,a,i,n,d)),i=0):i&&(m.type===`data`||m.type===`tableDelimiterMarker`||m.type===`tableDelimiterFiller`)&&(o[3]=n)}for(c!==0&&Af(f,t,c,l,u),f.consume(t.events),n=-1;++n<t.events.length;){let e=t.events[n];e[0]===`enter`&&e[1].type===`table`&&(e[1]._align=Tf(t.events,n))}return e}function kf(e,t,n,r,i,a){let o=r===1?`tableHeader`:r===2?`tableDelimiter`:`tableData`;n[0]!==0&&(a.end=Object.assign({},jf(t.events,n[0])),e.add(n[0],0,[[`exit`,a,t]]));let s=jf(t.events,n[1]);if(a={type:o,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[[`enter`,a,t]]),n[2]!==0){let i=jf(t.events,n[2]),a=jf(t.events,n[3]),o={type:`tableContent`,start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[[`enter`,o,t]]),r!==2){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type=`chunkText`,r[1].contentType=`text`,n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[[`exit`,o,t]])}return i!==void 0&&(a.end=Object.assign({},jf(t.events,i)),e.add(i,0,[[`exit`,a,t]]),a=void 0),a}function Af(e,t,n,r,i){let a=[],o=jf(t.events,n);i&&(i.end=Object.assign({},o),a.push([`exit`,i,t])),r.end=Object.assign({},o),a.push([`exit`,r,t]),e.add(n+1,0,a)}function jf(e,t){let n=e[t],r=n[0]===`enter`?`start`:`end`;return n[1][r]}var Mf={name:`tasklistCheck`,tokenize:Pf};function Nf(){return{text:{91:Mf}}}function Pf(e,t,n){let r=this;return i;function i(t){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(t):(e.enter(`taskListCheck`),e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),a)}function a(t){return G(t)?(e.enter(`taskListCheckValueUnchecked`),e.consume(t),e.exit(`taskListCheckValueUnchecked`),o):t===88||t===120?(e.enter(`taskListCheckValueChecked`),e.consume(t),e.exit(`taskListCheckValueChecked`),o):n(t)}function o(t){return t===93?(e.enter(`taskListCheckMarker`),e.consume(t),e.exit(`taskListCheckMarker`),e.exit(`taskListCheck`),s):n(t)}function s(r){return W(r)?t(r):K(r)?e.check({tokenize:Ff},t,n)(r):n(r)}}function Ff(e,t,n){return q(e,r,`whitespace`);function r(e){return e===null?n(e):t(e)}}function If(e){return Io([Zd(),mf(),Sf(e),Ef(),Nf()])}var Lf={};function Rf(e){let t=this,n=e||Lf,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push(If(n)),a.push(Bd()),o.push(Vd(n))}function zf(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:a},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:s,mathText:o,mathTextData:s}};function e(e){this.enter({type:`math`,meta:null,value:``,data:{hName:`pre`,hChildren:[{type:`element`,tagName:`code`,properties:{className:[`language-math`,`math-display`]},children:[]}]}},e)}function t(){this.buffer()}function n(){let e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.meta=e}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(e){let t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,``),n=this.stack[this.stack.length-1];n.type,this.exit(e),n.value=t;let r=n.data.hChildren[0];r.type,r.tagName,r.children.push({type:`text`,value:t}),this.data.mathFlowInside=void 0}function a(e){this.enter({type:`inlineMath`,value:``,data:{hName:`code`,hProperties:{className:[`language-math`,`math-inline`]},hChildren:[]}},e),this.buffer()}function o(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.type,this.exit(e),n.value=t,n.data.hChildren.push({type:`text`,value:t})}function s(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}function Bf(e){let t=(e||{}).singleDollarTextMath;return t??=!0,r.peek=i,{unsafe:[{character:`\r`,inConstruct:`mathFlowMeta`},{character:`
`,inConstruct:`mathFlowMeta`},{character:`$`,after:t?void 0:`\\$`,inConstruct:`phrasing`},{character:`$`,inConstruct:`mathFlowMeta`},{atBreak:!0,character:`$`,after:`\\$`}],handlers:{math:n,inlineMath:r}};function n(e,t,n,r){let i=e.value||``,a=n.createTracker(r),o=`$`.repeat(Math.max(Fu(i,`$`)+1,2)),s=n.enter(`mathFlow`),c=a.move(o);if(e.meta){let t=n.enter(`mathFlowMeta`);c+=a.move(n.safe(e.meta,{after:`
`,before:c,encode:[`$`],...a.current()})),t()}return c+=a.move(`
`),i&&(c+=a.move(i+`
`)),c+=a.move(o),s(),c}function r(e,n,r){let i=e.value||``,a=1;for(t||a++;RegExp(`(^|[^$])`+`\\$`.repeat(a)+`([^$]|$)`).test(i);)a++;let o=`$`.repeat(a);/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^\$|\$$/.test(i))&&(i=` `+i+` `);let s=-1;for(;++s<r.unsafe.length;){let e=r.unsafe[s];if(!e.atBreak)continue;let t=r.compilePattern(e),n;for(;n=t.exec(i);){let e=n.index;i.codePointAt(e)===10&&i.codePointAt(e-1)===13&&e--,i=i.slice(0,e)+` `+i.slice(n.index+1)}}return o+i+o}function i(){return`$`}}const Vf={tokenize:Uf,concrete:!0,name:`mathFlow`};var Hf={tokenize:Wf,partial:!0};function Uf(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&i[1].type===`linePrefix`?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(t){return e.enter(`mathFlow`),e.enter(`mathFlowFence`),e.enter(`mathFlowFenceSequence`),c(t)}function c(t){return t===36?(e.consume(t),o++,c):o<2?n(t):(e.exit(`mathFlowFenceSequence`),q(e,l,`whitespace`)(t))}function l(t){return t===null||W(t)?d(t):(e.enter(`mathFlowFenceMeta`),e.enter(`chunkString`,{contentType:`string`}),u(t))}function u(t){return t===null||W(t)?(e.exit(`chunkString`),e.exit(`mathFlowFenceMeta`),d(t)):t===36?n(t):(e.consume(t),u)}function d(n){return e.exit(`mathFlowFence`),r.interrupt?t(n):e.attempt(Hf,f,g)(n)}function f(t){return e.attempt({tokenize:_,partial:!0},g,p)(t)}function p(t){return(a?q(e,m,`linePrefix`,a+1):m)(t)}function m(t){return t===null?g(t):W(t)?e.attempt(Hf,f,g)(t):(e.enter(`mathFlowValue`),h(t))}function h(t){return t===null||W(t)?(e.exit(`mathFlowValue`),m(t)):(e.consume(t),h)}function g(n){return e.exit(`mathFlow`),t(n)}function _(e,t,n){let i=0;return q(e,a,`linePrefix`,r.parser.constructs.disable.null.includes(`codeIndented`)?void 0:4);function a(t){return e.enter(`mathFlowFence`),e.enter(`mathFlowFenceSequence`),s(t)}function s(t){return t===36?(i++,e.consume(t),s):i<o?n(t):(e.exit(`mathFlowFenceSequence`),q(e,c,`whitespace`)(t))}function c(r){return r===null||W(r)?(e.exit(`mathFlowFence`),t(r)):n(r)}}}function Wf(e,t,n){let r=this;return i;function i(n){return n===null?t(n):(e.enter(`lineEnding`),e.consume(n),e.exit(`lineEnding`),a)}function a(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}function Gf(e){let t=(e||{}).singleDollarTextMath;return t??=!0,{tokenize:n,resolve:Kf,previous:qf,name:`mathText`};function n(e,n,r){let i=0,a,o;return s;function s(t){return e.enter(`mathText`),e.enter(`mathTextSequence`),c(t)}function c(n){return n===36?(e.consume(n),i++,c):i<2&&!t?r(n):(e.exit(`mathTextSequence`),l(n))}function l(t){return t===null?r(t):t===36?(o=e.enter(`mathTextSequence`),a=0,d(t)):t===32?(e.enter(`space`),e.consume(t),e.exit(`space`),l):W(t)?(e.enter(`lineEnding`),e.consume(t),e.exit(`lineEnding`),l):(e.enter(`mathTextData`),u(t))}function u(t){return t===null||t===32||t===36||W(t)?(e.exit(`mathTextData`),l(t)):(e.consume(t),u)}function d(t){return t===36?(e.consume(t),a++,d):a===i?(e.exit(`mathTextSequence`),e.exit(`mathText`),n(t)):(o.type=`mathTextData`,u(t))}}}function Kf(e){let t=e.length-4,n=3,r,i;if((e[n][1].type===`lineEnding`||e[n][1].type===`space`)&&(e[t][1].type===`lineEnding`||e[t][1].type===`space`)){for(r=n;++r<t;)if(e[r][1].type===`mathTextData`){e[t][1].type=`mathTextPadding`,e[n][1].type=`mathTextPadding`,n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!==`lineEnding`&&(i=r):(r===t||e[r][1].type===`lineEnding`)&&(e[i][1].type=`mathTextData`,r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function qf(e){return e!==36||this.events[this.events.length-1][1].type===`characterEscape`}function Jf(e){return{flow:{36:Vf},text:{36:Gf(e)}}}var Yf={};function Xf(e){let t=this,n=e||Yf,r=t.data(),i=r.micromarkExtensions||=[],a=r.fromMarkdownExtensions||=[],o=r.toMarkdownExtensions||=[];i.push(Jf(n)),a.push(zf()),o.push(Bf(n))}function Zf(e,t){let n={type:`element`,tagName:`blockquote`,properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Qf(e,t){let n={type:`element`,tagName:`br`,properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:`text`,value:`
`}]}function $f(e,t){let n=t.value?t.value+`
`:``,r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=[`language-`+i[0]]);let a={type:`element`,tagName:`code`,properties:r,children:[{type:`text`,value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:`element`,tagName:`pre`,properties:{},children:[a]},e.patch(t,a),a}function ep(e,t){let n={type:`element`,tagName:`del`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tp(e,t){let n={type:`element`,tagName:`em`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function np(e,t){let n=typeof e.options.clobberPrefix==`string`?e.options.clobberPrefix:`user-content-`,r=String(t.identifier).toUpperCase(),i=Zo(r.toLowerCase()),a=e.footnoteOrder.indexOf(r),o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);let c={type:`element`,tagName:`a`,properties:{href:`#`+n+`fn-`+i,id:n+`fnref-`+i+(s>1?`-`+s:``),dataFootnoteRef:!0,ariaDescribedBy:[`footnote-label`]},children:[{type:`text`,value:String(o)}]};e.patch(t,c);let l={type:`element`,tagName:`sup`,properties:{},children:[c]};return e.patch(t,l),e.applyData(t,l)}function rp(e,t){let n={type:`element`,tagName:`h`+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ip(e,t){if(e.options.allowDangerousHtml){let n={type:`raw`,value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ap(e,t){let n=t.referenceType,r=`]`;if(n===`collapsed`?r+=`[]`:n===`full`&&(r+=`[`+(t.label||t.identifier)+`]`),t.type===`imageReference`)return[{type:`text`,value:`![`+t.alt+r}];let i=e.all(t),a=i[0];a&&a.type===`text`?a.value=`[`+a.value:i.unshift({type:`text`,value:`[`});let o=i[i.length-1];return o&&o.type===`text`?o.value+=r:i.push({type:`text`,value:r}),i}function op(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ap(e,t);let i={src:Zo(r.url||``),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);let a={type:`element`,tagName:`img`,properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function sp(e,t){let n={src:Zo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:`element`,tagName:`img`,properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function cp(e,t){let n={type:`text`,value:t.value.replace(/\r?\n|\r/g,` `)};e.patch(t,n);let r={type:`element`,tagName:`code`,properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function lp(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ap(e,t);let i={href:Zo(r.url||``)};r.title!==null&&r.title!==void 0&&(i.title=r.title);let a={type:`element`,tagName:`a`,properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function up(e,t){let n={href:Zo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);let r={type:`element`,tagName:`a`,properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dp(e,t,n){let r=e.all(t),i=n?fp(n):pp(t),a={},o=[];if(typeof t.checked==`boolean`){let e=r[0],n;e&&e.type===`element`&&e.tagName===`p`?n=e:(n={type:`element`,tagName:`p`,properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:`text`,value:` `}),n.children.unshift({type:`element`,tagName:`input`,properties:{type:`checkbox`,checked:t.checked,disabled:!0},children:[]}),a.className=[`task-list-item`]}let s=-1;for(;++s<r.length;){let e=r[s];(i||s!==0||e.type!==`element`||e.tagName!==`p`)&&o.push({type:`text`,value:`
`}),e.type===`element`&&e.tagName===`p`&&!i?o.push(...e.children):o.push(e)}let c=r[r.length-1];c&&(i||c.type!==`element`||c.tagName!==`p`)&&o.push({type:`text`,value:`
`});let l={type:`element`,tagName:`li`,properties:a,children:o};return e.patch(t,l),e.applyData(t,l)}function fp(e){let t=!1;if(e.type===`list`){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=pp(n[r])}return t}function pp(e){return e.spread??e.children.length>1}function mp(e,t){let n={},r=e.all(t),i=-1;for(typeof t.start==`number`&&t.start!==1&&(n.start=t.start);++i<r.length;){let e=r[i];if(e.type===`element`&&e.tagName===`li`&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes(`task-list-item`)){n.className=[`contains-task-list`];break}}let a={type:`element`,tagName:t.ordered?`ol`:`ul`,properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function hp(e,t){let n={type:`element`,tagName:`p`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gp(e,t){let n={type:`root`,children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _p(e,t){let n={type:`element`,tagName:`strong`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const vp=bp(`end`),yp=bp(`start`);function bp(e){return t;function t(t){let n=t&&t.position&&t.position[e]||{};if(typeof n.line==`number`&&n.line>0&&typeof n.column==`number`&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset==`number`&&n.offset>-1?n.offset:void 0}}}function xp(e){let t=yp(e),n=vp(e);if(t&&n)return{start:t,end:n}}function Sp(e,t){let n=e.all(t),r=n.shift(),i=[];if(r){let n={type:`element`,tagName:`thead`,properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){let r={type:`element`,tagName:`tbody`,properties:{},children:e.wrap(n,!0)},a=yp(t.children[1]),o=vp(t.children[t.children.length-1]);a&&o&&(r.position={start:a,end:o}),i.push(r)}let a={type:`element`,tagName:`table`,properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Cp(e,t,n){let r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?`th`:`td`,a=n&&n.type===`table`?n.align:void 0,o=a?a.length:t.children.length,s=-1,c=[];for(;++s<o;){let n=t.children[s],r={},o=a?a[s]:void 0;o&&(r.align=o);let l={type:`element`,tagName:i,properties:r,children:[]};n&&(l.children=e.all(n),e.patch(n,l),l=e.applyData(n,l)),c.push(l)}let l={type:`element`,tagName:`tr`,properties:{},children:e.wrap(c,!0)};return e.patch(t,l),e.applyData(t,l)}function wp(e,t){let n={type:`element`,tagName:`td`,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}var Tp=9,Ep=32;function Dp(e){let t=String(e),n=/\r?\n|\r/g,r=n.exec(t),i=0,a=[];for(;r;)a.push(Op(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Op(t.slice(i),i>0,!1)),a.join(``)}function Op(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;t===Tp||t===Ep;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;t===Tp||t===Ep;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):``}function kp(e,t){let n={type:`text`,value:Dp(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ap(e,t){let n={type:`element`,tagName:`hr`,properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const jp={blockquote:Zf,break:Qf,code:$f,delete:ep,emphasis:tp,footnoteReference:np,heading:rp,html:ip,imageReference:op,image:sp,inlineCode:cp,linkReference:lp,link:up,listItem:dp,list:mp,paragraph:hp,root:gp,strong:_p,table:Sp,tableCell:wp,tableRow:Cp,text:kp,thematicBreak:Ap,toml:Mp,yaml:Mp,definition:Mp,footnoteDefinition:Mp};function Mp(){}var Np=typeof self==`object`?self:globalThis,Pp=(e,t)=>{let n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);let[a,o]=t[i];switch(a){case 0:case-1:return n(o,i);case 1:{let e=n([],i);for(let t of o)e.push(r(t));return e}case 2:{let e=n({},i);for(let[t,n]of o)e[r(t)]=r(n);return e}case 3:return n(new Date(o),i);case 4:{let{source:e,flags:t}=o;return n(new RegExp(e,t),i)}case 5:{let e=n(new Map,i);for(let[t,n]of o)e.set(r(t),r(n));return e}case 6:{let e=n(new Set,i);for(let t of o)e.add(r(t));return e}case 7:{let{name:e,message:t}=o;return n(new Np[e](t),i)}case 8:return n(BigInt(o),i);case`BigInt`:return n(Object(BigInt(o)),i);case`ArrayBuffer`:return n(new Uint8Array(o).buffer,o);case`DataView`:{let{buffer:e}=new Uint8Array(o);return n(new DataView(e),o)}}return n(new Np[a](o),i)};return r};const Fp=e=>Pp(new Map,e)(0);var Ip=``,{toString:Lp}={},{keys:Rp}=Object,zp=e=>{let t=typeof e;if(t!==`object`||!e)return[0,t];let n=Lp.call(e).slice(8,-1);switch(n){case`Array`:return[1,Ip];case`Object`:return[2,Ip];case`Date`:return[3,Ip];case`RegExp`:return[4,Ip];case`Map`:return[5,Ip];case`Set`:return[6,Ip];case`DataView`:return[1,n]}return n.includes(`Array`)?[1,n]:n.includes(`Error`)?[7,n]:[2,n]},Bp=([e,t])=>e===0&&(t===`function`||t===`symbol`),Vp=(e,t,n,r)=>{let i=(e,t)=>{let i=r.push(e)-1;return n.set(t,i),i},a=r=>{if(n.has(r))return n.get(r);let[o,s]=zp(r);switch(o){case 0:{let t=r;switch(s){case`bigint`:o=8,t=r.toString();break;case`function`:case`symbol`:if(e)throw TypeError(`unable to serialize `+s);t=null;break;case`undefined`:return i([-1],r)}return i([o,t],r)}case 1:{if(s){let e=r;return s===`DataView`?e=new Uint8Array(r.buffer):s===`ArrayBuffer`&&(e=new Uint8Array(r)),i([s,[...e]],r)}let e=[],t=i([o,e],r);for(let t of r)e.push(a(t));return t}case 2:{if(s)switch(s){case`BigInt`:return i([s,r.toString()],r);case`Boolean`:case`Number`:case`String`:return i([s,r.valueOf()],r)}if(t&&`toJSON`in r)return a(r.toJSON());let n=[],c=i([o,n],r);for(let t of Rp(r))(e||!Bp(zp(r[t])))&&n.push([a(t),a(r[t])]);return c}case 3:return i([o,r.toISOString()],r);case 4:{let{source:e,flags:t}=r;return i([o,{source:e,flags:t}],r)}case 5:{let t=[],n=i([o,t],r);for(let[n,i]of r)(e||!(Bp(zp(n))||Bp(zp(i))))&&t.push([a(n),a(i)]);return n}case 6:{let t=[],n=i([o,t],r);for(let n of r)(e||!Bp(zp(n)))&&t.push(a(n));return n}}let{message:c}=r;return i([o,{name:s,message:c}],r)};return a};const Hp=(e,{json:t,lossy:n}={})=>{let r=[];return Vp(!(t||n),!!t,new Map,r)(e),r};var Up=typeof structuredClone==`function`?(e,t)=>t&&(`json`in t||`lossy`in t)?Fp(Hp(e,t)):structuredClone(e):(e,t)=>Fp(Hp(e,t));function Wp(e,t){let n=[{type:`text`,value:``}];return t>1&&n.push({type:`element`,tagName:`sup`,properties:{},children:[{type:`text`,value:String(t)}]}),n}function Gp(e,t){return`Back to reference `+(e+1)+(t>1?`-`+t:``)}function Kp(e){let t=typeof e.options.clobberPrefix==`string`?e.options.clobberPrefix:`user-content-`,n=e.options.footnoteBackContent||Wp,r=e.options.footnoteBackLabel||Gp,i=e.options.footnoteLabel||`Footnotes`,a=e.options.footnoteLabelTagName||`h2`,o=e.options.footnoteLabelProperties||{className:[`sr-only`]},s=[],c=-1;for(;++c<e.footnoteOrder.length;){let i=e.footnoteById.get(e.footnoteOrder[c]);if(!i)continue;let a=e.all(i),o=String(i.identifier).toUpperCase(),l=Zo(o.toLowerCase()),u=0,d=[],f=e.footnoteCounts.get(o);for(;f!==void 0&&++u<=f;){d.length>0&&d.push({type:`text`,value:` `});let e=typeof n==`string`?n:n(c,u);typeof e==`string`&&(e={type:`text`,value:e}),d.push({type:`element`,tagName:`a`,properties:{href:`#`+t+`fnref-`+l+(u>1?`-`+u:``),dataFootnoteBackref:``,ariaLabel:typeof r==`string`?r:r(c,u),className:[`data-footnote-backref`]},children:Array.isArray(e)?e:[e]})}let p=a[a.length-1];if(p&&p.type===`element`&&p.tagName===`p`){let e=p.children[p.children.length-1];e&&e.type===`text`?e.value+=` `:p.children.push({type:`text`,value:` `}),p.children.push(...d)}else a.push(...d);let m={type:`element`,tagName:`li`,properties:{id:t+`fn-`+l},children:e.wrap(a,!0)};e.patch(i,m),s.push(m)}if(s.length!==0)return{type:`element`,tagName:`section`,properties:{dataFootnotes:!0,className:[`footnotes`]},children:[{type:`element`,tagName:a,properties:{...Up(o),id:`footnote-label`},children:[{type:`text`,value:i}]},{type:`text`,value:`
`},{type:`element`,tagName:`ol`,properties:{},children:e.wrap(s,!0)},{type:`text`,value:`
`}]}}var qp={}.hasOwnProperty,Jp={};function Yp(e,t){let n=t||Jp,r=new Map,i=new Map,a={all:s,applyData:Zp,definitionById:r,footnoteById:i,footnoteCounts:new Map,footnoteOrder:[],handlers:{...jp,...n.handlers},one:o,options:n,patch:Xp,wrap:$p};return qu(e,function(e){if(e.type===`definition`||e.type===`footnoteDefinition`){let t=e.type===`definition`?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),a;function o(e,t){let n=e.type,r=a.handlers[n];if(qp.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if(`children`in e){let{children:t,...n}=e,r=Up(n);return r.children=a.all(e),r}return Up(e)}return(a.options.unknownHandler||Qp)(a,e,t)}function s(e){let t=[];if(`children`in e){let n=e.children,r=-1;for(;++r<n.length;){let i=a.one(n[r],e);if(i){if(r&&n[r-1].type===`break`&&(!Array.isArray(i)&&i.type===`text`&&(i.value=em(i.value)),!Array.isArray(i)&&i.type===`element`)){let e=i.children[0];e&&e.type===`text`&&(e.value=em(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t}}function Xp(e,t){e.position&&(t.position=xp(e))}function Zp(e,t){let n=t;if(e&&e.data){let t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;typeof t==`string`&&(n.type===`element`?n.tagName=t:n={type:`element`,tagName:t,properties:{},children:`children`in n?n.children:[n]}),n.type===`element`&&i&&Object.assign(n.properties,Up(i)),`children`in n&&n.children&&r!=null&&(n.children=r)}return n}function Qp(e,t){let n=t.data||{},r=`value`in t&&!(qp.call(n,`hProperties`)||qp.call(n,`hChildren`))?{type:`text`,value:t.value}:{type:`element`,tagName:`div`,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $p(e,t){let n=[],r=-1;for(t&&n.push({type:`text`,value:`
`});++r<e.length;)r&&n.push({type:`text`,value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:`text`,value:`
`}),n}function em(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function tm(e,t){let n=Yp(e,t),r=n.one(e,void 0),i=Kp(n),a=Array.isArray(r)?{type:`root`,children:r}:r||{type:`root`,children:[]};return i&&(`children`in a,a.children.push({type:`text`,value:`
`},i)),a}function nm(e,t){return e&&`run`in e?async function(n,r){let i=tm(n,{file:r,...t});await e.run(i,r)}:function(n,r){return tm(n,{file:r,...e||t})}}var rm=class{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}};rm.prototype.normal={},rm.prototype.property={},rm.prototype.space=void 0;function im(e,t){let n={},r={};for(let t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new rm(n,r,t)}function am(e){return e.toLowerCase()}var om=class{constructor(e,t){this.attribute=t,this.property=e}};om.prototype.attribute=``,om.prototype.booleanish=!1,om.prototype.boolean=!1,om.prototype.commaOrSpaceSeparated=!1,om.prototype.commaSeparated=!1,om.prototype.defined=!1,om.prototype.mustUseProperty=!1,om.prototype.number=!1,om.prototype.overloadedBoolean=!1,om.prototype.property=``,om.prototype.spaceSeparated=!1,om.prototype.space=void 0;var sm=he({boolean:()=>J,booleanish:()=>lm,commaOrSpaceSeparated:()=>fm,commaSeparated:()=>dm,number:()=>Y,overloadedBoolean:()=>um,spaceSeparated:()=>X},1),cm=0;const J=pm(),lm=pm(),um=pm(),Y=pm(),X=pm(),dm=pm(),fm=pm();function pm(){return 2**++cm}var mm=Object.keys(sm),hm=class extends om{constructor(e,t,n,r){let i=-1;if(super(e,t),gm(this,`space`,r),typeof n==`number`)for(;++i<mm.length;){let e=mm[i];gm(this,mm[i],(n&sm[e])===sm[e])}}};hm.prototype.defined=!0;function gm(e,t,n){n&&(e[t]=n)}function _m(e){let t={},n={};for(let[r,i]of Object.entries(e.properties)){let a=new hm(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[am(r)]=r,n[am(a.attribute)]=r}return new rm(t,n,e.space)}const vm=_m({properties:{ariaActiveDescendant:null,ariaAtomic:lm,ariaAutoComplete:null,ariaBusy:lm,ariaChecked:lm,ariaColCount:Y,ariaColIndex:Y,ariaColSpan:Y,ariaControls:X,ariaCurrent:null,ariaDescribedBy:X,ariaDetails:null,ariaDisabled:lm,ariaDropEffect:X,ariaErrorMessage:null,ariaExpanded:lm,ariaFlowTo:X,ariaGrabbed:lm,ariaHasPopup:null,ariaHidden:lm,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:X,ariaLevel:Y,ariaLive:null,ariaModal:lm,ariaMultiLine:lm,ariaMultiSelectable:lm,ariaOrientation:null,ariaOwns:X,ariaPlaceholder:null,ariaPosInSet:Y,ariaPressed:lm,ariaReadOnly:lm,ariaRelevant:null,ariaRequired:lm,ariaRoleDescription:X,ariaRowCount:Y,ariaRowIndex:Y,ariaRowSpan:Y,ariaSelected:lm,ariaSetSize:Y,ariaSort:null,ariaValueMax:Y,ariaValueMin:Y,ariaValueNow:Y,ariaValueText:null,role:null},transform(e,t){return t===`role`?t:`aria-`+t.slice(4).toLowerCase()}});function ym(e,t){return t in e?e[t]:t}function bm(e,t){return ym(e,t.toLowerCase())}const xm=_m({attributes:{acceptcharset:`accept-charset`,classname:`class`,htmlfor:`for`,httpequiv:`http-equiv`},mustUseProperty:[`checked`,`multiple`,`muted`,`selected`],properties:{abbr:null,accept:dm,acceptCharset:X,accessKey:X,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:X,autoFocus:J,autoPlay:J,blocking:X,capture:null,charSet:null,checked:J,cite:null,className:X,cols:Y,colSpan:null,content:null,contentEditable:lm,controls:J,controlsList:X,coords:Y|dm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:um,draggable:lm,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:X,height:Y,hidden:um,high:Y,href:null,hrefLang:null,htmlFor:X,httpEquiv:X,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:X,itemRef:X,itemScope:J,itemType:X,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:Y,manifest:null,max:null,maxLength:Y,media:null,method:null,min:null,minLength:Y,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:Y,pattern:null,ping:X,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:X,required:J,reversed:J,rows:Y,rowSpan:Y,sandbox:X,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:Y,sizes:null,slot:null,span:Y,spellCheck:lm,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Y,step:null,style:null,tabIndex:Y,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:lm,width:Y,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:X,axis:null,background:null,bgColor:null,border:Y,borderColor:null,bottomMargin:Y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:Y,leftMargin:Y,link:null,longDesc:null,lowSrc:null,marginHeight:Y,marginWidth:Y,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:Y,rules:null,scheme:null,scrolling:lm,standby:null,summary:null,text:null,topMargin:Y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:Y,security:null,unselectable:null},space:`html`,transform:bm}),Sm=_m({attributes:{accentHeight:`accent-height`,alignmentBaseline:`alignment-baseline`,arabicForm:`arabic-form`,baselineShift:`baseline-shift`,capHeight:`cap-height`,className:`class`,clipPath:`clip-path`,clipRule:`clip-rule`,colorInterpolation:`color-interpolation`,colorInterpolationFilters:`color-interpolation-filters`,colorProfile:`color-profile`,colorRendering:`color-rendering`,crossOrigin:`crossorigin`,dataType:`datatype`,dominantBaseline:`dominant-baseline`,enableBackground:`enable-background`,fillOpacity:`fill-opacity`,fillRule:`fill-rule`,floodColor:`flood-color`,floodOpacity:`flood-opacity`,fontFamily:`font-family`,fontSize:`font-size`,fontSizeAdjust:`font-size-adjust`,fontStretch:`font-stretch`,fontStyle:`font-style`,fontVariant:`font-variant`,fontWeight:`font-weight`,glyphName:`glyph-name`,glyphOrientationHorizontal:`glyph-orientation-horizontal`,glyphOrientationVertical:`glyph-orientation-vertical`,hrefLang:`hreflang`,horizAdvX:`horiz-adv-x`,horizOriginX:`horiz-origin-x`,horizOriginY:`horiz-origin-y`,imageRendering:`image-rendering`,letterSpacing:`letter-spacing`,lightingColor:`lighting-color`,markerEnd:`marker-end`,markerMid:`marker-mid`,markerStart:`marker-start`,navDown:`nav-down`,navDownLeft:`nav-down-left`,navDownRight:`nav-down-right`,navLeft:`nav-left`,navNext:`nav-next`,navPrev:`nav-prev`,navRight:`nav-right`,navUp:`nav-up`,navUpLeft:`nav-up-left`,navUpRight:`nav-up-right`,onAbort:`onabort`,onActivate:`onactivate`,onAfterPrint:`onafterprint`,onBeforePrint:`onbeforeprint`,onBegin:`onbegin`,onCancel:`oncancel`,onCanPlay:`oncanplay`,onCanPlayThrough:`oncanplaythrough`,onChange:`onchange`,onClick:`onclick`,onClose:`onclose`,onCopy:`oncopy`,onCueChange:`oncuechange`,onCut:`oncut`,onDblClick:`ondblclick`,onDrag:`ondrag`,onDragEnd:`ondragend`,onDragEnter:`ondragenter`,onDragExit:`ondragexit`,onDragLeave:`ondragleave`,onDragOver:`ondragover`,onDragStart:`ondragstart`,onDrop:`ondrop`,onDurationChange:`ondurationchange`,onEmptied:`onemptied`,onEnd:`onend`,onEnded:`onended`,onError:`onerror`,onFocus:`onfocus`,onFocusIn:`onfocusin`,onFocusOut:`onfocusout`,onHashChange:`onhashchange`,onInput:`oninput`,onInvalid:`oninvalid`,onKeyDown:`onkeydown`,onKeyPress:`onkeypress`,onKeyUp:`onkeyup`,onLoad:`onload`,onLoadedData:`onloadeddata`,onLoadedMetadata:`onloadedmetadata`,onLoadStart:`onloadstart`,onMessage:`onmessage`,onMouseDown:`onmousedown`,onMouseEnter:`onmouseenter`,onMouseLeave:`onmouseleave`,onMouseMove:`onmousemove`,onMouseOut:`onmouseout`,onMouseOver:`onmouseover`,onMouseUp:`onmouseup`,onMouseWheel:`onmousewheel`,onOffline:`onoffline`,onOnline:`ononline`,onPageHide:`onpagehide`,onPageShow:`onpageshow`,onPaste:`onpaste`,onPause:`onpause`,onPlay:`onplay`,onPlaying:`onplaying`,onPopState:`onpopstate`,onProgress:`onprogress`,onRateChange:`onratechange`,onRepeat:`onrepeat`,onReset:`onreset`,onResize:`onresize`,onScroll:`onscroll`,onSeeked:`onseeked`,onSeeking:`onseeking`,onSelect:`onselect`,onShow:`onshow`,onStalled:`onstalled`,onStorage:`onstorage`,onSubmit:`onsubmit`,onSuspend:`onsuspend`,onTimeUpdate:`ontimeupdate`,onToggle:`ontoggle`,onUnload:`onunload`,onVolumeChange:`onvolumechange`,onWaiting:`onwaiting`,onZoom:`onzoom`,overlinePosition:`overline-position`,overlineThickness:`overline-thickness`,paintOrder:`paint-order`,panose1:`panose-1`,pointerEvents:`pointer-events`,referrerPolicy:`referrerpolicy`,renderingIntent:`rendering-intent`,shapeRendering:`shape-rendering`,stopColor:`stop-color`,stopOpacity:`stop-opacity`,strikethroughPosition:`strikethrough-position`,strikethroughThickness:`strikethrough-thickness`,strokeDashArray:`stroke-dasharray`,strokeDashOffset:`stroke-dashoffset`,strokeLineCap:`stroke-linecap`,strokeLineJoin:`stroke-linejoin`,strokeMiterLimit:`stroke-miterlimit`,strokeOpacity:`stroke-opacity`,strokeWidth:`stroke-width`,tabIndex:`tabindex`,textAnchor:`text-anchor`,textDecoration:`text-decoration`,textRendering:`text-rendering`,transformOrigin:`transform-origin`,typeOf:`typeof`,underlinePosition:`underline-position`,underlineThickness:`underline-thickness`,unicodeBidi:`unicode-bidi`,unicodeRange:`unicode-range`,unitsPerEm:`units-per-em`,vAlphabetic:`v-alphabetic`,vHanging:`v-hanging`,vIdeographic:`v-ideographic`,vMathematical:`v-mathematical`,vectorEffect:`vector-effect`,vertAdvY:`vert-adv-y`,vertOriginX:`vert-origin-x`,vertOriginY:`vert-origin-y`,wordSpacing:`word-spacing`,writingMode:`writing-mode`,xHeight:`x-height`,playbackOrder:`playbackorder`,timelineBegin:`timelinebegin`},properties:{about:fm,accentHeight:Y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Y,amplitude:Y,arabicForm:null,ascent:Y,attributeName:null,attributeType:null,azimuth:Y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Y,by:null,calcMode:null,capHeight:Y,className:X,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Y,diffuseConstant:Y,direction:null,display:null,dur:null,divisor:Y,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:Y,enableBackground:null,end:null,event:null,exponent:Y,externalResourcesRequired:null,fill:null,fillOpacity:Y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dm,g2:dm,glyphName:dm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Y,horizOriginX:Y,horizOriginY:Y,id:null,ideographic:Y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Y,k:Y,k1:Y,k2:Y,k3:Y,k4:Y,kernelMatrix:fm,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Y,overlineThickness:Y,paintOrder:null,panose1:null,path:null,pathLength:Y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:X,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Y,pointsAtY:Y,pointsAtZ:Y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fm,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fm,rev:fm,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fm,requiredFeatures:fm,requiredFonts:fm,requiredFormats:fm,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Y,specularExponent:Y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Y,strikethroughThickness:Y,string:null,stroke:null,strokeDashArray:fm,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Y,strokeOpacity:Y,strokeWidth:null,style:null,surfaceScale:Y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fm,tabIndex:Y,tableValues:null,target:null,targetX:Y,targetY:Y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fm,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Y,underlineThickness:Y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Y,values:null,vAlphabetic:Y,vMathematical:Y,vectorEffect:null,vHanging:Y,vIdeographic:Y,version:null,vertAdvY:Y,vertOriginX:Y,vertOriginY:Y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:`svg`,transform:ym}),Cm=_m({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:`xlink`,transform(e,t){return`xlink:`+t.slice(5).toLowerCase()}}),wm=_m({attributes:{xmlnsxlink:`xmlns:xlink`},properties:{xmlnsXLink:null,xmlns:null},space:`xmlns`,transform:bm}),Tm=_m({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:`xml`,transform(e,t){return`xml:`+t.slice(3).toLowerCase()}});var Em=/[A-Z]/g,Dm=/-[a-z]/g,Om=/^data[-\w.:]+$/i;function km(e,t){let n=am(t),r=t,i=om;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)===`data`&&Om.test(t)){if(t.charAt(4)===`-`){let e=t.slice(5).replace(Dm,jm);r=`data`+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!Dm.test(e)){let n=e.replace(Em,Am);n.charAt(0)!==`-`&&(n=`-`+n),t=`data`+n}}i=hm}return new i(r,t)}function Am(e){return`-`+e.toLowerCase()}function jm(e){return e.charAt(1).toUpperCase()}const Mm=im([vm,xm,Cm,wm,Tm],`html`),Nm=im([vm,Sm,Cm,wm,Tm],`svg`);function Pm(e){let t=[],n=String(e||``),r=n.indexOf(`,`),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);let e=n.slice(i,r).trim();(e||!a)&&t.push(e),i=r+1,r=n.indexOf(`,`,i)}return t}function Fm(e,t){let n=t||{};return(e[e.length-1]===``?[...e,``]:e).join((n.padRight?` `:``)+`,`+(n.padLeft===!1?``:` `)).trim()}var Im=/[#.]/g;function Lm(e,t){let n=e||``,r={},i=0,a,o;for(;i<n.length;){Im.lastIndex=i;let e=Im.exec(n),t=n.slice(i,e?e.index:n.length);t&&(a?a===`#`?r.id=t:Array.isArray(r.className)?r.className.push(t):r.className=[t]:o=t,i+=t.length),e&&(a=e[0],i++)}return{type:`element`,tagName:o||t||`div`,properties:r,children:[]}}function Rm(e){let t=String(e||``).trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function zm(e){return e.join(` `).trim()}function Bm(e,t,n){let r=n?Km(n):void 0;function i(n,i,...a){let o;if(n==null){o={type:`root`,children:[]};let e=i;a.unshift(e)}else{o=Lm(n,t);let s=o.tagName.toLowerCase(),c=r?r.get(s):void 0;if(o.tagName=c||s,Vm(i))a.unshift(i);else for(let[t,n]of Object.entries(i))Hm(e,o.properties,t,n)}for(let e of a)Um(o.children,e);return o.type===`element`&&o.tagName===`template`&&(o.content={type:`root`,children:o.children},o.children=[]),o}return i}function Vm(e){if(typeof e!=`object`||!e||Array.isArray(e))return!0;if(typeof e.type!=`string`)return!1;let t=e,n=Object.keys(e);for(let e of n){let n=t[e];if(n&&typeof n==`object`){if(!Array.isArray(n))return!0;let e=n;for(let t of e)if(typeof t!=`number`&&typeof t!=`string`)return!0}}return!!(`children`in e&&Array.isArray(e.children))}function Hm(e,t,n,r){let i=km(e,n),a;if(r!=null){if(typeof r==`number`){if(Number.isNaN(r))return;a=r}else a=typeof r==`boolean`?r:typeof r==`string`?i.spaceSeparated?Rm(r):i.commaSeparated?Pm(r):i.commaOrSpaceSeparated?Rm(Pm(r).join(` `)):Wm(i,i.property,r):Array.isArray(r)?[...r]:i.property===`style`?Gm(r):String(r);if(Array.isArray(a)){let e=[];for(let t of a)e.push(Wm(i,i.property,t));a=e}i.property===`className`&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[i.property]=a}}function Um(e,t){if(t!=null)if(typeof t==`number`||typeof t==`string`)e.push({type:`text`,value:String(t)});else if(Array.isArray(t))for(let n of t)Um(e,n);else if(typeof t==`object`&&`type`in t)t.type===`root`?Um(e,t.children):e.push(t);else throw Error("Expected node, nodes, or string, got `"+t+"`")}function Wm(e,t,n){if(typeof n==`string`){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===``||am(n)===am(t)))return!0}return n}function Gm(e){let t=[];for(let[n,r]of Object.entries(e))t.push([n,r].join(`: `));return t.join(`; `)}function Km(e){let t=new Map;for(let n of e)t.set(n.toLowerCase(),n);return t}const qm=`altGlyph.altGlyphDef.altGlyphItem.animateColor.animateMotion.animateTransform.clipPath.feBlend.feColorMatrix.feComponentTransfer.feComposite.feConvolveMatrix.feDiffuseLighting.feDisplacementMap.feDistantLight.feDropShadow.feFlood.feFuncA.feFuncB.feFuncG.feFuncR.feGaussianBlur.feImage.feMerge.feMergeNode.feMorphology.feOffset.fePointLight.feSpecularLighting.feSpotLight.feTile.feTurbulence.foreignObject.glyphRef.linearGradient.radialGradient.solidColor.textArea.textPath`.split(`.`),Jm=Bm(Mm,`div`),Ym=Bm(Nm,`g`,qm),Xm={html:`http://www.w3.org/1999/xhtml`,mathml:`http://www.w3.org/1998/Math/MathML`,svg:`http://www.w3.org/2000/svg`,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function Zm(e,t){return Qm(e,t||{})||{type:`root`,children:[]}}function Qm(e,t){let n=$m(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function $m(e,t){switch(e.nodeType){case 1:return ih(e,t);case 3:return nh(e);case 8:return rh(e);case 9:return eh(e,t);case 10:return th();case 11:return eh(e,t);default:return}}function eh(e,t){return{type:`root`,children:ah(e,t)}}function th(){return{type:`doctype`}}function nh(e){return{type:`text`,value:e.nodeValue||``}}function rh(e){return{type:`comment`,value:e.nodeValue||``}}function ih(e,t){let n=e.namespaceURI,r=n===Xm.svg?Ym:Jm,i=n===Xm.html?e.tagName.toLowerCase():e.tagName,a=n===Xm.html&&i===`template`?e.content:e,o=e.getAttributeNames(),s={},c=-1;for(;++c<o.length;)s[o[c]]=e.getAttribute(o[c])||``;return r(i,s,ah(a,t))}function ah(e,t){let n=e.childNodes,r=[],i=-1;for(;++i<n.length;){let e=Qm(n[i],t);e!==void 0&&r.push(e)}return r}var oh=new DOMParser;function sh(e,t){return Zm(t?.fragment?ch(e):oh.parseFromString(e,`text/html`))}function ch(e){let t=document.createElement(`template`);return t.innerHTML=e,t.content}const lh=(function(e,t,n){let r=El(n);if(!e||!e.type||!e.children)throw Error(`Expected parent node`);if(typeof t==`number`){if(t<0||t===1/0)throw Error(`Expected positive finite number as index`)}else if(t=e.children.indexOf(t),t<0)throw Error(`Expected child node or index`);for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),uh=(function(e){if(e==null)return mh;if(typeof e==`string`)return fh(e);if(typeof e==`object`)return dh(e);if(typeof e==`function`)return ph(e);throw Error("Expected function, string, or array as `test`")});function dh(e){let t=[],n=-1;for(;++n<e.length;)t[n]=uh(e[n]);return ph(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}function fh(e){return ph(t);function t(t){return t.tagName===e}}function ph(e){return t;function t(t,n,r){return!!(hh(t)&&e.call(this,t,typeof n==`number`?n:void 0,r||void 0))}}function mh(e){return!!(e&&typeof e==`object`&&`type`in e&&e.type===`element`&&`tagName`in e&&typeof e.tagName==`string`)}function hh(e){return typeof e==`object`&&!!e&&`type`in e&&`tagName`in e}var gh=/\n/g,_h=/[\t ]+/g,vh=uh(`br`),yh=uh(Mh),bh=uh(`p`),xh=uh(`tr`),Sh=uh([`datalist`,`head`,`noembed`,`noframes`,`noscript`,`rp`,`script`,`style`,`template`,`title`,jh,Nh]),Ch=uh(`address.article.aside.blockquote.body.caption.center.dd.dialog.dir.dl.dt.div.figure.figcaption.footer.form,.h1.h2.h3.h4.h5.h6.header.hgroup.hr.html.legend.li.listing.main.menu.nav.ol.p.plaintext.pre.section.ul.xmp`.split(`.`));function wh(e,t){let n=t||{},r=`children`in e?e.children:[],i=Ch(e),a=Ah(e,{whitespace:n.whitespace||`normal`,breakBefore:!1,breakAfter:!1}),o=[];(e.type===`text`||e.type===`comment`)&&o.push(...Dh(e,{whitespace:a,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)o.push(...Th(r[s],e,{whitespace:a,breakBefore:s?void 0:i,breakAfter:s<r.length-1?vh(r[s+1]):i}));let c=[],l;for(s=-1;++s<o.length;){let e=o[s];typeof e==`number`?l!==void 0&&e>l&&(l=e):e&&(l!==void 0&&l>-1&&c.push(`
`.repeat(l)||` `),l=-1,c.push(e))}return c.join(``)}function Th(e,t,n){return e.type===`element`?Eh(e,t,n):e.type===`text`?n.whitespace===`normal`?Dh(e,n):Oh(e):[]}function Eh(e,t,n){let r=Ah(e,n),i=e.children||[],a=-1,o=[];if(Sh(e))return o;let s,c;for(vh(e)||xh(e)&&lh(t,e,xh)?c=`
`:bh(e)?(s=2,c=2):Ch(e)&&(s=1,c=1);++a<i.length;)o=o.concat(Th(i[a],e,{whitespace:r,breakBefore:a?void 0:s,breakAfter:a<i.length-1?vh(i[a+1]):c}));return yh(e)&&lh(t,e,yh)&&o.push(`	`),s&&o.unshift(s),c&&o.push(c),o}function Dh(e,t){let n=String(e.value),r=[],i=[],a=0;for(;a<=n.length;){gh.lastIndex=a;let e=gh.exec(n),i=e&&`index`in e?e.index:n.length;r.push(kh(n.slice(a,i).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,``),a===0?t.breakBefore:!0,i===n.length?t.breakAfter:!0)),a=i+1}let o=-1,s;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),s=void 0):r[o]?(typeof s==`number`&&i.push(s),i.push(r[o]),s=0):(o===0||o===r.length-1)&&i.push(0);return i}function Oh(e){return[String(e.value)]}function kh(e,t,n){let r=[],i=0,a;for(;i<e.length;){_h.lastIndex=i;let n=_h.exec(e);a=n?n.index:e.length,!i&&!a&&n&&!t&&r.push(``),i!==a&&r.push(e.slice(i,a)),i=n?a+n[0].length:a}return i!==a&&!n&&r.push(``),r.join(` `)}function Ah(e,t){if(e.type===`element`){let n=e.properties||{};switch(e.tagName){case`listing`:case`plaintext`:case`xmp`:return`pre`;case`nobr`:return`nowrap`;case`pre`:return n.wrap?`pre-wrap`:`pre`;case`td`:case`th`:return n.noWrap?`nowrap`:t.whitespace;case`textarea`:return`pre-wrap`;default:}}return t.whitespace}function jh(e){return!!(e.properties||{}).hidden}function Mh(e){return e.tagName===`td`||e.tagName===`th`}function Nh(e){return e.tagName===`dialog`&&!(e.properties||{}).open}var Ph={},Fh=[];function Ih(e){let t=e||Ph;return function(e,n){Fl(e,`element`,function(e,r){let i=Array.isArray(e.properties.className)?e.properties.className:Fh,a=i.includes(`language-math`),o=i.includes(`math-display`),s=i.includes(`math-inline`),c=o;if(!a&&!o&&!s)return;let l=r[r.length-1],u=e;if(e.tagName===`code`&&a&&l&&l.type===`element`&&l.tagName===`pre`&&(u=l,l=r[r.length-2],c=!0),!l)return;let d=wh(u,{whitespace:`pre`}),f;try{f=Ce.renderToString(d,{...t,displayMode:c,throwOnError:!0})}catch(i){let a=i,o=a.name.toLowerCase();n.message(`Could not render math with KaTeX`,{ancestors:[...r,e],cause:a,place:e.position,ruleId:o,source:`rehype-katex`});try{f=Ce.renderToString(d,{...t,displayMode:c,strict:`ignore`,throwOnError:!1})}catch{f=[{type:`element`,tagName:`span`,properties:{className:[`katex-error`],style:`color:`+(t.errorColor||`#cc0000`),title:String(i)},children:[{type:`text`,value:d}]}]}}typeof f==`string`&&(f=sh(f,{fragment:!0}).children);let p=l.children.indexOf(u);return l.children.splice(p,1,...f),`skip`})}}var Lh=class extends Error{constructor(e){super(e),this.name=`ShikiError`}};function Rh(e){return zh(e)}function zh(e){return Array.isArray(e)?Bh(e):e instanceof RegExp?e:typeof e==`object`?Vh(e):e}function Bh(e){let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=zh(e[n]);return t}function Vh(e){let t={};for(let n in e)t[n]=zh(e[n]);return t}function Hh(e,...t){return t.forEach(t=>{for(let n in t)e[n]=t[n]}),e}function Uh(e){let t=~e.lastIndexOf(`/`)||~e.lastIndexOf(`\\`);return t===0?e:~t===e.length-1?Uh(e.substring(0,e.length-1)):e.substr(~t+1)}var Wh=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Gh=class{static hasCaptures(e){return e===null?!1:(Wh.lastIndex=0,Wh.test(e))}static replaceCaptures(e,t,n){return e.replace(Wh,(e,r,i,a)=>{let o=n[parseInt(r||i,10)];if(o){let e=t.substring(o.start,o.end);for(;e[0]===`.`;)e=e.substring(1);switch(a){case`downcase`:return e.toLowerCase();case`upcase`:return e.toUpperCase();default:return e}}else return e})}};function Kh(e,t){return e<t?-1:e>t?1:0}function qh(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let n=e.length,r=t.length;if(n===r){for(let r=0;r<n;r++){let n=Kh(e[r],t[r]);if(n!==0)return n}return 0}return n-r}function Jh(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function Yh(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,`\\$&`)}var Xh=class{constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);let t=this.fn(e);return this.cache.set(e,t),t}},Zh=class{constructor(e,t,n){this._colorMap=e,this._defaults=t,this._root=n}static createFromRawTheme(e,t){return this.createFromParsedTheme(ng(e),t)}static createFromParsedTheme(e,t){return ag(e,t)}_cachedMatchRoot=new Xh(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;let t=e.scopeName,n=this._cachedMatchRoot.get(t).find(t=>$h(e.parent,t.parentScopes));return n?new tg(n.fontStyle,n.foreground,n.background):null}},Qh=class e{constructor(e,t){this.parent=e,this.scopeName=t}static push(t,n){for(let r of n)t=new e(t,r);return t}static from(...t){let n=null;for(let r=0;r<t.length;r++)n=new e(n,t[r]);return n}push(t){return new e(this,t)}getSegments(){let e=this,t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(` `)}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){let t=[],n=this;for(;n&&n!==e;)t.push(n.scopeName),n=n.parent;return n===e?t.reverse():void 0}};function $h(e,t){if(t.length===0)return!0;for(let n=0;n<t.length;n++){let r=t[n],i=!1;if(r===`>`){if(n===t.length-1)return!1;r=t[++n],i=!0}for(;e&&!eg(e.scopeName,r);){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function eg(e,t){return t===e||e.startsWith(t)&&e[t.length]===`.`}var tg=class{constructor(e,t,n){this.fontStyle=e,this.foregroundId=t,this.backgroundId=n}};function ng(e){if(!e||!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,n=[],r=0;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(!i.settings)continue;let a;if(typeof i.scope==`string`){let e=i.scope;e=e.replace(/^[,]+/,``),e=e.replace(/[,]+$/,``),a=e.split(`,`)}else a=Array.isArray(i.scope)?i.scope:[``];let o=-1;if(typeof i.settings.fontStyle==`string`){o=0;let e=i.settings.fontStyle.split(` `);for(let t=0,n=e.length;t<n;t++)switch(e[t]){case`italic`:o|=1;break;case`bold`:o|=2;break;case`underline`:o|=4;break;case`strikethrough`:o|=8;break}}let s=null;typeof i.settings.foreground==`string`&&Jh(i.settings.foreground)&&(s=i.settings.foreground);let c=null;typeof i.settings.background==`string`&&Jh(i.settings.background)&&(c=i.settings.background);for(let t=0,i=a.length;t<i;t++){let i=a[t].trim().split(` `),l=i[i.length-1],u=null;i.length>1&&(u=i.slice(0,i.length-1),u.reverse()),n[r++]=new rg(l,u,e,o,s,c)}}return n}var rg=class{constructor(e,t,n,r,i,a){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=i,this.background=a}},ig=(e=>(e[e.NotSet=-1]=`NotSet`,e[e.None=0]=`None`,e[e.Italic=1]=`Italic`,e[e.Bold=2]=`Bold`,e[e.Underline=4]=`Underline`,e[e.Strikethrough=8]=`Strikethrough`,e))(ig||{});function ag(e,t){e.sort((e,t)=>{let n=Kh(e.scope,t.scope);return n!==0||(n=qh(e.parentScopes,t.parentScopes),n!==0)?n:e.index-t.index});let n=0,r=`#000000`,i=`#ffffff`;for(;e.length>=1&&e[0].scope===``;){let t=e.shift();t.fontStyle!==-1&&(n=t.fontStyle),t.foreground!==null&&(r=t.foreground),t.background!==null&&(i=t.background)}let a=new og(t),o=new tg(n,a.getId(r),a.getId(i)),s=new lg(new cg(0,null,-1,0,0),[]);for(let t=0,n=e.length;t<n;t++){let n=e[t];s.insert(0,n.scope,n.parentScopes,n.fontStyle,a.getId(n.foreground),a.getId(n.background))}return new Zh(a,o,s)}var og=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},sg=Object.freeze([]),cg=class e{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,t,n,r,i){this.scopeDepth=e,this.parentScopes=t||sg,this.fontStyle=n,this.foreground=r,this.background=i}clone(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n].clone();return t}acceptOverwrite(e,t,n,r){this.scopeDepth>e?console.log(`how did this happen?`):this.scopeDepth=e,t!==-1&&(this.fontStyle=t),n!==0&&(this.foreground=n),r!==0&&(this.background=r)}},lg=class e{constructor(e,t=[],n={}){this._mainRule=e,this._children=n,this._rulesWithParentScopes=t}_rulesWithParentScopes;static _cmpBySpecificity(e,t){if(e.scopeDepth!==t.scopeDepth)return t.scopeDepth-e.scopeDepth;let n=0,r=0;for(;e.parentScopes[n]===`>`&&n++,t.parentScopes[r]===`>`&&r++,!(n>=e.parentScopes.length||r>=t.parentScopes.length);){let i=t.parentScopes[r].length-e.parentScopes[n].length;if(i!==0)return i;n++,r++}return t.parentScopes.length-e.parentScopes.length}match(t){if(t!==``){let e=t.indexOf(`.`),n,r;if(e===-1?(n=t,r=``):(n=t.substring(0,e),r=t.substring(e+1)),this._children.hasOwnProperty(n))return this._children[n].match(r)}let n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(e._cmpBySpecificity),n}insert(t,n,r,i,a,o){if(n===``){this._doInsertHere(t,r,i,a,o);return}let s=n.indexOf(`.`),c,l;s===-1?(c=n,l=``):(c=n.substring(0,s),l=n.substring(s+1));let u;this._children.hasOwnProperty(c)?u=this._children[c]:(u=new e(this._mainRule.clone(),cg.cloneArr(this._rulesWithParentScopes)),this._children[c]=u),u.insert(t+1,l,r,i,a,o)}_doInsertHere(e,t,n,r,i){if(t===null){this._mainRule.acceptOverwrite(e,n,r,i);return}for(let a=0,o=this._rulesWithParentScopes.length;a<o;a++){let o=this._rulesWithParentScopes[a];if(qh(o.parentScopes,t)===0){o.acceptOverwrite(e,n,r,i);return}}n===-1&&(n=this._mainRule.fontStyle),r===0&&(r=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new cg(e,t,n,r,i))}},ug=class e{static toBinaryStr(e){return e.toString(2).padStart(32,`0`)}static print(t){let n=e.getLanguageId(t),r=e.getTokenType(t),i=e.getFontStyle(t),a=e.getForeground(t),o=e.getBackground(t);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:a,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!=0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(t,n,r,i,a,o,s){let c=e.getLanguageId(t),l=e.getTokenType(t),u=e.containsBalancedBrackets(t)?1:0,d=e.getFontStyle(t),f=e.getForeground(t),p=e.getBackground(t);return n!==0&&(c=n),r!==8&&(l=fg(r)),i!==null&&(u=i?1:0),a!==-1&&(d=a),o!==0&&(f=o),s!==0&&(p=s),(c<<0|l<<8|u<<10|d<<11|f<<15|p<<24)>>>0}};function dg(e){return e}function fg(e){return e}function pg(e,t){let n=[],r=hg(e),i=r.next();for(;i!==null;){let e=0;if(i.length===2&&i.charAt(1)===`:`){switch(i.charAt(0)){case`R`:e=1;break;case`L`:e=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let t=o();if(n.push({matcher:t,priority:e}),i!==`,`)break;i=r.next()}return n;function a(){if(i===`-`){i=r.next();let e=a();return t=>!!e&&!e(t)}if(i===`(`){i=r.next();let e=s();return i===`)`&&(i=r.next()),e}if(mg(i)){let e=[];do e.push(i),i=r.next();while(mg(i));return n=>t(e,n)}return null}function o(){let e=[],t=a();for(;t;)e.push(t),t=a();return t=>e.every(e=>e(t))}function s(){let e=[],t=o();for(;t&&(e.push(t),i===`|`||i===`,`);){do i=r.next();while(i===`|`||i===`,`);t=o()}return t=>e.some(e=>e(t))}}function mg(e){return!!e&&!!e.match(/[\w\.:]+/)}function hg(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=t.exec(e);return{next:()=>{if(!n)return null;let r=n[0];return n=t.exec(e),r}}}function gg(e){typeof e.dispose==`function`&&e.dispose()}var _g=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},vg=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},yg=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){let t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},bg=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new _g(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){let e=this.Q;this.Q=[];let t=new yg;for(let n of e)xg(n,this.initialScopeName,this.repo,t);for(let e of t.references)if(e instanceof _g){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName)||this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}};function xg(e,t,n,r){let i=n.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw Error(`No grammar provided for <${t}>`);return}let a=n.lookup(t);e instanceof _g?Cg({baseGrammar:a,selfGrammar:i},r):Sg(e.ruleName,{baseGrammar:a,selfGrammar:i,repository:i.repository},r);let o=n.injections(e.scopeName);if(o)for(let e of o)r.add(new _g(e))}function Sg(e,t,n){if(t.repository&&t.repository[e]){let r=t.repository[e];wg([r],t,n)}}function Cg(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&wg(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&wg(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function wg(e,t,n){for(let r of e){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);let e=r.repository?Hh({},t.repository,r.repository):t.repository;Array.isArray(r.patterns)&&wg(r.patterns,{...t,repository:e},n);let i=r.include;if(!i)continue;let a=Ag(i);switch(a.kind){case 0:Cg({...t,selfGrammar:t.baseGrammar},n);break;case 1:Cg(t,n);break;case 2:Sg(a.ruleName,{...t,repository:e},n);break;case 3:case 4:let r=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(r){let i={baseGrammar:t.baseGrammar,selfGrammar:r,repository:e};a.kind===4?Sg(a.ruleName,i,n):Cg(i,n)}else a.kind===4?n.add(new vg(a.scopeName,a.ruleName)):n.add(new _g(a.scopeName));break}}}var Tg=class{kind=0},Eg=class{kind=1},Dg=class{constructor(e){this.ruleName=e}kind=2},Og=class{constructor(e){this.scopeName=e}kind=3},kg=class{constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function Ag(e){if(e===`$base`)return new Tg;if(e===`$self`)return new Eg;let t=e.indexOf(`#`);return t===-1?new Og(e):t===0?new Dg(e.substring(1)):new kg(e.substring(0,t),e.substring(t+1))}var jg=/\\(\d+)/,Mg=/\\(\d+)/g,Ng=-1,Pg=-2;function Fg(e){return e}function Ig(e){return e}var Lg=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,n,r){this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=Gh.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Gh.hasCaptures(this._contentName)}get debugName(){let e=this.$location?`${Uh(this.$location.filename)}:${this.$location.line}`:`unknown`;return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:Gh.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Gh.replaceCaptures(this._contentName,e,t)}},Rg=class extends Lg{retokenizeCapturedWithRuleId;constructor(e,t,n,r,i){super(e,t,n,r),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,t){throw Error(`Not supported!`)}compile(e,t){throw Error(`Not supported!`)}compileAG(e,t,n,r){throw Error(`Not supported!`)}},zg=class extends Lg{_match;captures;_cachedCompiledPatterns;constructor(e,t,n,r,i){super(e,t,n,null),this._match=new Wg(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&=(this._cachedCompiledPatterns.dispose(),null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Gg,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Bg=class extends Lg{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,n,r,i){super(e,t,n,r),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&=(this._cachedCompiledPatterns.dispose(),null)}collectPatterns(e,t){for(let n of this.patterns)e.getRule(n).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Gg,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Vg=class extends Lg{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,n,r,i,a,o,s,c,l){super(e,t,n,r),this._begin=new Wg(i,this.id),this.beginCaptures=a,this._end=new Wg(o||``,-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=s,this.applyEndPatternLast=c||!1,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&=(this._cachedCompiledPatterns.dispose(),null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e,t).compileAG(e,n,r)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Gg;for(let t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},Hg=class extends Lg{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,n,r,i,a,o,s,c){super(e,t,n,r),this._begin=new Wg(i,this.id),this.beginCaptures=a,this.whileCaptures=s,this._while=new Wg(o,Pg),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&=(this._cachedCompiledPatterns.dispose(),null),this._cachedCompiledWhilePatterns&&=(this._cachedCompiledWhilePatterns.dispose(),null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Gg;for(let t of this.patterns)e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,n,r){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,n,r)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Gg,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||``),this._cachedCompiledWhilePatterns}},Ug=class e{static createCaptureRule(e,t,n,r,i){return e.registerRule(e=>new Rg(t,e,n,r,i))}static getCompiledRuleId(t,n,r){return t.id||n.registerRule(i=>{if(t.id=i,t.match)return new zg(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,n,r));if(t.begin===void 0){t.repository&&(r=Hh({},r,t.repository));let i=t.patterns;return i===void 0&&t.include&&(i=[{include:t.include}]),new Bg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(i,n,r))}return t.while?new Hg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,e._compileCaptures(t.whileCaptures||t.captures,n,r),e._compilePatterns(t.patterns,n,r)):new Vg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,e._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,e._compilePatterns(t.patterns,n,r))}),t.id}static _compileCaptures(t,n,r){let i=[];if(t){let a=0;for(let e in t){if(e===`$vscodeTextmateLocation`)continue;let t=parseInt(e,10);t>a&&(a=t)}for(let e=0;e<=a;e++)i[e]=null;for(let a in t){if(a===`$vscodeTextmateLocation`)continue;let o=parseInt(a,10),s=0;t[a].patterns&&(s=e.getCompiledRuleId(t[a],n,r)),i[o]=e.createCaptureRule(n,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,s)}}return i}static _compilePatterns(t,n,r){let i=[];if(t)for(let a=0,o=t.length;a<o;a++){let o=t[a],s=-1;if(o.include){let t=Ag(o.include);switch(t.kind){case 0:case 1:s=e.getCompiledRuleId(r[o.include],n,r);break;case 2:let i=r[t.ruleName];i&&(s=e.getCompiledRuleId(i,n,r));break;case 3:case 4:let a=t.scopeName,c=t.kind===4?t.ruleName:null,l=n.getExternalGrammar(a,r);if(l)if(c){let t=l.repository[c];t&&(s=e.getCompiledRuleId(t,n,l.repository))}else s=e.getCompiledRuleId(l.repository.$self,n,l.repository);break}}else s=e.getCompiledRuleId(o,n,r);if(s!==-1){let e=n.getRule(s),t=!1;if((e instanceof Bg||e instanceof Vg||e instanceof Hg)&&e.hasMissingPatterns&&e.patterns.length===0&&(t=!0),t)continue;i.push(s)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},Wg=class e{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,t){if(e&&typeof e==`string`){let t=e.length,n=0,r=[],i=!1;for(let a=0;a<t;a++)if(e.charAt(a)===`\\`&&a+1<t){let t=e.charAt(a+1);t===`z`?(r.push(e.substring(n,a)),r.push(`$(?!\\n)(?<!\\n)`),n=a+2):(t===`A`||t===`G`)&&(i=!0),a++}this.hasAnchor=i,n===0?this.source=e:(r.push(e.substring(n,t)),this.source=r.join(``))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,typeof this.source==`string`?this.hasBackReferences=jg.test(this.source):this.hasBackReferences=!1}clone(){return new e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){if(typeof this.source!=`string`)throw Error(`This method should only be called if the source is a string`);let n=t.map(t=>e.substring(t.start,t.end));return Mg.lastIndex=0,this.source.replace(Mg,(e,t)=>Yh(n[parseInt(t,10)]||``))}_buildAnchorCache(){if(typeof this.source!=`string`)throw Error(`This method should only be called if the source is a string`);let e=[],t=[],n=[],r=[],i,a,o,s;for(i=0,a=this.source.length;i<a;i++)o=this.source.charAt(i),e[i]=o,t[i]=o,n[i]=o,r[i]=o,o===`\\`&&i+1<a&&(s=this.source.charAt(i+1),s===`A`?(e[i+1]=``,t[i+1]=``,n[i+1]=`A`,r[i+1]=`A`):s===`G`?(e[i+1]=``,t[i+1]=`G`,n[i+1]=``,r[i+1]=`G`):(e[i+1]=s,t[i+1]=s,n[i+1]=s,r[i+1]=s),i++);return{A0_G0:e.join(``),A0_G1:t.join(``),A1_G0:n.join(``),A1_G1:r.join(``)}}resolveAnchors(e,t){return!this.hasAnchor||!this._anchorCache||typeof this.source!=`string`?this.source:e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Gg=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&=(this._cached.dispose(),null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){return this._cached||=new Kg(e,this._items.map(e=>e.source),this._items.map(e=>e.ruleId)),this._cached}compileAG(e,t,n){return this._hasAnchors?t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,n){return new Kg(e,this._items.map(e=>e.resolveAnchors(t,n)),this._items.map(e=>e.ruleId))}},Kg=class{constructor(e,t,n){this.regExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}scanner;dispose(){typeof this.scanner.dispose==`function`&&this.scanner.dispose()}toString(){let e=[];for(let t=0,n=this.rules.length;t<n;t++)e.push(`   - `+this.rules[t]+`: `+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,n){let r=this.scanner.findNextMatchSync(e,t,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},qg=class{constructor(e,t){this.languageId=e,this.tokenType=t}},Jg=class e{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,t){this._defaultAttributes=new qg(e,8),this._embeddedLanguagesMatcher=new Yg(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?e._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new qg(0,0);_getBasicScopeAttributes=new Xh(e=>new qg(this._scopeToLanguage(e),this._toStandardTokenType(e)));_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(t){let n=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case`comment`:return 1;case`string`:return 2;case`regex`:return 3;case`meta.embedded`:return 0}throw Error(`Unexpected match for standard token type!`)}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},Yg=class{values;scopesRegExp;constructor(e){if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);let t=e.map(([e,t])=>Yh(e));t.sort(),t.reverse(),this.scopesRegExp=RegExp(`^((${t.join(`)|(`)}))($|\\.)`,``)}}match(e){if(!this.scopesRegExp)return;let t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}};typeof process<`u`&&{}.VSCODE_TEXTMATE_DEBUG;var Xg=!1,Zg=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function Qg(e,t,n,r,i,a,o,s){let c=t.content.length,l=!1,u=-1;if(o){let o=$g(e,t,n,r,i,a);i=o.stack,r=o.linePos,n=o.isFirstLine,u=o.anchorPosition}let d=Date.now();for(;!l;){if(s!==0&&Date.now()-d>s)return new Zg(i,!0);f()}return new Zg(i,!1);function f(){let o=e_(e,t,n,r,i,u);if(!o){a.produce(i,c),l=!0;return}let s=o.captureIndices,d=o.matchedRuleId,f=s&&s.length>0?s[0].end>r:!1;if(d===Ng){let o=i.getRule(e);a.produce(i,s[0].start),i=i.withContentNameScopesList(i.nameScopesList),o_(e,t,n,i,a,o.endCaptures,s),a.produce(i,s[0].end);let d=i;if(i=i.parent,u=d.getAnchorPos(),!f&&d.getEnterPos()===r){i=d,a.produce(i,c),l=!0;return}}else{let o=e.getRule(d);a.produce(i,s[0].start);let p=i,m=o.getName(t.content,s),h=i.contentNameScopesList.pushAttributed(m,e);if(i=i.push(d,r,u,s[0].end===c,null,h,h),o instanceof Vg){let r=o;o_(e,t,n,i,a,r.beginCaptures,s),a.produce(i,s[0].end),u=s[0].end;let d=r.getContentName(t.content,s),m=h.pushAttributed(d,e);if(i=i.withContentNameScopesList(m),r.endHasBackReferences&&(i=i.withEndRule(r.getEndWithResolvedBackReferences(t.content,s))),!f&&p.hasSameRuleAs(i)){i=i.pop(),a.produce(i,c),l=!0;return}}else if(o instanceof Hg){let r=o;o_(e,t,n,i,a,r.beginCaptures,s),a.produce(i,s[0].end),u=s[0].end;let d=r.getContentName(t.content,s),m=h.pushAttributed(d,e);if(i=i.withContentNameScopesList(m),r.whileHasBackReferences&&(i=i.withEndRule(r.getWhileWithResolvedBackReferences(t.content,s))),!f&&p.hasSameRuleAs(i)){i=i.pop(),a.produce(i,c),l=!0;return}}else if(o_(e,t,n,i,a,o.captures,s),a.produce(i,s[0].end),i=i.pop(),!f){i=i.safePop(),a.produce(i,c),l=!0;return}}s[0].end>r&&(r=s[0].end,n=!1)}}function $g(e,t,n,r,i,a){let o=i.beginRuleCapturedEOL?0:-1,s=[];for(let t=i;t;t=t.pop()){let n=t.getRule(e);n instanceof Hg&&s.push({rule:n,stack:t})}for(let c=s.pop();c;c=s.pop()){let{ruleScanner:s,findOptions:l}=i_(c.rule,e,c.stack.endRule,n,r===o),u=s.findNextMatchSync(t,r,l);if(u){if(u.ruleId!==Pg){i=c.stack.pop();break}u.captureIndices&&u.captureIndices.length&&(a.produce(c.stack,u.captureIndices[0].start),o_(e,t,n,c.stack,a,c.rule.whileCaptures,u.captureIndices),a.produce(c.stack,u.captureIndices[0].end),o=u.captureIndices[0].end,u.captureIndices[0].end>r&&(r=u.captureIndices[0].end,n=!1))}else{i=c.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:o,isFirstLine:n}}function e_(e,t,n,r,i,a){let o=t_(e,t,n,r,i,a),s=e.getInjections();if(s.length===0)return o;let c=n_(s,e,t,n,r,i,a);if(!c)return o;if(!o)return c;let l=o.captureIndices[0].start,u=c.captureIndices[0].start;return u<l||c.priorityMatch&&u===l?c:o}function t_(e,t,n,r,i,a){let{ruleScanner:o,findOptions:s}=r_(i.getRule(e),e,i.endRule,n,r===a),c=o.findNextMatchSync(t,r,s);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function n_(e,t,n,r,i,a,o){let s=Number.MAX_VALUE,c=null,l,u=0,d=a.contentNameScopesList.getScopeNames();for(let a=0,f=e.length;a<f;a++){let f=e[a];if(!f.matcher(d))continue;let{ruleScanner:p,findOptions:m}=r_(t.getRule(f.ruleId),t,null,r,i===o),h=p.findNextMatchSync(n,i,m);if(!h)continue;let g=h.captureIndices[0].start;if(!(g>=s)&&(s=g,c=h.captureIndices,l=h.ruleId,u=f.priority,s===i))break}return c?{priorityMatch:u===-1,captureIndices:c,matchedRuleId:l}:null}function r_(e,t,n,r,i){return Xg?{ruleScanner:e.compile(t,n),findOptions:a_(r,i)}:{ruleScanner:e.compileAG(t,n,r,i),findOptions:0}}function i_(e,t,n,r,i){return Xg?{ruleScanner:e.compileWhile(t,n),findOptions:a_(r,i)}:{ruleScanner:e.compileWhileAG(t,n,r,i),findOptions:0}}function a_(e,t){let n=0;return e||(n|=1),t||(n|=4),n}function o_(e,t,n,r,i,a,o){if(a.length===0)return;let s=t.content,c=Math.min(a.length,o.length),l=[],u=o[0].end;for(let t=0;t<c;t++){let c=a[t];if(c===null)continue;let d=o[t];if(d.length===0)continue;if(d.start>u)break;for(;l.length>0&&l[l.length-1].endPos<=d.start;)i.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop();if(l.length>0?i.produceFromScopes(l[l.length-1].scopes,d.start):i.produce(r,d.start),c.retokenizeCapturedWithRuleId){let t=c.getName(s,o),a=r.contentNameScopesList.pushAttributed(t,e),l=c.getContentName(s,o),u=a.pushAttributed(l,e),f=r.push(c.retokenizeCapturedWithRuleId,d.start,-1,!1,null,a,u),p=e.createOnigString(s.substring(0,d.end));Qg(e,p,n&&d.start===0,d.start,f,i,!1,0),gg(p);continue}let f=c.getName(s,o);if(f!==null){let t=(l.length>0?l[l.length-1].scopes:r.contentNameScopesList).pushAttributed(f,e);l.push(new s_(t,d.end))}}for(;l.length>0;)i.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop()}var s_=class{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function c_(e,t,n,r,i,a,o,s){return new f_(e,t,n,r,i,a,o,s)}function l_(e,t,n,r,i){let a=pg(t,u_),o=Ug.getCompiledRuleId(n,r,i.repository);for(let n of a)e.push({debugSelector:t,matcher:n.matcher,ruleId:o,grammar:i,priority:n.priority})}function u_(e,t){if(t.length<e.length)return!1;let n=0;return e.every(e=>{for(let r=n;r<t.length;r++)if(d_(t[r],e))return n=r+1,!0;return!1})}function d_(e,t){if(!e)return!1;if(e===t)return!0;let n=t.length;return e.length>n&&e.substr(0,n)===t&&e[n]===`.`}var f_=class{constructor(e,t,n,r,i,a,o,s){if(this._rootScopeName=e,this.balancedBracketSelectors=a,this._onigLib=s,this._basicScopeAttributesProvider=new Jg(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=p_(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(let e of Object.keys(i)){let t=pg(e,u_);for(let n of t)this._tokenTypeMatchers.push({matcher:n.matcher,type:i[e]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(let e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){let e={lookup:e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e),injections:e=>this._grammarRepository.injections(e)},t=[],n=this._rootScopeName,r=e.lookup(n);if(r){let e=r.injections;if(e)for(let n in e)l_(t,n,e[n],this,r);let i=this._grammarRepository.injections(n);i&&i.forEach(e=>{let n=this.getExternalGrammar(e);if(n){let e=n.injectionSelector;e&&l_(t,e,n,this,n)}})}return t.sort((e,t)=>e.priority-t.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){let t=++this._lastRuleId,n=e(Fg(t));return this._ruleId2desc[t]=n,n}getRule(e){return this._ruleId2desc[Ig(e)]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){let n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=p_(n,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,n=0){let r=this._tokenize(e,t,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(e,t,n=0){let r=this._tokenize(e,t,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(e,t,n,r){this._rootId===-1&&(this._rootId=Ug.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!t||t===h_.NULL){i=!0;let e=this._basicScopeAttributesProvider.getDefaultAttributes(),n=this.themeProvider.getDefaults(),r=ug.set(0,e.languageId,e.tokenType,null,n.fontStyle,n.foregroundId,n.backgroundId),a=this.getRule(this._rootId).getName(null,null),o;o=a?m_.createRootAndLookUpScopeName(a,r,this):m_.createRoot(`unknown`,r),t=new h_(null,this._rootId,-1,-1,!1,null,o,o)}else i=!1,t.reset();e+=`
`;let a=this.createOnigString(e),o=a.content.length,s=new __(n,e,this._tokenTypeMatchers,this.balancedBracketSelectors),c=Qg(this,a,i,0,t,s,!0,r);return gg(a),{lineLength:o,lineTokens:s,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}};function p_(e,t){return e=Rh(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var m_=class e{constructor(e,t,n){this.parent=e,this.scopePath=t,this.tokenAttributes=n}static fromExtension(t,n){let r=t,i=t?.scopePath??null;for(let t of n)i=Qh.push(i,t.scopeNames),r=new e(r,i,t.encodedTokenAttributes);return r}static createRoot(t,n){return new e(null,new Qh(null,t),n)}static createRootAndLookUpScopeName(t,n,r){let i=r.getMetadataForScope(t),a=new Qh(null,t),o=r.themeProvider.themeMatch(a);return new e(null,a,e.mergeAttributes(n,i,o))}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(` `)}equals(t){return e.equals(this,t)}static equals(e,t){do{if(e===t||!e&&!t)return!0;if(!e||!t||e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}while(!0)}static mergeAttributes(e,t,n){let r=-1,i=0,a=0;return n!==null&&(r=n.fontStyle,i=n.foregroundId,a=n.backgroundId),ug.set(e,t.languageId,t.tokenType,null,r,i,a)}pushAttributed(t,n){if(t===null)return this;if(t.indexOf(` `)===-1)return e._pushAttributed(this,t,n);let r=t.split(/ /g),i=this;for(let t of r)i=e._pushAttributed(i,t,n);return i}static _pushAttributed(t,n,r){let i=r.getMetadataForScope(n),a=t.scopePath.push(n),o=r.themeProvider.themeMatch(a);return new e(t,a,e.mergeAttributes(t.tokenAttributes,i,o))}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){let t=[],n=this;for(;n&&n!==e;)t.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(n.parent?.scopePath??null)}),n=n.parent;return n===e?t.reverse():void 0}},h_=class e{constructor(e,t,n,r,i,a,o,s){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=i,this.endRule=a,this.nameScopesList=o,this.contentNameScopesList=s,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=r}_stackElementBrand=void 0;static NULL=new e(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return t===null?!1:e._equals(this,t)}static _equals(e,t){return e===t?!0:this._structuralEquals(e,t)?m_.equals(e.contentNameScopesList,t.contentNameScopesList):!1}static _structuralEquals(e,t){do{if(e===t||!e&&!t)return!0;if(!e||!t||e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,n,r,i,a,o,s){return new e(this,t,n,r,i,a,o,s)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){let e=[];return this._writeString(e,0),`[`+e.join(`,`)+`]`}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:Ig(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,n){let r=m_.fromExtension(t?.nameScopesList??null,n.nameScopesList);return new e(t,Fg(n.ruleId),n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,m_.fromExtension(r,n.contentNameScopesList))}},g_=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(e=>e===`*`?(this.allowAny=!0,[]):pg(e,u_).map(e=>e.matcher)),this.unbalancedBracketScopes=t.flatMap(e=>pg(e,u_).map(e=>e.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(let t of this.unbalancedBracketScopes)if(t(e))return!1;for(let t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},__=class{constructor(e,t,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=e,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let n=e?.tokenAttributes??0,r=!1;if(this.balancedBracketSelectors?.matchesAlways&&(r=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){let t=e?.getScopeNames()??[];for(let e of this._tokenTypeOverrides)e.matcher(t)&&(n=ug.set(n,0,dg(e.type),null,-1,0,0));this.balancedBracketSelectors&&(r=this.balancedBracketSelectors.match(t))}if(r&&(n=ug.set(n,0,8,r,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n),this._lastTokenEndIndex=t;return}let n=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:n}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);let n=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)n[e]=this._binaryTokens[e];return n}},v_=class{constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(let e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,n,r,i){if(!this._grammars.has(e)){let a=this._rawGrammars.get(e);if(!a)return null;this._grammars.set(e,c_(e,a,t,n,r,i,this,this._onigLib))}return this._grammars.get(e)}},y_=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new v_(Zh.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(Zh.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes,new g_(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,t,n,r,i){let a=new bg(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(e=>this._loadSingleGrammar(e.scopeName)),a.processQueue();return this._grammarForScopeName(e,t,n,r,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){let t=this._options.loadGrammar(e);if(t){let n=typeof this._options.getInjections==`function`?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,n)}}addGrammar(e,t=[],n=0,r=null){return this._syncRegistry.addGrammar(e,t),this._grammarForScopeName(e.scopeName,n,r)}_grammarForScopeName(e,t=0,n=null,r=null,i=null){return this._syncRegistry.grammarForScopeName(e,t,n,r,i)}},b_=h_.NULL;const x_=[`area`,`base`,`basefont`,`bgsound`,`br`,`col`,`command`,`embed`,`frame`,`hr`,`image`,`img`,`input`,`keygen`,`link`,`meta`,`param`,`source`,`track`,`wbr`];var S_=/["&'<>`]/g,C_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w_=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,T_=/[|\\{}()[\]^$+*?.]/g,E_=new WeakMap;function D_(e,t){if(e=e.replace(t.subset?O_(t.subset):S_,r),t.subset||t.escapeOnly)return e;return e.replace(C_,n).replace(w_,r);function n(e,n,r){return t.format((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536,r.charCodeAt(n+2),t)}function r(e,n,r){return t.format(e.charCodeAt(0),r.charCodeAt(n+1),t)}}function O_(e){let t=E_.get(e);return t||(t=k_(e),E_.set(e,t)),t}function k_(e){let t=[],n=-1;for(;++n<e.length;)t.push(e[n].replace(T_,`\\$&`));return RegExp(`(?:`+t.join(`|`)+`)`,`g`)}var A_=/[\dA-Fa-f]/;function j_(e,t,n){let r=`&#x`+e.toString(16).toUpperCase();return n&&t&&!A_.test(String.fromCharCode(t))?r:r+`;`}var M_=/\d/;function N_(e,t,n){let r=`&#`+String(e);return n&&t&&!M_.test(String.fromCharCode(t))?r:r+`;`}const P_=`AElig.AMP.Aacute.Acirc.Agrave.Aring.Atilde.Auml.COPY.Ccedil.ETH.Eacute.Ecirc.Egrave.Euml.GT.Iacute.Icirc.Igrave.Iuml.LT.Ntilde.Oacute.Ocirc.Ograve.Oslash.Otilde.Ouml.QUOT.REG.THORN.Uacute.Ucirc.Ugrave.Uuml.Yacute.aacute.acirc.acute.aelig.agrave.amp.aring.atilde.auml.brvbar.ccedil.cedil.cent.copy.curren.deg.divide.eacute.ecirc.egrave.eth.euml.frac12.frac14.frac34.gt.iacute.icirc.iexcl.igrave.iquest.iuml.laquo.lt.macr.micro.middot.nbsp.not.ntilde.oacute.ocirc.ograve.ordf.ordm.oslash.otilde.ouml.para.plusmn.pound.quot.raquo.reg.sect.shy.sup1.sup2.sup3.szlig.thorn.times.uacute.ucirc.ugrave.uml.uuml.yacute.yen.yuml`.split(`.`),F_={nbsp:`\xA0`,iexcl:``,cent:``,pound:``,curren:``,yen:``,brvbar:``,sect:``,uml:``,copy:``,ordf:``,laquo:``,not:``,shy:``,reg:``,macr:``,deg:``,plusmn:``,sup2:``,sup3:``,acute:``,micro:``,para:``,middot:``,cedil:``,sup1:``,ordm:``,raquo:``,frac14:``,frac12:``,frac34:``,iquest:``,Agrave:``,Aacute:``,Acirc:``,Atilde:``,Auml:``,Aring:``,AElig:``,Ccedil:``,Egrave:``,Eacute:``,Ecirc:``,Euml:``,Igrave:``,Iacute:``,Icirc:``,Iuml:``,ETH:``,Ntilde:``,Ograve:``,Oacute:``,Ocirc:``,Otilde:``,Ouml:``,times:``,Oslash:``,Ugrave:``,Uacute:``,Ucirc:``,Uuml:``,Yacute:``,THORN:``,szlig:``,agrave:``,aacute:``,acirc:``,atilde:``,auml:``,aring:``,aelig:``,ccedil:``,egrave:``,eacute:``,ecirc:``,euml:``,igrave:``,iacute:``,icirc:``,iuml:``,eth:``,ntilde:``,ograve:``,oacute:``,ocirc:``,otilde:``,ouml:``,divide:``,oslash:``,ugrave:``,uacute:``,ucirc:``,uuml:``,yacute:``,thorn:``,yuml:``,fnof:``,Alpha:``,Beta:``,Gamma:``,Delta:``,Epsilon:``,Zeta:``,Eta:``,Theta:``,Iota:``,Kappa:``,Lambda:``,Mu:``,Nu:``,Xi:``,Omicron:``,Pi:``,Rho:``,Sigma:``,Tau:``,Upsilon:``,Phi:``,Chi:``,Psi:``,Omega:``,alpha:``,beta:``,gamma:``,delta:``,epsilon:``,zeta:``,eta:``,theta:``,iota:``,kappa:``,lambda:``,mu:``,nu:``,xi:``,omicron:``,pi:``,rho:``,sigmaf:``,sigma:``,tau:``,upsilon:``,phi:``,chi:``,psi:``,omega:``,thetasym:``,upsih:``,piv:``,bull:``,hellip:``,prime:``,Prime:``,oline:``,frasl:``,weierp:``,image:``,real:``,trade:``,alefsym:``,larr:``,uarr:``,rarr:``,darr:``,harr:``,crarr:``,lArr:``,uArr:``,rArr:``,dArr:``,hArr:``,forall:``,part:``,exist:``,empty:``,nabla:``,isin:``,notin:``,ni:``,prod:``,sum:``,minus:``,lowast:``,radic:``,prop:``,infin:``,ang:``,and:``,or:``,cap:``,cup:``,int:``,there4:``,sim:``,cong:``,asymp:``,ne:``,equiv:``,le:``,ge:``,sub:``,sup:``,nsub:``,sube:``,supe:``,oplus:``,otimes:``,perp:``,sdot:``,lceil:``,rceil:``,lfloor:``,rfloor:``,lang:``,rang:``,loz:``,spades:``,clubs:``,hearts:``,diams:``,quot:`"`,amp:`&`,lt:`<`,gt:`>`,OElig:``,oelig:``,Scaron:``,scaron:``,Yuml:``,circ:``,tilde:``,ensp:``,emsp:``,thinsp:``,zwnj:``,zwj:``,lrm:``,rlm:``,ndash:``,mdash:``,lsquo:``,rsquo:``,sbquo:``,ldquo:``,rdquo:``,bdquo:``,dagger:``,Dagger:``,permil:``,lsaquo:``,rsaquo:``,euro:``},I_=[`cent`,`copy`,`divide`,`gt`,`lt`,`not`,`para`,`times`];var L_={}.hasOwnProperty,R_={},z_;for(z_ in F_)L_.call(F_,z_)&&(R_[F_[z_]]=z_);var B_=/[^\dA-Za-z]/;function V_(e,t,n,r){let i=String.fromCharCode(e);if(L_.call(R_,i)){let e=R_[i],a=`&`+e;return n&&P_.includes(e)&&!I_.includes(e)&&(!r||t&&t!==61&&B_.test(String.fromCharCode(t)))?a:a+`;`}return``}function H_(e,t,n){let r=j_(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=V_(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){let i=N_(e,t,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function U_(e,t){return D_(e,Object.assign({format:H_},t))}var W_=/^>|^->|<!--|-->|--!>|<!-$/g,G_=[`>`],K_=[`<`,`>`];function q_(e,t,n,r){return r.settings.bogusComments?`<?`+U_(e.value,Object.assign({},r.settings.characterReferences,{subset:G_}))+`>`:`<!--`+e.value.replace(W_,i)+`-->`;function i(e){return U_(e,Object.assign({},r.settings.characterReferences,{subset:K_}))}}function J_(e,t,n,r){return`<!`+(r.settings.upperDoctype?`DOCTYPE`:`doctype`)+(r.settings.tightDoctype?``:` `)+`html>`}var Y_=/[ \t\n\f\r]/g;function X_(e){return typeof e==`object`?e.type===`text`?Z_(e.value):!1:Z_(e)}function Z_(e){return e.replace(Y_,``)===``}const Q_=tv(1),$_=tv(-1);var ev=[];function tv(e){return t;function t(t,n,r){let i=t?t.children:ev,a=(n||0)+e,o=i[a];if(!r)for(;o&&X_(o);)a+=e,o=i[a];return o}}var nv={}.hasOwnProperty;function rv(e){return t;function t(t,n,r){return nv.call(e,t.tagName)&&e[t.tagName](t,n,r)}}const iv=rv({body:sv,caption:av,colgroup:av,dd:dv,dt:uv,head:av,html:ov,li:lv,optgroup:pv,option:mv,p:cv,rp:fv,rt:fv,tbody:gv,td:yv,tfoot:_v,th:yv,thead:hv,tr:vv});function av(e,t,n){let r=Q_(n,t,!0);return!r||r.type!==`comment`&&!(r.type===`text`&&X_(r.value.charAt(0)))}function ov(e,t,n){let r=Q_(n,t);return!r||r.type!==`comment`}function sv(e,t,n){let r=Q_(n,t);return!r||r.type!==`comment`}function cv(e,t,n){let r=Q_(n,t);return r?r.type===`element`&&(r.tagName===`address`||r.tagName===`article`||r.tagName===`aside`||r.tagName===`blockquote`||r.tagName===`details`||r.tagName===`div`||r.tagName===`dl`||r.tagName===`fieldset`||r.tagName===`figcaption`||r.tagName===`figure`||r.tagName===`footer`||r.tagName===`form`||r.tagName===`h1`||r.tagName===`h2`||r.tagName===`h3`||r.tagName===`h4`||r.tagName===`h5`||r.tagName===`h6`||r.tagName===`header`||r.tagName===`hgroup`||r.tagName===`hr`||r.tagName===`main`||r.tagName===`menu`||r.tagName===`nav`||r.tagName===`ol`||r.tagName===`p`||r.tagName===`pre`||r.tagName===`section`||r.tagName===`table`||r.tagName===`ul`):!n||!(n.type===`element`&&(n.tagName===`a`||n.tagName===`audio`||n.tagName===`del`||n.tagName===`ins`||n.tagName===`map`||n.tagName===`noscript`||n.tagName===`video`))}function lv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&r.tagName===`li`}function uv(e,t,n){let r=Q_(n,t);return!!(r&&r.type===`element`&&(r.tagName===`dt`||r.tagName===`dd`))}function dv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&(r.tagName===`dt`||r.tagName===`dd`)}function fv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&(r.tagName===`rp`||r.tagName===`rt`)}function pv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&r.tagName===`optgroup`}function mv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&(r.tagName===`option`||r.tagName===`optgroup`)}function hv(e,t,n){let r=Q_(n,t);return!!(r&&r.type===`element`&&(r.tagName===`tbody`||r.tagName===`tfoot`))}function gv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&(r.tagName===`tbody`||r.tagName===`tfoot`)}function _v(e,t,n){return!Q_(n,t)}function vv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&r.tagName===`tr`}function yv(e,t,n){let r=Q_(n,t);return!r||r.type===`element`&&(r.tagName===`td`||r.tagName===`th`)}const bv=rv({body:Cv,colgroup:wv,head:Sv,html:xv,tbody:Tv});function xv(e){let t=Q_(e,-1);return!t||t.type!==`comment`}function Sv(e){let t=new Set;for(let n of e.children)if(n.type===`element`&&(n.tagName===`base`||n.tagName===`title`)){if(t.has(n.tagName))return!1;t.add(n.tagName)}let n=e.children[0];return!n||n.type===`element`}function Cv(e){let t=Q_(e,-1,!0);return!t||t.type!==`comment`&&!(t.type===`text`&&X_(t.value.charAt(0)))&&!(t.type===`element`&&(t.tagName===`meta`||t.tagName===`link`||t.tagName===`script`||t.tagName===`style`||t.tagName===`template`))}function wv(e,t,n){let r=$_(n,t),i=Q_(e,-1,!0);return n&&r&&r.type===`element`&&r.tagName===`colgroup`&&iv(r,n.children.indexOf(r),n)?!1:!!(i&&i.type===`element`&&i.tagName===`col`)}function Tv(e,t,n){let r=$_(n,t),i=Q_(e,-1);return n&&r&&r.type===`element`&&(r.tagName===`thead`||r.tagName===`tbody`)&&iv(r,n.children.indexOf(r),n)?!1:!!(i&&i.type===`element`&&i.tagName===`tr`)}var Ev={name:[[`	
\f\r &/=>`.split(``),`	
\f\r "&'/=>\``.split(``)],[`\0	
\f\r "&'/<=>`.split(``),`\0	
\f\r "&'/<=>\``.split(``)]],unquoted:[[`	
\f\r &>`.split(``),`\0	
\f\r "&'<=>\``.split(``)],[`\0	
\f\r "&'<=>\``.split(``),`\0	
\f\r "&'<=>\``.split(``)]],single:[[`&'`.split(``),`"&'\``.split(``)],[`\0&'`.split(``),`\0"&'\``.split(``)]],double:[[`"&`.split(``),`"&'\``.split(``)],[`\0"&`.split(``),`\0"&'\``.split(``)]]};function Dv(e,t,n,r){let i=r.schema,a=i.space===`svg`?!1:r.settings.omitOptionalTags,o=i.space===`svg`?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase()),s=[],c;i.space===`html`&&e.tagName===`svg`&&(r.schema=Nm);let l=Ov(r,e.properties),u=r.all(i.space===`html`&&e.tagName===`template`?e.content:e);return r.schema=i,u&&(o=!1),(l||!a||!bv(e,t,n))&&(s.push(`<`,e.tagName,l?` `+l:``),o&&(i.space===`svg`||r.settings.closeSelfClosing)&&(c=l.charAt(l.length-1),(!r.settings.tightSelfClosing||c===`/`||c&&c!==`"`&&c!==`'`)&&s.push(` `),s.push(`/`)),s.push(`>`)),s.push(u),!o&&(!a||!iv(e,t,n))&&s.push(`</`+e.tagName+`>`),s.join(``)}function Ov(e,t){let n=[],r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){let r=kv(e,i,t[i]);r&&n.push(r)}}for(;++r<n.length;){let t=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&t!==`"`&&t!==`'`&&(n[r]+=` `)}return n.join(``)}function kv(e,t,n){let r=km(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space===`html`?0:1,a=e.settings.allowDangerousCharacters?0:1,o=e.quote,s;if(r.overloadedBoolean&&(n===r.attribute||n===``)?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!=`string`||n===r.attribute||n===``)&&(n=!!n),n==null||n===!1||typeof n==`number`&&Number.isNaN(n))return``;let c=U_(r.attribute,Object.assign({},e.settings.characterReferences,{subset:Ev.name[i][a]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Fm:zm)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?c:(e.settings.preferUnquoted&&(s=U_(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Ev.unquoted[i][a]}))),s!==n&&(e.settings.quoteSmart&&wl(n,o)>wl(n,e.alternative)&&(o=e.alternative),s=o+U_(n,Object.assign({},e.settings.characterReferences,{subset:(o===`'`?Ev.single:Ev.double)[i][a],attribute:!0}))+o),c+(s&&`=`+s))}var Av=[`<`,`&`];function jv(e,t,n,r){return n&&n.type===`element`&&(n.tagName===`script`||n.tagName===`style`)?e.value:U_(e.value,Object.assign({},r.settings.characterReferences,{subset:Av}))}function Mv(e,t,n,r){return r.settings.allowDangerousHtml?e.value:jv(e,t,n,r)}function Nv(e,t,n,r){return r.all(e)}const Pv=ku(`type`,{invalid:Fv,unknown:Iv,handlers:{comment:q_,doctype:J_,element:Dv,raw:Mv,root:Nv,text:jv}});function Fv(e){throw Error("Expected node, not `"+e+"`")}function Iv(e){let t=e;throw Error("Cannot compile unknown node `"+t.type+"`")}var Lv={},Rv={},zv=[];function Bv(e,t){let n=t||Lv,r=n.quote||`"`,i=r===`"`?`'`:`"`;if(r!==`"`&&r!==`'`)throw Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:Vv,all:Hv,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||x_,characterReferences:n.characterReferences||Rv,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space===`svg`?Nm:Mm,quote:r,alternative:i}.one(Array.isArray(e)?{type:`root`,children:e}:e,void 0,void 0)}function Vv(e,t,n){return Pv(e,t,n,this)}function Hv(e){let t=[],n=e&&e.children||zv,r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join(``)}function Uv(e,t){let n=typeof e==`string`?{}:{...e.colorReplacements},r=typeof e==`string`?e:e.name;for(let[e,i]of Object.entries(t?.colorReplacements||{}))typeof i==`string`?n[e]=i:e===r&&Object.assign(n,i);return n}function Wv(e,t){return e&&(t?.[e?.toLowerCase()]||e)}function Gv(e){return Array.isArray(e)?e:[e]}async function Kv(e){return Promise.resolve(typeof e==`function`?e():e).then(e=>e.default||e)}function qv(e){return!e||[`plaintext`,`txt`,`text`,`plain`].includes(e)}function Jv(e){return e===`ansi`||qv(e)}function Yv(e){return e===`none`}function Xv(e){return Yv(e)}function Zv(e,t){if(!t)return e;e.properties||={},e.properties.class||=[],typeof e.properties.class==`string`&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);let n=Array.isArray(t)?t:t.split(/\s+/g);for(let t of n)t&&!e.properties.class.includes(t)&&e.properties.class.push(t);return e}function Qv(e,t=!1){if(e.length===0)return[[``,0]];let n=e.split(/(\r?\n)/g),r=0,i=[];for(let e=0;e<n.length;e+=2){let a=t?n[e]+(n[e+1]||``):n[e];i.push([a,r]),r+=n[e].length,r+=n[e+1]?.length||0}return i}function $v(e){let t=Qv(e,!0).map(([e])=>e);function n(n){if(n===e.length)return{line:t.length-1,character:t[t.length-1].length};let r=n,i=0;for(let e of t){if(r<e.length)break;r-=e.length,i++}return{line:i,character:r}}function r(e,n){let r=0;for(let n=0;n<e;n++)r+=t[n].length;return r+=n,r}return{lines:t,indexToPos:n,posToIndex:r}}function ey(e,t,n){let r=new Set;for(let t of e.matchAll(/:?lang=["']([^"']+)["']/g)){let e=t[1].toLowerCase().trim();e&&r.add(e)}for(let t of e.matchAll(/(?:```|~~~)([\w-]+)/g)){let e=t[1].toLowerCase().trim();e&&r.add(e)}for(let t of e.matchAll(/\\begin\{([\w-]+)\}/g)){let e=t[1].toLowerCase().trim();e&&r.add(e)}for(let t of e.matchAll(/<script\s+(?:type|lang)=["']([^"']+)["']/gi)){let e=t[1].toLowerCase().trim(),n=e.includes(`/`)?e.split(`/`).pop():e;n&&r.add(n)}if(!n)return Array.from(r);let i=n.getBundledLanguages();return Array.from(r).filter(e=>e&&i[e])}var ty=`light-dark()`,ny=[`color`,`background-color`];function ry(e,t){let n=0,r=[];for(let i of t)i>n&&r.push({...e,content:e.content.slice(n,i),offset:e.offset+n}),n=i;return n<e.content.length&&r.push({...e,content:e.content.slice(n),offset:e.offset+n}),r}function iy(e,t){let n=Array.from(t instanceof Set?t:new Set(t)).sort((e,t)=>e-t);return n.length?e.map(e=>e.flatMap(e=>{let t=n.filter(t=>e.offset<t&&t<e.offset+e.content.length).map(t=>t-e.offset).sort((e,t)=>e-t);return t.length?ry(e,t):e})):e}function ay(e,t,n,r,i=`css-vars`){let a={content:e.content,explanation:e.explanation,offset:e.offset},o=t.map(t=>oy(e.variants[t])),s=new Set(o.flatMap(e=>Object.keys(e))),c={},l=(e,r)=>{let i=r===`color`?``:r===`background-color`?`-bg`:`-${r}`;return n+t[e]+(r===`color`?``:i)};return o.forEach((e,n)=>{for(let a of s){let s=e[a]||`inherit`;if(n===0&&r&&ny.includes(a))if(r===ty&&o.length>1){let e=t.findIndex(e=>e===`light`),r=t.findIndex(e=>e===`dark`);if(e===-1||r===-1)throw new Lh('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');c[a]=`light-dark(${o[e][a]||`inherit`}, ${o[r][a]||`inherit`})`,i===`css-vars`&&(c[l(n,a)]=s)}else c[a]=s;else i===`css-vars`&&(c[l(n,a)]=s)}}),a.htmlStyle=c,a}function oy(e){let t={};if(e.color&&(t.color=e.color),e.bgColor&&(t[`background-color`]=e.bgColor),e.fontStyle){e.fontStyle&ig.Italic&&(t[`font-style`]=`italic`),e.fontStyle&ig.Bold&&(t[`font-weight`]=`bold`);let n=[];e.fontStyle&ig.Underline&&n.push(`underline`),e.fontStyle&ig.Strikethrough&&n.push(`line-through`),n.length&&(t[`text-decoration`]=n.join(` `))}return t}function sy(e){return typeof e==`string`?e:Object.entries(e).map(([e,t])=>`${e}:${t}`).join(`;`)}var cy=new WeakMap;function ly(e,t){cy.set(e,t)}function uy(e){return cy.get(e)}var dy=class e{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,n){return new e(Object.fromEntries(Gv(n).map(e=>[e,b_])),t)}constructor(...e){if(e.length===2){let[t,n]=e;this.lang=n,this._stacks=t}else{let[t,n,r]=e;this.lang=n,this._stacks={[r]:t}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return fy(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}};function fy(e){let t=[],n=new Set;function r(e){if(n.has(e))return;n.add(e);let i=e?.nameScopesList?.scopeName;i&&t.push(i),e.parent&&r(e.parent)}return r(e),t}function py(e,t){if(!(e instanceof dy))throw new Lh(`Invalid grammar state`);return e.getInternalStack(t)}function my(){let e=new WeakMap;function t(t){if(!e.has(t.meta)){let n=function(e){if(typeof e==`number`){if(e<0||e>t.source.length)throw new Lh(`Invalid decoration offset: ${e}. Code length: ${t.source.length}`);return{...r.indexToPos(e),offset:e}}else{let t=r.lines[e.line];if(t===void 0)throw new Lh(`Invalid decoration position ${JSON.stringify(e)}. Lines length: ${r.lines.length}`);let n=e.character;if(n<0&&(n=t.length+n),n<0||n>t.length)throw new Lh(`Invalid decoration position ${JSON.stringify(e)}. Line ${e.line} length: ${t.length}`);return{...e,character:n,offset:r.posToIndex(e.line,n)}}},r=$v(t.source),i=(t.options.decorations||[]).map(e=>({...e,start:n(e.start),end:n(e.end)}));hy(i),e.set(t.meta,{decorations:i,converter:r,source:t.source})}return e.get(t.meta)}return{name:`shiki:decorations`,tokens(e){if(this.options.decorations?.length)return iy(e,t(this).decorations.flatMap(e=>[e.start.offset,e.end.offset]))},code(e){if(!this.options.decorations?.length)return;let n=t(this),r=Array.from(e.children).filter(e=>e.type===`element`&&e.tagName===`span`);if(r.length!==n.converter.lines.length)throw new Lh(`Number of lines in code element (${r.length}) does not match the number of lines in the source (${n.converter.lines.length}). Failed to apply decorations.`);function i(e,t,n,i){let a=r[e],s=``,c=-1,l=-1;if(t===0&&(c=0),n===0&&(l=0),n===1/0&&(l=a.children.length),c===-1||l===-1)for(let e=0;e<a.children.length;e++)s+=gy(a.children[e]),c===-1&&s.length===t&&(c=e+1),l===-1&&s.length===n&&(l=e+1);if(c===-1)throw new Lh(`Failed to find start index for decoration ${JSON.stringify(i.start)}`);if(l===-1)throw new Lh(`Failed to find end index for decoration ${JSON.stringify(i.end)}`);let u=a.children.slice(c,l);if(!i.alwaysWrap&&u.length===a.children.length)o(a,i,`line`);else if(!i.alwaysWrap&&u.length===1&&u[0].type===`element`)o(u[0],i,`token`);else{let e={type:`element`,tagName:`span`,properties:{},children:u};o(e,i,`wrapper`),a.children.splice(c,u.length,e)}}function a(e,t){r[e]=o(r[e],t,`line`)}function o(e,t,n){let r=t.properties||{},i=t.transform||(e=>e);return e.tagName=t.tagName||`span`,e.properties={...e.properties,...r,class:e.properties.class},t.properties?.class&&Zv(e,t.properties.class),e=i(e,n)||e,e}let s=[],c=n.decorations.sort((e,t)=>t.start.offset-e.start.offset||e.end.offset-t.end.offset);for(let e of c){let{start:t,end:n}=e;if(t.line===n.line)i(t.line,t.character,n.character,e);else if(t.line<n.line){i(t.line,t.character,1/0,e);for(let r=t.line+1;r<n.line;r++)s.unshift(()=>a(r,e));i(n.line,0,n.character,e)}}s.forEach(e=>e())}}}function hy(e){for(let t=0;t<e.length;t++){let n=e[t];if(n.start.offset>n.end.offset)throw new Lh(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=t+1;r<e.length;r++){let t=e[r],i=n.start.offset<=t.start.offset&&t.start.offset<n.end.offset,a=n.start.offset<t.end.offset&&t.end.offset<=n.end.offset,o=t.start.offset<=n.start.offset&&n.start.offset<t.end.offset,s=t.start.offset<n.end.offset&&n.end.offset<=t.end.offset;if(i||a||o||s){if(i&&a||o&&s||o&&n.start.offset===n.end.offset||a&&t.start.offset===t.end.offset)continue;throw new Lh(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(t.start)} intersect.`)}}}}function gy(e){return e.type===`text`?e.value:e.type===`element`?e.children.map(gy).join(``):``}var _y=[my()];function vy(e){let t=yy(e.transformers||[]);return[...t.pre,...t.normal,...t.post,..._y]}function yy(e){let t=[],n=[],r=[];for(let i of e)switch(i.enforce){case`pre`:t.push(i);break;case`post`:n.push(i);break;default:r.push(i)}return{pre:t,post:n,normal:r}}var by=[`black`,`red`,`green`,`yellow`,`blue`,`magenta`,`cyan`,`white`,`brightBlack`,`brightRed`,`brightGreen`,`brightYellow`,`brightBlue`,`brightMagenta`,`brightCyan`,`brightWhite`],xy={1:`bold`,2:`dim`,3:`italic`,4:`underline`,7:`reverse`,8:`hidden`,9:`strikethrough`};function Sy(e,t){let n=e.indexOf(`\x1B`,t);if(n!==-1&&e[n+1]===`[`){let t=e.indexOf(`m`,n);if(t!==-1)return{sequence:e.substring(n+2,t).split(`;`),startPosition:n,position:t+1}}return{position:e.length}}function Cy(e){let t=e.shift();if(t===`2`){let t=e.splice(0,3).map(e=>Number.parseInt(e));return t.length!==3||t.some(e=>Number.isNaN(e))?void 0:{type:`rgb`,rgb:t}}else if(t===`5`){let t=e.shift();if(t)return{type:`table`,index:Number(t)}}}function wy(e){let t=[];for(;e.length>0;){let n=e.shift();if(!n)continue;let r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)t.push({type:`resetAll`});else if(r<=9)xy[r]&&t.push({type:`setDecoration`,value:xy[r]});else if(r<=29){let e=xy[r-20];e&&(t.push({type:`resetDecoration`,value:e}),e===`dim`&&t.push({type:`resetDecoration`,value:`bold`}))}else if(r<=37)t.push({type:`setForegroundColor`,value:{type:`named`,name:by[r-30]}});else if(r===38){let n=Cy(e);n&&t.push({type:`setForegroundColor`,value:n})}else if(r===39)t.push({type:`resetForegroundColor`});else if(r<=47)t.push({type:`setBackgroundColor`,value:{type:`named`,name:by[r-40]}});else if(r===48){let n=Cy(e);n&&t.push({type:`setBackgroundColor`,value:n})}else r===49?t.push({type:`resetBackgroundColor`}):r===53?t.push({type:`setDecoration`,value:`overline`}):r===55?t.push({type:`resetDecoration`,value:`overline`}):r>=90&&r<=97?t.push({type:`setForegroundColor`,value:{type:`named`,name:by[r-90+8]}}):r>=100&&r<=107&&t.push({type:`setBackgroundColor`,value:{type:`named`,name:by[r-100+8]}})}return t}function Ty(){let e=null,t=null,n=new Set;return{parse(r){let i=[],a=0;do{let o=Sy(r,a),s=o.sequence?r.substring(a,o.startPosition):r.substring(a);if(s.length>0&&i.push({value:s,foreground:e,background:t,decorations:new Set(n)}),o.sequence){let r=wy(o.sequence);for(let i of r)i.type===`resetAll`?(e=null,t=null,n.clear()):i.type===`resetForegroundColor`?e=null:i.type===`resetBackgroundColor`?t=null:i.type===`resetDecoration`&&n.delete(i.value);for(let i of r)i.type===`setForegroundColor`?e=i.value:i.type===`setBackgroundColor`?t=i.value:i.type===`setDecoration`&&n.add(i.value)}a=o.position}while(a<r.length);return i}}}var Ey={black:`#000000`,red:`#bb0000`,green:`#00bb00`,yellow:`#bbbb00`,blue:`#0000bb`,magenta:`#ff00ff`,cyan:`#00bbbb`,white:`#eeeeee`,brightBlack:`#555555`,brightRed:`#ff5555`,brightGreen:`#00ff00`,brightYellow:`#ffff55`,brightBlue:`#5555ff`,brightMagenta:`#ff55ff`,brightCyan:`#55ffff`,brightWhite:`#ffffff`};function Dy(e=Ey){function t(t){return e[t]}function n(e){return`#${e.map(e=>Math.max(0,Math.min(e,255)).toString(16).padStart(2,`0`)).join(``)}`}let r;function i(){if(r)return r;r=[];for(let e=0;e<by.length;e++)r.push(t(by[e]));let e=[0,95,135,175,215,255];for(let t=0;t<6;t++)for(let i=0;i<6;i++)for(let a=0;a<6;a++)r.push(n([e[t],e[i],e[a]]));let i=8;for(let e=0;e<24;e++,i+=10)r.push(n([i,i,i]));return r}function a(e){return i()[e]}function o(e){switch(e.type){case`named`:return t(e.name);case`rgb`:return n(e.rgb);case`table`:return a(e.index)}}return{value:o}}var Oy={black:`#000000`,red:`#cd3131`,green:`#0DBC79`,yellow:`#E5E510`,blue:`#2472C8`,magenta:`#BC3FBC`,cyan:`#11A8CD`,white:`#E5E5E5`,brightBlack:`#666666`,brightRed:`#F14C4C`,brightGreen:`#23D18B`,brightYellow:`#F5F543`,brightBlue:`#3B8EEA`,brightMagenta:`#D670D6`,brightCyan:`#29B8DB`,brightWhite:`#FFFFFF`};function ky(e,t,n){let r=Uv(e,n),i=Qv(t),a=Dy(Object.fromEntries(by.map(t=>{let n=`terminal.ansi${t[0].toUpperCase()}${t.substring(1)}`;return[t,e.colors?.[n]||Oy[t]]}))),o=Ty();return i.map(t=>o.parse(t[0]).map(n=>{let i,o;n.decorations.has(`reverse`)?(i=n.background?a.value(n.background):e.bg,o=n.foreground?a.value(n.foreground):e.fg):(i=n.foreground?a.value(n.foreground):e.fg,o=n.background?a.value(n.background):void 0),i=Wv(i,r),o=Wv(o,r),n.decorations.has(`dim`)&&(i=Ay(i));let s=ig.None;return n.decorations.has(`bold`)&&(s|=ig.Bold),n.decorations.has(`italic`)&&(s|=ig.Italic),n.decorations.has(`underline`)&&(s|=ig.Underline),n.decorations.has(`strikethrough`)&&(s|=ig.Strikethrough),{content:n.value,offset:t[1],color:i,bgColor:o,fontStyle:s}}))}function Ay(e){let t=e.match(/#([0-9a-f]{3,8})/i);if(t){let e=t[1];if(e.length===8){let t=Math.round(Number.parseInt(e.slice(6,8),16)/2).toString(16).padStart(2,`0`);return`#${e.slice(0,6)}${t}`}else if(e.length===6)return`#${e}80`;else if(e.length===4){let t=e[0],n=e[1],r=e[2],i=e[3];return`#${t}${t}${n}${n}${r}${r}${Math.round(Number.parseInt(`${i}${i}`,16)/2).toString(16).padStart(2,`0`)}`}else if(e.length===3){let t=e[0],n=e[1],r=e[2];return`#${t}${t}${n}${n}${r}${r}80`}}let n=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:e}function jy(e,t,n={}){let{theme:r=e.getLoadedThemes()[0]}=n,i=e.resolveLangAlias(n.lang||`text`);if(qv(i)||Yv(r))return Qv(t).map(e=>[{content:e[0],offset:e[1]}]);let{theme:a,colorMap:o}=e.setTheme(r);if(i===`ansi`)return ky(a,t,n);let s=e.getLanguage(n.lang||`text`);if(n.grammarState){if(n.grammarState.lang!==s.name)throw new Lh(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${s.name}"`);if(!n.grammarState.themes.includes(a.name))throw new Lh(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${a.name}"`)}return Ny(t,s,a,o,n)}function My(...e){if(e.length===2)return uy(e[1]);let[t,n,r={}]=e,{lang:i=`text`,theme:a=t.getLoadedThemes()[0]}=r;if(qv(i)||Yv(a))throw new Lh(`Plain language does not have grammar state`);if(i===`ansi`)throw new Lh(`ANSI language does not have grammar state`);let{theme:o,colorMap:s}=t.setTheme(a),c=t.getLanguage(i);return new dy(Py(n,c,o,s,r).stateStack,c.name,o.name)}function Ny(e,t,n,r,i){let a=Py(e,t,n,r,i),o=new dy(a.stateStack,t.name,n.name);return ly(a.tokens,o),a.tokens}function Py(e,t,n,r,i){let a=Uv(n,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:s=500}=i,c=Qv(e),l=i.grammarState?py(i.grammarState,n.name)??b_:i.grammarContextCode==null?b_:Py(i.grammarContextCode,t,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack,u=[],d=[];for(let e=0,f=c.length;e<f;e++){let[f,p]=c[e];if(f===``){u=[],d.push([]);continue}if(o>0&&f.length>=o){u=[],d.push([{content:f,offset:p,color:``,fontStyle:0}]);continue}let m,h,g;i.includeExplanation&&(m=t.tokenizeLine(f,l,s),h=m.tokens,g=0);let _=t.tokenizeLine2(f,l,s),v=_.tokens.length/2;for(let e=0;e<v;e++){let t=_.tokens[2*e],o=e+1<v?_.tokens[2*e+2]:f.length;if(t===o)continue;let s=_.tokens[2*e+1],c=Wv(r[ug.getForeground(s)],a),l=ug.getFontStyle(s),d={content:f.substring(t,o),offset:p+t,color:c,fontStyle:l};if(i.includeExplanation){let e=[];if(i.includeExplanation!==`scopeName`)for(let t of n.settings){let n;switch(typeof t.scope){case`string`:n=t.scope.split(/,/).map(e=>e.trim());break;case`object`:n=t.scope;break;default:continue}e.push({settings:t,selectors:n.map(e=>e.split(/ /))})}d.explanation=[];let r=0;for(;t+r<o;){let t=h[g],n=f.substring(t.startIndex,t.endIndex);r+=n.length,d.explanation.push({content:n,scopes:i.includeExplanation===`scopeName`?Fy(t.scopes):Iy(e,t.scopes)}),g+=1}}u.push(d)}d.push(u),u=[],l=_.ruleStack}return{tokens:d,stateStack:l}}function Fy(e){return e.map(e=>({scopeName:e}))}function Iy(e,t){let n=[];for(let r=0,i=t.length;r<i;r++){let i=t[r];n[r]={scopeName:i,themeMatches:zy(e,i,t.slice(0,r))}}return n}function Ly(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]===`.`}function Ry(e,t,n){if(!Ly(e[e.length-1],t))return!1;let r=e.length-2,i=n.length-1;for(;r>=0&&i>=0;)Ly(e[r],n[i])&&--r,--i;return r===-1}function zy(e,t,n){let r=[];for(let{selectors:i,settings:a}of e)for(let e of i)if(Ry(e,t,n)){r.push(a);break}return r}function By(e,t,n){let r=Object.entries(n.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})),i=r.map(r=>{let i=jy(e,t,{...n,theme:r.theme});return{tokens:i,state:uy(i),theme:typeof r.theme==`string`?r.theme:r.theme.name}}),a=Vy(...i.map(e=>e.tokens)),o=a[0].map((e,t)=>e.map((e,i)=>{let o={content:e.content,variants:{},offset:e.offset};return`includeExplanation`in n&&n.includeExplanation&&(o.explanation=e.explanation),a.forEach((e,n)=>{let{content:a,explanation:s,offset:c,...l}=e[t][i];o.variants[r[n].color]=l}),o})),s=i[0].state?new dy(Object.fromEntries(i.map(e=>[e.theme,e.state?.getInternalStack(e.theme)])),i[0].state.lang):void 0;return s&&ly(o,s),o}function Vy(...e){let t=e.map(()=>[]),n=e.length;for(let r=0;r<e[0].length;r++){let i=e.map(e=>e[r]),a=t.map(()=>[]);t.forEach((e,t)=>e.push(a[t]));let o=i.map(()=>0),s=i.map(e=>e[0]);for(;s.every(e=>e);){let e=Math.min(...s.map(e=>e.content.length));for(let t=0;t<n;t++){let n=s[t];n.content.length===e?(a[t].push(n),o[t]+=1,s[t]=i[t][o[t]]):(a[t].push({...n,content:n.content.slice(0,e)}),s[t]={...n,content:n.content.slice(e),offset:n.offset+e})}}}return t}function Hy(e,t,n){let r,i,a,o,s,c;if(`themes`in n){let{defaultColor:l=`light`,cssVariablePrefix:u=`--shiki-`,colorsRendering:d=`css-vars`}=n,f=Object.entries(n.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})).sort((e,t)=>e.color===l?-1:t.color===l?1:0);if(f.length===0)throw new Lh("`themes` option must not be empty");let p=By(e,t,n);if(c=uy(p),l&&ty!==l&&!f.find(e=>e.color===l))throw new Lh(`\`themes\` option must contain the defaultColor key \`${l}\``);let m=f.map(t=>e.getTheme(t.theme)),h=f.map(e=>e.color);a=p.map(e=>e.map(e=>ay(e,h,u,l,d))),c&&ly(a,c);let g=f.map(e=>Uv(e.theme,n));i=Uy(f,m,g,u,l,`fg`,d),r=Uy(f,m,g,u,l,`bg`,d),o=`shiki-themes ${m.map(e=>e.name).join(` `)}`,s=l?void 0:[i,r].join(`;`)}else if(`theme`in n){let s=Uv(n.theme,n);a=jy(e,t,n);let l=e.getTheme(n.theme);r=Wv(l.bg,s),i=Wv(l.fg,s),o=l.name,c=uy(a)}else throw new Lh("Invalid options, either `theme` or `themes` must be provided");return{tokens:a,fg:i,bg:r,themeName:o,rootStyle:s,grammarState:c}}function Uy(e,t,n,r,i,a,o){return e.map((s,c)=>{let l=Wv(t[c][a],n[c])||`inherit`,u=`${r+s.color}${a===`bg`?`-bg`:``}:${l}`;if(c===0&&i){if(i===ty&&e.length>1){let r=e.findIndex(e=>e.color===`light`),i=e.findIndex(e=>e.color===`dark`);if(r===-1||i===-1)throw new Lh('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');return`light-dark(${Wv(t[r][a],n[r])||`inherit`}, ${Wv(t[i][a],n[i])||`inherit`});${u}`}return l}return o===`css-vars`?u:null}).filter(e=>!!e).join(`;`)}function Wy(e,t,n,r={meta:{},options:n,codeToHast:(t,n)=>Wy(e,t,n),codeToTokens:(t,n)=>Hy(e,t,n)}){let i=t;for(let e of vy(n))i=e.preprocess?.call(r,i,n)||i;let{tokens:a,fg:o,bg:s,themeName:c,rootStyle:l,grammarState:u}=Hy(e,i,n),{mergeWhitespaces:d=!0,mergeSameStyleTokens:f=!1}=n;d===!0?a=Ky(a):d===`never`&&(a=qy(a)),f&&(a=Jy(a));let p={...r,get source(){return i}};for(let e of vy(n))a=e.tokens?.call(p,a)||a;return Gy(a,{...n,fg:o,bg:s,themeName:c,rootStyle:n.rootStyle===!1?!1:n.rootStyle??l},p,u)}function Gy(e,t,n,r=uy(e)){let i=vy(t),a=[],o={type:`root`,children:[]},{structure:s=`classic`,tabindex:c=`0`}=t,l={class:`shiki ${t.themeName||``}`};t.rootStyle!==!1&&(t.rootStyle==null?l.style=`background-color:${t.bg};color:${t.fg}`:l.style=t.rootStyle),c!==!1&&c!=null&&(l.tabindex=c.toString());for(let[e,n]of Object.entries(t.meta||{}))e.startsWith(`_`)||(l[e]=n);let u={type:`element`,tagName:`pre`,properties:l,children:[]},d={type:`element`,tagName:`code`,properties:{},children:a},f=[],p={...n,structure:s,addClassToHast:Zv,get source(){return n.source},get tokens(){return e},get options(){return t},get root(){return o},get pre(){return u},get code(){return d},get lines(){return f}};if(e.forEach((e,t)=>{t&&(s===`inline`?o.children.push({type:`element`,tagName:`br`,properties:{},children:[]}):s===`classic`&&a.push({type:`text`,value:`
`}));let n={type:`element`,tagName:`span`,properties:{class:`line`},children:[]},r=0;for(let a of e){let e={type:`element`,tagName:`span`,properties:{...a.htmlAttrs},children:[{type:`text`,value:a.content}]},c=sy(a.htmlStyle||oy(a));c&&(e.properties.style=c);for(let o of i)e=o?.span?.call(p,e,t+1,r,n,a)||e;s===`inline`?o.children.push(e):s===`classic`&&n.children.push(e),r+=a.content.length}if(s===`classic`){for(let e of i)n=e?.line?.call(p,n,t+1)||n;f.push(n),a.push(n)}else s===`inline`&&f.push(n)}),s===`classic`){for(let e of i)d=e?.code?.call(p,d)||d;u.children.push(d);for(let e of i)u=e?.pre?.call(p,u)||u;o.children.push(u)}else if(s===`inline`){let e=[],t={type:`element`,tagName:`span`,properties:{class:`line`},children:[]};for(let n of o.children)n.type===`element`&&n.tagName===`br`?(e.push(t),t={type:`element`,tagName:`span`,properties:{class:`line`},children:[]}):(n.type===`element`||n.type===`text`)&&t.children.push(n);e.push(t);let n={type:`element`,tagName:`code`,properties:{},children:e};for(let e of i)n=e?.code?.call(p,n)||n;o.children=[];for(let e=0;e<n.children.length;e++){e>0&&o.children.push({type:`element`,tagName:`br`,properties:{},children:[]});let t=n.children[e];t.type===`element`&&o.children.push(...t.children)}}let m=o;for(let e of i)m=e?.root?.call(p,m)||m;return r&&ly(m,r),m}function Ky(e){return e.map(e=>{let t=[],n=``,r;return e.forEach((i,a)=>{let o=!(i.fontStyle&&(i.fontStyle&ig.Underline||i.fontStyle&ig.Strikethrough));o&&i.content.match(/^\s+$/)&&e[a+1]?(r===void 0&&(r=i.offset),n+=i.content):n?(o?t.push({...i,offset:r,content:n+i.content}):t.push({content:n,offset:r},i),r=void 0,n=``):t.push(i)}),t})}function qy(e){return e.map(e=>e.flatMap(e=>{if(e.content.match(/^\s+$/))return e;let t=e.content.match(/^(\s*)(.*?)(\s*)$/);if(!t)return e;let[,n,r,i]=t;if(!n&&!i)return e;let a=[{...e,offset:e.offset+n.length,content:r}];return n&&a.unshift({content:n,offset:e.offset}),i&&a.push({content:i,offset:e.offset+n.length+r.length}),a}))}function Jy(e){return e.map(e=>{let t=[];for(let n of e){if(t.length===0){t.push({...n});continue}let e=t[t.length-1],r=sy(e.htmlStyle||oy(e)),i=sy(n.htmlStyle||oy(n)),a=e.fontStyle&&(e.fontStyle&ig.Underline||e.fontStyle&ig.Strikethrough),o=n.fontStyle&&(n.fontStyle&ig.Underline||n.fontStyle&ig.Strikethrough);!a&&!o&&r===i?e.content+=n.content:t.push({...n})}return t})}var Yy=Bv;function Xy(e,t,n){let r={meta:{},options:n,codeToHast:(t,n)=>Wy(e,t,n),codeToTokens:(t,n)=>Hy(e,t,n)},i=Yy(Wy(e,t,n,r));for(let e of vy(n))i=e.postprocess?.call(r,i,n)||i;return i}var Zy={light:`#333333`,dark:`#bbbbbb`},Qy={light:`#fffffe`,dark:`#1e1e1e`},$y=`__shiki_resolved`;function eb(e){if(e?.[$y])return e;let t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||=`dark`,t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:n,fg:r}=t;if(!n||!r){let e=t.settings?t.settings.find(e=>!e.name&&!e.scope):void 0;e?.settings?.foreground&&(r=e.settings.foreground),e?.settings?.background&&(n=e.settings.background),!r&&t?.colors?.[`editor.foreground`]&&(r=t.colors[`editor.foreground`]),!n&&t?.colors?.[`editor.background`]&&(n=t.colors[`editor.background`]),r||=t.type===`light`?Zy.light:Zy.dark,n||=t.type===`light`?Qy.light:Qy.dark,t.fg=r,t.bg=n}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0,a=new Map;function o(e){if(a.has(e))return a.get(e);i+=1;let n=`#${i.toString(16).padStart(8,`0`).toLowerCase()}`;return t.colorReplacements?.[`#${n}`]?o(e):(a.set(e,n),n)}t.settings=t.settings.map(e=>{let n=e.settings?.foreground&&!e.settings.foreground.startsWith(`#`),r=e.settings?.background&&!e.settings.background.startsWith(`#`);if(!n&&!r)return e;let i={...e,settings:{...e.settings}};if(n){let n=o(e.settings.foreground);t.colorReplacements[n]=e.settings.foreground,i.settings.foreground=n}if(r){let n=o(e.settings.background);t.colorReplacements[n]=e.settings.background,i.settings.background=n}return i});for(let e of Object.keys(t.colors||{}))if((e===`editor.foreground`||e===`editor.background`||e.startsWith(`terminal.ansi`))&&!t.colors[e]?.startsWith(`#`)){let n=o(t.colors[e]);t.colorReplacements[n]=t.colors[e],t.colors[e]=n}return Object.defineProperty(t,$y,{enumerable:!1,writable:!1,value:!0}),t}async function tb(e){return Array.from(new Set((await Promise.all(e.filter(e=>!Jv(e)).map(async e=>await Kv(e).then(e=>Array.isArray(e)?e:[e])))).flat()))}async function nb(e){return(await Promise.all(e.map(async e=>Xv(e)?null:eb(await Kv(e))))).filter(e=>!!e)}var rb=3,ib=!1;function ab(e,t=3){if(rb&&!(typeof rb==`number`&&t>rb)){if(ib)throw Error(`[SHIKI DEPRECATE]: ${e}`);console.trace(`[SHIKI DEPRECATE]: ${e}`)}}var ob=class extends Error{constructor(e){super(e),this.name=`ShikiError`}};function sb(e,t){if(!t)return e;if(t[e]){let n=new Set([e]);for(;t[e];){if(e=t[e],n.has(e))throw new ob(`Circular alias \`${Array.from(n).join(` -> `)} -> ${e}\``);n.add(e)}}return e}var cb=class extends y_{constructor(e,t,n,r={}){super(e),this._resolver=e,this._themes=t,this._langs=n,this._alias=r,this._themes.map(e=>this.loadTheme(e)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e==`string`?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){let t=eb(e);return t.name&&(this._resolvedThemes.set(t.name,t),this._loadedThemesCache=null),t}getLoadedThemes(){return this._loadedThemesCache||=[...this._resolvedThemes.keys()],this._loadedThemesCache}setTheme(e){let t=this._textmateThemeCache.get(e);t||(t=Zh.createFromRawTheme(e),this._textmateThemeCache.set(e,t)),this._syncRegistry.setTheme(t)}getGrammar(e){return e=sb(e,this._alias),this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;let t=new Set([...this._langMap.values()].filter(t=>t.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);let n={balancedBracketSelectors:e.balancedBracketSelectors||[`*`],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);let r=this.loadGrammarWithConfiguration(e.scopeName,1,n);if(r.name=e.name,this._resolvedGrammars.set(e.name,r),e.aliases&&e.aliases.forEach(t=>{this._alias[t]=e.name}),this._loadedLanguagesCache=null,t.size)for(let e of t)this._resolvedGrammars.delete(e.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(e.scopeName),this._syncRegistry?._grammars?.delete(e.scopeName),this.loadLanguage(this._langMap.get(e.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(let t of e)this.resolveEmbeddedLanguages(t);let t=Array.from(this._langGraph.entries()),n=t.filter(([e,t])=>!t);if(n.length){let e=t.filter(([e,t])=>t?(t.embeddedLanguages||t.embeddedLangs)?.some(e=>n.map(([e])=>e).includes(e)):!1).filter(e=>!n.includes(e));throw new ob(`Missing languages ${n.map(([e])=>`\`${e}\``).join(`, `)}, required by ${e.map(([e])=>`\`${e}\``).join(`, `)}`)}for(let[e,n]of t)this._resolver.addLanguage(n);for(let[e,n]of t)this.loadLanguage(n)}getLoadedLanguages(){return this._loadedLanguagesCache||=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])],this._loadedLanguagesCache}resolveEmbeddedLanguages(e){this._langMap.set(e.name,e),this._langGraph.set(e.name,e);let t=e.embeddedLanguages??e.embeddedLangs;if(t)for(let e of t)this._langGraph.set(e,this._langMap.get(e))}},lb=class{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,t){this._onigLib={createOnigScanner:t=>e.createScanner(t),createOnigString:t=>e.createString(t)},t.forEach(e=>this.addLanguage(e))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){let t=e.split(`.`),n=[];for(let e=1;e<=t.length;e++){let r=t.slice(0,e).join(`.`);n=[...n,...this._injections.get(r)||[]]}return n}},ub=0;function db(e){ub+=1,e.warnings!==!1&&ub>=10&&ub%10==0&&console.warn(`[Shiki] ${ub} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new ob("`engine` option is required for synchronous mode");let n=(e.langs||[]).flat(1),r=(e.themes||[]).flat(1).map(eb),i=new cb(new lb(e.engine,n),r,n,e.langAlias),a;function o(t){return sb(t,e.langAlias)}function s(e){g();let t=i.getGrammar(typeof e==`string`?e:e.name);if(!t)throw new ob(`Language \`${e}\` not found, you may need to load it first`);return t}function c(e){if(e===`none`)return{bg:``,fg:``,name:`none`,settings:[],type:`dark`};g();let t=i.getTheme(e);if(!t)throw new ob(`Theme \`${e}\` not found, you may need to load it first`);return t}function l(e){g();let t=c(e);return a!==e&&(i.setTheme(t),a=e),{theme:t,colorMap:i.getColorMap()}}function u(){return g(),i.getLoadedThemes()}function d(){return g(),i.getLoadedLanguages()}function f(...e){g(),i.loadLanguages(e.flat(1))}async function p(...e){return f(await tb(e))}function m(...e){g();for(let t of e.flat(1))i.loadTheme(t)}async function h(...e){return g(),m(await nb(e))}function g(){if(t)throw new ob(`Shiki instance has been disposed`)}function _(){t||(t=!0,i.dispose(),--ub)}return{setTheme:l,getTheme:c,getLanguage:s,getLoadedThemes:u,getLoadedLanguages:d,resolveLangAlias:o,loadLanguage:p,loadLanguageSync:f,loadTheme:h,loadThemeSync:m,dispose:_,[Symbol.dispose]:_}}async function fb(e){e.engine||ab("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");let[t,n,r]=await Promise.all([nb(e.themes||[]),tb(e.langs||[]),e.engine]);return db({...e,themes:t,langs:n,engine:r})}async function pb(e){let t=await fb(e);return{getLastGrammarState:(...e)=>My(t,...e),codeToTokensBase:(e,n)=>jy(t,e,n),codeToTokensWithThemes:(e,n)=>By(t,e,n),codeToTokens:(e,n)=>Hy(t,e,n),codeToHast:(e,n)=>Wy(t,e,n),codeToHtml:(e,n)=>Xy(t,e,n),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function mb(e){let t=e.langs,n=e.themes,r=e.engine;async function i(e){function i(n){if(typeof n==`string`){if(n=e.langAlias?.[n]||n,Jv(n))return[];let r=t[n];if(!r)throw new Lh(`Language \`${n}\` is not included in this bundle. You may want to load it from external source.`);return r}return n}function a(e){if(Xv(e))return`none`;if(typeof e==`string`){let t=n[e];if(!t)throw new Lh(`Theme \`${e}\` is not included in this bundle. You may want to load it from external source.`);return t}return e}let o=(e.themes??[]).map(e=>a(e)),s=(e.langs??[]).map(e=>i(e)),c=await pb({engine:e.engine??r(),...e,themes:o,langs:s});return{...c,loadLanguage(...e){return c.loadLanguage(...e.map(i))},loadTheme(...e){return c.loadTheme(...e.map(a))},getBundledLanguages(){return t},getBundledThemes(){return n}}}return i}function hb(e){let t;async function n(n={}){if(t){let e=await t;return await Promise.all([e.loadTheme(...n.themes||[]),e.loadLanguage(...n.langs||[])]),e}else{t=e({...n,themes:[],langs:[]});let r=await t;return await Promise.all([r.loadTheme(...n.themes||[]),r.loadLanguage(...n.langs||[])]),r}}return n}function gb(e,t){let n=hb(e);async function r(e,r){let i=await n({langs:[r.lang],themes:`theme`in r?[r.theme]:Object.values(r.themes)}),a=await t?.guessEmbeddedLanguages?.(e,r.lang,i);return a&&await i.loadLanguage(...a),i}return{getSingletonHighlighter(e){return n(e)},async codeToHtml(e,t){return(await r(e,t)).codeToHtml(e,t)},async codeToHast(e,t){return(await r(e,t)).codeToHast(e,t)},async codeToTokens(e,t){return(await r(e,t)).codeToTokens(e,t)},async codeToTokensBase(e,t){return(await r(e,t)).codeToTokensBase(e,t)},async codeToTokensWithThemes(e,t){return(await r(e,t)).codeToTokensWithThemes(e,t)},async getLastGrammarState(e,t){return(await n({langs:[t.lang],themes:[t.theme]})).getLastGrammarState(e,t)}}}function _b(e){if([...e].length!==1)throw Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}function vb(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}var yb=new Set([`alnum`,`alpha`,`ascii`,`blank`,`cntrl`,`digit`,`graph`,`lower`,`print`,`punct`,`space`,`upper`,`word`,`xdigit`]),bb=String.raw;function xb(e,t){if(e==null)throw Error(t??`Value expected`);return e}var Sb=bb`\[\^?`,Cb=`c.? | C(?:-.?)?|${bb`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${bb`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${bb`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${bb`o\{[^\}]*\}?`}|${bb`\d{1,3}`}`,wb=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,Tb=new RegExp(bb`
  \\ (?:
    ${Cb}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${wb.source})+
  | ${Sb}
  | .
`.replace(/\s+/g,``),`gsu`),Eb=new RegExp(bb`
  \\ (?:
    ${Cb}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Sb}
  | &&
  | .
`.replace(/\s+/g,``),`gsu`);function Db(e,t={}){let n={flags:``,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!=`string`)throw Error(`String expected as pattern`);let r=rx(n.flags),i=[r.extended],a={captureGroup:n.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(e){i.push(e)},replaceCurrentModX(e){i[i.length-1]=e},singleline:n.rules.singleline},o=[],s;for(Tb.lastIndex=0;s=Tb.exec(e);){let t=Ob(a,e,s[0],Tb.lastIndex);t.tokens?o.push(...t.tokens):t.token&&o.push(t.token),t.lastIndex!==void 0&&(Tb.lastIndex=t.lastIndex)}let c=[],l=0;o.filter(e=>e.type===`GroupOpen`).forEach(e=>{e.kind===`capturing`?e.number=++l:e.raw===`(`&&c.push(e)}),l||c.forEach((e,t)=>{e.kind=`capturing`,e.number=t+1});let u=l||c.length;return{tokens:o.map(e=>e.type===`EscapedNumber`?ax(e,u):e).flat(),flags:r}}function Ob(e,t,n,r){let[i,a]=n;if(n===`[`||n===`[^`){let e=kb(t,n,r);return{tokens:e.tokens,lastIndex:e.lastIndex}}if(i===`\\`){if(`AbBGyYzZ`.includes(a))return{token:Nb(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw Error(`Invalid group name "${n}"`);return{token:qb(n)}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw Error(`Invalid group name "${n}"`);return{token:Pb(n)}}if(a===`K`)return{token:Vb(`keep`,n)};if(a===`N`||a===`R`)return{token:Bb(`newline`,n,{negate:a===`N`})};if(a===`O`)return{token:Bb(`any`,n)};if(a===`X`)return{token:Bb(`text_segment`,n)};let e=jb(n,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if(i===`(`){if(a===`*`)return{token:Qb(n)};if(n===`(?{`)throw Error(`Unsupported callout "${n}"`);if(n.startsWith(`(?#`)){if(t[r]!==`)`)throw Error(`Unclosed comment group "(?#"`);return{lastIndex:r+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:Zb(n,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,n===`(`&&!e.captureGroup||n===`(?:`)return{token:Wb(`group`,n)};if(n===`(?>`)return{token:Wb(`atomic`,n)};if(n===`(?=`||n===`(?!`||n===`(?<=`||n===`(?<!`)return{token:Wb(n[2]===`<`?`lookbehind`:`lookahead`,n,{negate:n.endsWith(`!`)})};if(n===`(`&&e.captureGroup||n.startsWith(`(?<`)&&n.endsWith(`>`)||n.startsWith(`(?'`)&&n.endsWith(`'`))return{token:Wb(`capturing`,n,{...n!==`(`&&{name:n.slice(3,-1)}})};if(n.startsWith(`(?~`)){if(n===`(?~|`)throw Error(`Unsupported absence function kind "${n}"`);return{token:Wb(`absence_repeater`,n)}}throw n===`(?(`?Error(`Unsupported conditional "${n}"`):Error(`Invalid or unsupported group option "${n}"`)}if(n===`)`){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error(`Unmatched ")"`);return{token:Ub(n)}}if(e.getCurrentModX()){if(n===`#`){let e=t.indexOf(`
`,r);return{lastIndex:e===-1?t.length:e}}if(/^\s$/.test(n)){let e=/\s+/y;return e.lastIndex=r,{lastIndex:e.exec(t)?e.lastIndex:r}}}return n===`.`?{token:Bb(`dot`,n)}:n===`^`||n===`$`?{token:Nb(e.singleline?{"^":bb`\A`,$:bb`\Z`}[n]:n,n)}:n===`|`?{token:Mb(n)}:wb.test(n)?{tokens:ox(n)}:{token:Fb(_b(n),n)}}function kb(e,t,n){let r=[zb(t[1]===`^`,t)],i=1,a;for(Eb.lastIndex=n;a=Eb.exec(e);){let e=a[0];if(e[0]===`[`&&e[1]!==`:`)i++,r.push(zb(e[1]===`^`,e));else if(e===`]`){if(r.at(-1).type===`CharacterClassOpen`)r.push(Fb(93,e));else if(i--,r.push(Ib(e)),!i)break}else{let t=Ab(e);Array.isArray(t)?r.push(...t):r.push(t)}}return{tokens:r,lastIndex:Eb.lastIndex||e.length}}function Ab(e){if(e[0]===`\\`)return jb(e,{inCharClass:!0});if(e[0]===`[`){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!yb.has(t.groups.name))throw Error(`Invalid POSIX class "${e}"`);return Bb(`posix`,e,{value:t.groups.name,negate:!!t.groups.negate})}return e===`-`?Lb(e):e===`&&`?Rb(e):Fb(_b(e),e)}function jb(e,{inCharClass:t}){let n=e[1];if(n===`c`||n===`C`)return Xb(e);if(`dDhHsSwW`.includes(n))return ex(e);if(e.startsWith(bb`\o{`))throw Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw Error(`Incomplete or invalid Unicode property "${e}"`);return tx(e)}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),n=new TextDecoder(`utf-8`,{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),r=new TextEncoder;return[...n].map(e=>{let t=[...r.encode(e)].map(e=>`\\x${e.toString(16)}`).join(``);return Fb(_b(e),t)})}catch{throw Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(n===`u`||n===`x`)return Fb(ix(e),e);if(Yb.has(n))return Fb(Yb.get(n),e);if(/\d/.test(n))return Hb(t,e);if(e===`\\`)throw Error(bb`Incomplete escape "\"`);if(n===`M`)throw Error(`Unsupported meta "${e}"`);if([...e].length===2)return Fb(e.codePointAt(1),e);throw Error(`Unexpected escape "${e}"`)}function Mb(e){return{type:`Alternator`,raw:e}}function Nb(e,t){return{type:`Assertion`,kind:e,raw:t}}function Pb(e){return{type:`Backreference`,raw:e}}function Fb(e,t){return{type:`Character`,value:e,raw:t}}function Ib(e){return{type:`CharacterClassClose`,raw:e}}function Lb(e){return{type:`CharacterClassHyphen`,raw:e}}function Rb(e){return{type:`CharacterClassIntersector`,raw:e}}function zb(e,t){return{type:`CharacterClassOpen`,negate:e,raw:t}}function Bb(e,t,n={}){return{type:`CharacterSet`,kind:e,...n,raw:t}}function Vb(e,t,n={}){return e===`keep`?{type:`Directive`,kind:e,raw:t}:{type:`Directive`,kind:e,flags:xb(n.flags),raw:t}}function Hb(e,t){return{type:`EscapedNumber`,inCharClass:e,raw:t}}function Ub(e){return{type:`GroupClose`,raw:e}}function Wb(e,t,n={}){return{type:`GroupOpen`,kind:e,...n,raw:t}}function Gb(e,t,n,r){return{type:`NamedCallout`,kind:e,tag:t,arguments:n,raw:r}}function Kb(e,t,n,r){return{type:`Quantifier`,kind:e,min:t,max:n,raw:r}}function qb(e){return{type:`Subroutine`,raw:e}}var Jb=new Set([`COUNT`,`CMP`,`ERROR`,`FAIL`,`MAX`,`MISMATCH`,`SKIP`,`TOTAL_COUNT`]),Yb=new Map([[`a`,7],[`b`,8],[`e`,27],[`f`,12],[`n`,10],[`r`,13],[`t`,9],[`v`,11]]);function Xb(e){let t=e[1]===`c`?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw Error(`Unsupported control character "${e}"`);return Fb(_b(t.toUpperCase())-64,e)}function Zb(e,t){let{on:n,off:r}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;r??=``;let i=(t.getCurrentModX()||n.includes(`x`))&&!r.includes(`x`),a=nx(n),o=nx(r),s={};if(a&&(s.enable=a),o&&(s.disable=o),e.endsWith(`)`))return t.replaceCurrentModX(i),Vb(`flags`,e,{flags:s});if(e.endsWith(`:`))return t.pushModX(i),t.numOpenGroups++,Wb(`group`,e,{...(a||o)&&{flags:s}});throw Error(`Unexpected flag modifier "${e}"`)}function Qb(e){let t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw Error(`Incomplete or invalid named callout "${e}"`);let{name:n,tag:r,args:i}=t.groups;if(!n)throw Error(`Invalid named callout "${e}"`);if(r===``)throw Error(`Named callout tag with empty value not allowed "${e}"`);let a=i?i.split(`,`).filter(e=>e!==``).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[o,s,c]=a,l=Jb.has(n)?n.toLowerCase():`custom`;switch(l){case`fail`:case`mismatch`:case`skip`:if(a.length>0)throw Error(`Named callout arguments not allowed "${a}"`);break;case`error`:if(a.length>1)throw Error(`Named callout allows only one argument "${a}"`);if(typeof o==`string`)throw Error(`Named callout argument must be a number "${o}"`);break;case`max`:if(!a.length||a.length>2)throw Error(`Named callout must have one or two arguments "${a}"`);if(typeof o==`string`&&!/^[A-Za-z_]\w*$/.test(o))throw Error(`Named callout argument one must be a tag or number "${o}"`);if(a.length===2&&(typeof s==`number`||!/^[<>X]$/.test(s)))throw Error(`Named callout optional argument two must be '<', '>', or 'X' "${s}"`);break;case`count`:case`total_count`:if(a.length>1)throw Error(`Named callout allows only one argument "${a}"`);if(a.length===1&&(typeof o==`number`||!/^[<>X]$/.test(o)))throw Error(`Named callout optional argument must be '<', '>', or 'X' "${o}"`);break;case`cmp`:if(a.length!==3)throw Error(`Named callout must have three arguments "${a}"`);if(typeof o==`string`&&!/^[A-Za-z_]\w*$/.test(o))throw Error(`Named callout argument one must be a tag or number "${o}"`);if(typeof s==`number`||!/^(?:[<>!=]=|[<>])$/.test(s))throw Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${s}"`);if(typeof c==`string`&&!/^[A-Za-z_]\w*$/.test(c))throw Error(`Named callout argument three must be a tag or number "${c}"`);break;case`custom`:throw Error(`Undefined callout name "${n}"`);default:throw Error(`Unexpected named callout kind "${l}"`)}return Gb(l,r??null,i?.split(`,`)??null,e)}function $b(e){let t=null,n,r;if(e[0]===`{`){let{minStr:i,maxStr:a}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,o=1e5;if(+i>o||a&&+a>o)throw Error(`Quantifier value unsupported in Oniguruma`);if(n=+i,r=a===void 0?+i:a===``?1/0:+a,n>r&&(t=`possessive`,[n,r]=[r,n]),e.endsWith(`?`)){if(t===`possessive`)throw Error(`Unsupported possessive interval quantifier chain with "?"`);t=`lazy`}else t||=`greedy`}else n=e[0]===`+`?1:0,r=e[0]===`?`?1:1/0,t=e[1]===`+`?`possessive`:e[1]===`?`?`lazy`:`greedy`;return Kb(t,n,r,e)}function ex(e){let t=e[1].toLowerCase();return Bb({d:`digit`,h:`hex`,s:`space`,w:`word`}[t],e,{negate:e[1]!==t})}function tx(e){let{p:t,neg:n,value:r}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return Bb(`property`,e,{value:r,negate:t===`P`&&!n||t===`p`&&!!n})}function nx(e){let t={};return e.includes(`i`)&&(t.ignoreCase=!0),e.includes(`m`)&&(t.dotAll=!0),e.includes(`x`)&&(t.extended=!0),Object.keys(t).length?t:null}function rx(e){let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let n=0;n<e.length;n++){let r=e[n];if(!`imxDPSWy`.includes(r))throw Error(`Invalid flag "${r}"`);if(r===`y`){if(!/^y{[gw]}/.test(e.slice(n)))throw Error(`Invalid or unspecified flag "y" mode`);t.textSegmentMode=e[n+2]===`g`?`grapheme`:`word`,n+=3;continue}t[{i:`ignoreCase`,m:`dotAll`,x:`extended`,D:`digitIsAscii`,P:`posixIsAscii`,S:`spaceIsAscii`,W:`wordIsAscii`}[r]]=!0}return t}function ix(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw Error(`Incomplete or invalid escape "${e}"`);let t=e[2]===`{`?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function ax(e,t){let{raw:n,inCharClass:r}=e,i=n.slice(1);if(!r&&(i!==`0`&&i.length===1||i[0]!==`0`&&+i<=t))return[Pb(n)];let a=[],o=i.match(/^[0-7]+|\d/g);for(let e=0;e<o.length;e++){let t=o[e],r;if(e===0&&t!==`8`&&t!==`9`){if(r=parseInt(t,8),r>127)throw Error(bb`Octal encoded byte above 177 unsupported "${n}"`)}else r=_b(t);a.push(Fb(r,(e===0?`\\`:``)+t))}return a}function ox(e){let t=[],n=new RegExp(wb,`gy`),r;for(;r=n.exec(e);){let e=r[0];if(e[0]===`{`){let r=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(e);if(r){let{min:i,max:a}=r.groups;if(+i>+a&&e.endsWith(`?`)){n.lastIndex--,t.push($b(e.slice(0,-1)));continue}}}t.push($b(e))}return t}function sx(e,t){if(!Array.isArray(e.body))throw Error(`Expected node with body array`);if(e.body.length!==1)return!1;let n=e.body[0];return!t||Object.keys(t).every(e=>t[e]===n[e])}function cx(e){return lx.has(e.type)}var lx=new Set([`AbsenceFunction`,`Backreference`,`CapturingGroup`,`Character`,`CharacterClass`,`CharacterSet`,`Group`,`Quantifier`,`Subroutine`]);function ux(e,t={}){let n={flags:``,normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},r=Db(e,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),i=(e,t)=>{let n=r.tokens[a.nextIndex];switch(a.parent=e,a.nextIndex++,n.type){case`Alternator`:return bx();case`Assertion`:return dx(n);case`Backreference`:return fx(n,a);case`Character`:return wx(n.value,{useLastValid:!!t.isCheckingRangeEnd});case`CharacterClassHyphen`:return px(n,a,t);case`CharacterClassOpen`:return mx(n,a,t);case`CharacterSet`:return hx(n,a);case`Directive`:return Ox(n.kind,{flags:n.flags});case`GroupOpen`:return gx(n,a,t);case`NamedCallout`:return Mx(n.kind,n.tag,n.arguments);case`Quantifier`:return _x(n,a);case`Subroutine`:return vx(n,a);default:throw Error(`Unexpected token type "${n.type}"`)}},a={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:r.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:i},o=Fx(kx(r.flags)),s=o.body[0];for(;a.nextIndex<r.tokens.length;){let e=i(s,{});e.type===`Alternative`?(o.body.push(e),s=e):s.body.push(e)}let{capturingGroups:c,hasNumberedRef:l,namedGroupsByName:u,subroutines:d}=a;if(l&&u.size&&!n.rules.captureGroup)throw Error(`Numbered backref/subroutine not allowed when using named capture`);for(let{ref:e}of d)if(typeof e==`number`){if(e>c.length)throw Error(`Subroutine uses a group number that's not defined`);e&&(c[e-1].isSubroutined=!0)}else if(u.has(e)){if(u.get(e).length>1)throw Error(bb`Subroutine uses a duplicate group name "\g<${e}>"`);u.get(e)[0].isSubroutined=!0}else throw Error(bb`Subroutine uses a group name that's not defined "\g<${e}>"`);return o}function dx({kind:e}){return xx(xb({"^":`line_start`,$:`line_end`,"\\A":`string_start`,"\\b":`word_boundary`,"\\B":`word_boundary`,"\\G":`search_start`,"\\y":`text_segment_boundary`,"\\Y":`text_segment_boundary`,"\\z":`string_end`,"\\Z":`string_end_newline`}[e],`Unexpected assertion kind "${e}"`),{negate:e===bb`\B`||e===bb`\Y`})}function fx({raw:e},t){let n=/^\\k[<']/.test(e),r=n?e.slice(3,-1):e.slice(1),i=(n,r=!1)=>{let i=t.capturingGroups.length,a=!1;if(n>i)if(t.skipBackrefValidation)a=!0;else throw Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,Sx(r?i+1-n:n,{orphan:a})};if(n){let n=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(r);if(n)return i(+n.groups.num,!!n.groups.sign);if(/[-+]/.test(r))throw Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(r))throw Error(`Group name not defined to the left "${e}"`);return Sx(r)}return i(+r)}function px(e,t,n){let{tokens:r,walk:i}=t,a=t.parent,o=a.body.at(-1),s=r[t.nextIndex];if(!n.isCheckingRangeEnd&&o&&o.type!==`CharacterClass`&&o.type!==`CharacterClassRange`&&s&&s.type!==`CharacterClassOpen`&&s.type!==`CharacterClassClose`&&s.type!==`CharacterClassIntersector`){let e=i(a,{...n,isCheckingRangeEnd:!0});if(o.type===`Character`&&e.type===`Character`)return a.body.pop(),Ex(o,e);throw Error(`Invalid character class range`)}return wx(_b(`-`))}function mx({negate:e},t,n){let{tokens:r,walk:i}=t,a=r[t.nextIndex],o=[Tx()],s=Kx(a);for(;s.type!==`CharacterClassClose`;){if(s.type===`CharacterClassIntersector`)o.push(Tx()),t.nextIndex++;else{let e=o.at(-1);e.body.push(i(e,n))}s=Kx(r[t.nextIndex],a)}let c=Tx({negate:e});return o.length===1?c.body=o[0].body:(c.kind=`intersection`,c.body=o.map(e=>e.body.length===1?e.body[0]:e)),t.nextIndex++,c}function hx({kind:e,negate:t,value:n},r){let{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:a,unicodePropertyMap:o}=r;if(e===`property`){let r=Gx(n);if(yb.has(r)&&!o?.has(r))e=`posix`,n=r;else return Lx(n,{negate:t,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:a,unicodePropertyMap:o})}return e===`posix`?Nx(n,{negate:t}):Dx(e,{negate:t})}function gx(e,t,n){let{tokens:r,capturingGroups:i,namedGroupsByName:a,skipLookbehindValidation:o,walk:s}=t,c=Rx(e),l=c.type===`AbsenceFunction`,u=Hx(c),d=u&&c.negate;if(c.type===`CapturingGroup`&&(i.push(c),c.name&&vb(a,c.name,[]).push(c)),l&&n.isInAbsenceFunction)throw Error(`Nested absence function not supported by Oniguruma`);let f=qx(r[t.nextIndex]);for(;f.type!==`GroupClose`;){if(f.type===`Alternator`)c.body.push(bx()),t.nextIndex++;else{let e=c.body.at(-1),t=s(e,{...n,isInAbsenceFunction:n.isInAbsenceFunction||l,isInLookbehind:n.isInLookbehind||u,isInNegLookbehind:n.isInNegLookbehind||d});if(e.body.push(t),(u||n.isInLookbehind)&&!o){let e=`Lookbehind includes a pattern not allowed by Oniguruma`;if(d||n.isInNegLookbehind){if(Vx(t)||t.type===`CapturingGroup`)throw Error(e)}else if(Vx(t)||Hx(t)&&t.negate)throw Error(e)}}f=qx(r[t.nextIndex])}return t.nextIndex++,c}function _x({kind:e,min:t,max:n},r){let i=r.parent,a=i.body.at(-1);if(!a||!cx(a))throw Error(`Quantifier requires a repeatable token`);let o=Px(e,t,n,a);return i.body.pop(),o}function vx({raw:e},t){let{capturingGroups:n,subroutines:r}=t,i=e.slice(3,-1),a=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(a){let e=+a.groups.num,r=n.length;if(t.hasNumberedRef=!0,i={"":e,"+":r+e,"-":r+1-e}[a.groups.sign],i<1)throw Error(`Invalid subroutine number`)}else i===`0`&&(i=0);let o=Ix(i);return r.push(o),o}function yx(e,t){if(e!==`repeater`)throw Error(`Unexpected absence function kind "${e}"`);return{type:`AbsenceFunction`,kind:e,body:zx(t?.body)}}function bx(e){return{type:`Alternative`,body:Bx(e?.body)}}function xx(e,t){let n={type:`Assertion`,kind:e};return(e===`word_boundary`||e===`text_segment_boundary`)&&(n.negate=!!t?.negate),n}function Sx(e,t){let n=!!t?.orphan;return{type:`Backreference`,ref:e,...n&&{orphan:n}}}function Cx(e,t){let n={name:void 0,isSubroutined:!1,...t};if(n.name!==void 0&&!Ux(n.name))throw Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:`CapturingGroup`,number:e,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:zx(t?.body)}}function wx(e,t){let n={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(n.useLastValid)e=1114111;else throw e>1310719?Error(`Invalid code point out of range "\\x{${t}}"`):Error(`Invalid code point out of range in JS "\\x{${t}}"`)}return{type:`Character`,value:e}}function Tx(e){let t={kind:`union`,negate:!1,...e};return{type:`CharacterClass`,kind:t.kind,negate:t.negate,body:Bx(e?.body)}}function Ex(e,t){if(t.value<e.value)throw Error(`Character class range out of order`);return{type:`CharacterClassRange`,min:e,max:t}}function Dx(e,t){let n=!!t?.negate,r={type:`CharacterSet`,kind:e};return(e===`digit`||e===`hex`||e===`newline`||e===`space`||e===`word`)&&(r.negate=n),(e===`text_segment`||e===`newline`&&!n)&&(r.variableLength=!0),r}function Ox(e,t={}){if(e===`keep`)return{type:`Directive`,kind:e};if(e===`flags`)return{type:`Directive`,kind:e,flags:xb(t.flags)};throw Error(`Unexpected directive kind "${e}"`)}function kx(e){return{type:`Flags`,...e}}function Ax(e){let t=e?.atomic,n=e?.flags;if(t&&n)throw Error(`Atomic group cannot have flags`);return{type:`Group`,...t&&{atomic:t},...n&&{flags:n},body:zx(e?.body)}}function jx(e){let t={behind:!1,negate:!1,...e};return{type:`LookaroundAssertion`,kind:t.behind?`lookbehind`:`lookahead`,negate:t.negate,body:zx(e?.body)}}function Mx(e,t,n){return{type:`NamedCallout`,kind:e,tag:t,arguments:n}}function Nx(e,t){let n=!!t?.negate;if(!yb.has(e))throw Error(`Invalid POSIX class "${e}"`);return{type:`CharacterSet`,kind:`posix`,value:e,negate:n}}function Px(e,t,n,r){if(t>n)throw Error(`Invalid reversed quantifier range`);return{type:`Quantifier`,kind:e,min:t,max:n,body:r}}function Fx(e,t){return{type:`Regex`,body:zx(t?.body),flags:e}}function Ix(e){return{type:`Subroutine`,ref:e}}function Lx(e,t){let n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},r=n.unicodePropertyMap?.get(Gx(e));if(!r){if(n.normalizeUnknownPropertyNames)r=Wx(e);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw Error(bb`Invalid Unicode property "\p{${e}}"`)}return{type:`CharacterSet`,kind:`property`,value:r??e,negate:n.negate}}function Rx({flags:e,kind:t,name:n,negate:r,number:i}){switch(t){case`absence_repeater`:return yx(`repeater`);case`atomic`:return Ax({atomic:!0});case`capturing`:return Cx(i,{name:n});case`group`:return Ax({flags:e});case`lookahead`:case`lookbehind`:return jx({behind:t===`lookbehind`,negate:r});default:throw Error(`Unexpected group kind "${t}"`)}}function zx(e){if(e===void 0)e=[bx()];else if(!Array.isArray(e)||!e.length||!e.every(e=>e.type===`Alternative`))throw Error(`Invalid body; expected array of one or more Alternative nodes`);return e}function Bx(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw Error(`Invalid body; expected array of nodes`);return e}function Vx(e){return e.type===`LookaroundAssertion`&&e.kind===`lookahead`}function Hx(e){return e.type===`LookaroundAssertion`&&e.kind===`lookbehind`}function Ux(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function Wx(e){return e.trim().replace(/[- _]+/g,`_`).replace(/[A-Z][a-z]+(?=[A-Z])/g,`$&_`).replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}function Gx(e){return e.replace(/[- _]+/g,``).toLowerCase()}function Kx(e,t){return xb(e,`${t?.type===`Character`&&t.value===93?`Empty`:`Unclosed`} character class`)}function qx(e){return xb(e,`Unclosed group`)}function Jx(e,t,n=null){function r(e,t){for(let n=0;n<e.length;n++){let r=i(e[n],t,n,e);n=Math.max(-1,n+r)}}function i(a,o=null,s=null,c=null){let l=0,u=!1,d={node:a,parent:o,key:s,container:c,root:e,remove(){Yx(c).splice(Math.max(0,Xx(s)+l),1),l--,u=!0},removeAllNextSiblings(){return Yx(c).splice(Xx(s)+1)},removeAllPrevSiblings(){let e=Xx(s)+l;return l-=e,Yx(c).splice(0,Math.max(0,e))},replaceWith(e,t={}){let n=!!t.traverse;c?c[Math.max(0,Xx(s)+l)]=e:xb(o,`Can't replace root node`)[s]=e,n&&i(e,o,s,c),u=!0},replaceWithMultiple(e,t={}){let n=!!t.traverse;if(Yx(c).splice(Math.max(0,Xx(s)+l),1,...e),l+=e.length-1,n){let t=0;for(let n=0;n<e.length;n++)t+=i(e[n],o,Xx(s)+n+t,c)}u=!0},skip(){u=!0}},{type:f}=a,p=t[`*`],m=t[f],h=typeof p==`function`?p:p?.enter,g=typeof m==`function`?m:m?.enter;if(h?.(d,n),g?.(d,n),!u)switch(f){case`AbsenceFunction`:case`CapturingGroup`:case`Group`:r(a.body,a);break;case`Alternative`:case`CharacterClass`:r(a.body,a);break;case`Assertion`:case`Backreference`:case`Character`:case`CharacterSet`:case`Directive`:case`Flags`:case`NamedCallout`:case`Subroutine`:break;case`CharacterClassRange`:i(a.min,a,`min`),i(a.max,a,`max`);break;case`LookaroundAssertion`:r(a.body,a);break;case`Quantifier`:i(a.body,a,`body`);break;case`Regex`:r(a.body,a),i(a.flags,a,`flags`);break;default:throw Error(`Unexpected node type "${f}"`)}return m?.exit?.(d,n),p?.exit?.(d,n),l}return i(e),e}function Yx(e){if(!Array.isArray(e))throw Error(`Container expected`);return e}function Xx(e){if(typeof e!=`number`)throw Error(`Numeric key expected`);return e}var Zx=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Qx(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function $x(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n.length)}const eS=Object.freeze({DEFAULT:`DEFAULT`,CHAR_CLASS:`CHAR_CLASS`});function tS(e,t,n,r){let i=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,`gsu`),a=[!1],o=0,s=``;for(let t of e.matchAll(i)){let{0:e,groups:{$skip:i}}=t;if(!i&&(!r||r===eS.DEFAULT==!o)){n instanceof Function?s+=n(t,{context:o?eS.CHAR_CLASS:eS.DEFAULT,negated:a[a.length-1]}):s+=n;continue}e[0]===`[`?(o++,a.push(e[1]===`^`)):e===`]`&&o&&(o--,a.pop()),s+=e}return s}function nS(e,t,n,r){tS(e,t,n,r)}function rS(e,t,n=0,r){if(!new RegExp(t,`su`).test(e))return null;let i=RegExp(`${t}|(?<$skip>\\\\?.)`,`gsu`);i.lastIndex=n;let a=0,o;for(;o=i.exec(e);){let{0:e,groups:{$skip:t}}=o;if(!t&&(!r||r===eS.DEFAULT==!a))return o;e===`[`?a++:e===`]`&&a&&a--,i.lastIndex==o.index&&i.lastIndex++}return null}function iS(e,t,n){return!!rS(e,t,0,n)}function aS(e,t){let n=/\\?./gsu;n.lastIndex=t;let r=e.length,i=0,a=1,o;for(;o=n.exec(e);){let[e]=o;if(e===`[`)i++;else if(i)e===`]`&&i--;else if(e===`(`)a++;else if(e===`)`&&(a--,!a)){r=o.index;break}}return e.slice(t,r)}var oS=new RegExp(String.raw`(?<noncapturingStart>${Zx})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,`gsu`);function sS(e,t){let n=t?.hiddenCaptures??[],r=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:r,hiddenCaptures:n};let i=[0],a=[],o=0,s=0,c=NaN,l;do{l=!1;let t=0,u=0,d=!1,f;for(oS.lastIndex=Number.isNaN(c)?0:c+7;f=oS.exec(e);){let{0:p,index:m,groups:{capturingStart:h,noncapturingStart:g}}=f;if(p===`[`)t++;else if(t)p===`]`&&t--;else if(p===`(?>`&&!d)c=m,d=!0;else if(d&&g)u++;else if(h)d?u++:(o++,i.push(o+s));else if(p===`)`&&d){if(!u){s++;let t=o+s;if(e=`${e.slice(0,c)}(?:(?=(${e.slice(c+3,m)}))<$$${t}>)${e.slice(m+1)}`,l=!0,a.push(t),Qx(n,t),r.size){let e=new Map;r.forEach((n,r)=>{e.set(r>=t?r+1:r,n.map(e=>e>=t?e+1:e))}),r=e}break}u--}}}while(l);return n.push(...a),e=tS(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:n}})=>{if(t){let n=+t;if(n>i.length-1)throw Error(`Backref "${e}" greater than number of captures`);return`\\${i[n]}`}return`\\${n}`},eS.DEFAULT),{pattern:e,captureTransfers:r,hiddenCaptures:n}}var cS=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,lS=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${cS})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,``),`gsu`);function uS(e){if(!RegExp(`${cS}\\+`).test(e))return{pattern:e};let t=[],n=null,r=null,i=``,a=0,o;for(lS.lastIndex=0;o=lS.exec(e);){let{0:s,index:c,groups:{qBase:l,qMod:u,invalidQ:d}}=o;if(s===`[`)a||(r=c),a++;else if(s===`]`)a?a--:r=null;else if(!a)if(u===`+`&&i&&!i.startsWith(`(`)){if(d)throw Error(`Invalid quantifier "${s}"`);let t=-1;if(/^\{\d+\}$/.test(l))e=$x(e,c+l.length,u,``);else{if(i===`)`||i===`]`){let t=i===`)`?n:r;if(t===null)throw Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,t)}(?>${e.slice(t,c)}${l})${e.slice(c+s.length)}`}else e=`${e.slice(0,c-i.length)}(?>${i}${l})${e.slice(c+s.length)}`;t+=4}lS.lastIndex+=t}else s[0]===`(`?t.push(c):s===`)`&&(n=t.length?t.pop():null);i=s}return{pattern:e}}var dS=String.raw,fS=dS`\(\?R=(?<rDepth>[^\)]+)\)|${dS`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`}`,pS=dS`\(\?<(?![=!])(?<captureName>[^>]+)>`,mS=dS`${pS}|(?<unnamed>\()(?!\?)`,hS=new RegExp(dS`${pS}|${fS}|\(\?|\\?.`,`gsu`),gS=`Cannot use multiple overlapping recursions`;function _S(e,t){let{hiddenCaptures:n,mode:r}={hiddenCaptures:[],mode:`plugin`,...t},i=t?.captureTransfers??new Map;if(!new RegExp(fS,`su`).test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:n};if(r===`plugin`&&iS(e,dS`\(\?\(DEFINE\)`,eS.DEFAULT))throw Error(`DEFINE groups cannot be used with recursion`);let a=[],o=iS(e,dS`\\[1-9]`,eS.DEFAULT),s=new Map,c=[],l=!1,u=0,d=0,f;for(hS.lastIndex=0;f=hS.exec(e);){let{0:t,groups:{captureName:p,rDepth:m,gRNameOrNum:h,gRDepth:g}}=f;if(t===`[`)u++;else if(u)t===`]`&&u--;else if(m){if(vS(m),l)throw Error(gS);if(o)throw Error(`${r===`external`?`Backrefs`:`Numbered backrefs`} cannot be used with global recursion`);let t=e.slice(0,f.index),s=e.slice(hS.lastIndex);if(iS(s,fS,eS.DEFAULT))throw Error(gS);let c=m-1;e=yS(t,s,c,!1,n,a,d),i=SS(i,t,c,a.length,0,d);break}else if(h){vS(g);let u=!1;for(let e of c)if(e.name===h||e.num===+h){if(u=!0,e.hasRecursedWithin)throw Error(gS);break}if(!u)throw Error(dS`Recursive \g cannot be used outside the referenced group "${r===`external`?h:dS`\g<${h}&R=${g}>`}"`);let p=s.get(h),m=aS(e,p);if(o&&iS(m,dS`${pS}|\((?!\?)`,eS.DEFAULT))throw Error(`${r===`external`?`Backrefs`:`Numbered backrefs`} cannot be used with recursion of capturing groups`);let _=e.slice(p,f.index),v=m.slice(_.length+t.length),y=a.length,b=g-1,x=yS(_,v,b,!0,n,a,d);i=SS(i,_,b,a.length-y,y,d),e=`${e.slice(0,p)}${x}${e.slice(p+m.length)}`,hS.lastIndex+=x.length-t.length-_.length-v.length,c.forEach(e=>e.hasRecursedWithin=!0),l=!0}else if(p)d++,s.set(String(d),hS.lastIndex),s.set(p,hS.lastIndex),c.push({num:d,name:p});else if(t[0]===`(`){let e=t===`(`;e&&(d++,s.set(String(d),hS.lastIndex)),c.push(e?{num:d}:{})}else t===`)`&&c.pop()}return n.push(...a),{pattern:e,captureTransfers:i,hiddenCaptures:n}}function vS(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e)||(e=+e,e<2||e>100))throw Error(t)}function yS(e,t,n,r,i,a,o){let s=new Set;r&&nS(e+t,pS,({groups:{captureName:e}})=>{s.add(e)},eS.DEFAULT);let c=[n,r?s:null,i,a,o];return`${e}${bS(`(?:${e}`,`forward`,...c)}(?:)${bS(`${t})`,`backward`,...c)}${t}`}function bS(e,t,n,r,i,a,o){let s=e=>t===`forward`?e+2:n-e+2-1,c=``;for(let t=0;t<n;t++){let n=s(t);c+=tS(e,dS`${mS}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:t,unnamed:s,backref:c}})=>{if(c&&r&&!r.has(c))return e;let l=`_$${n}`;if(s||t){let n=o+a.length+1;return a.push(n),xS(i,n),s?e:`(?<${t}${l}>`}return dS`\k<${c}${l}>`},eS.DEFAULT)}return c}function xS(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function SS(e,t,n,r,i,a){if(e.size&&r){let o=0;nS(t,mS,()=>o++,eS.DEFAULT);let s=a-o+i,c=new Map;return e.forEach((e,t)=>{let i=(r-o*n)/n,a=o*n,l=t>s+o?t+r:t,u=[];for(let t of e)if(t<=s)u.push(t);else if(t>s+o+i)u.push(t+r);else if(t<=s+o)for(let e=0;e<=n;e++)u.push(t+o*e);else for(let e=0;e<=n;e++)u.push(t+a+i*e);c.set(l,u)}),c}return e}var CS=String.fromCodePoint,Z=String.raw,wS={flagGroups:(()=>!0)(),unicodeSets:(()=>!0)()};wS.bugFlagVLiteralHyphenIsRange=wS.unicodeSets?(()=>{try{new RegExp(Z`[\d\-a]`,`v`)}catch{return!0}return!1})():!1,wS.bugNestedClassIgnoresNegation=wS.unicodeSets&&RegExp(`[[^a]]`,`v`).test(`a`);function TS(e,{enable:t,disable:n}){return{dotAll:!n?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!n?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function ES(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}function DS(e,t){return kS[e]>=kS[t]}function OS(e,t){if(e==null)throw Error(t??`Value expected`);return e}var kS={ES2025:2025,ES2024:2024,ES2018:2018},AS={auto:`auto`,ES2025:`ES2025`,ES2024:`ES2024`,ES2018:`ES2018`};function jS(e={}){if({}.toString.call(e)!==`[object Object]`)throw Error(`Unexpected options`);if(e.target!==void 0&&!AS[e.target])throw Error(`Unexpected target "${e.target}"`);let t={accuracy:`default`,avoidSubclass:!1,flags:``,global:!1,hasIndices:!1,lazyCompileLength:1/0,target:`auto`,verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target===`auto`&&(t.target=wS.flagGroups?`ES2025`:wS.unicodeSets?`ES2024`:`ES2018`),t}var MS=`[	-\r ]`,NS=new Set([CS(304),CS(305)]),PS=Z`[\p{L}\p{M}\p{N}\p{Pc}]`;function FS(e){if(NS.has(e))return[e];let t=new Set,n=e.toLowerCase(),r=n.toUpperCase(),i=zS.get(n),a=LS.get(n),o=RS.get(n);return[...r].length===1&&t.add(r),o&&t.add(o),i&&t.add(i),t.add(n),a&&t.add(a),[...t]}var IS=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Gx(e),e])),LS=new Map([[`s`,CS(383)],[CS(383),`s`]]),RS=new Map([[CS(223),CS(7838)],[CS(107),CS(8490)],[CS(229),CS(8491)],[CS(969),CS(8486)]]),zS=new Map([HS(453),HS(456),HS(459),HS(498),...US(8072,8079),...US(8088,8095),...US(8104,8111),HS(8124),HS(8140),HS(8188)]),BS=new Map([[`alnum`,Z`[\p{Alpha}\p{Nd}]`],[`alpha`,Z`\p{Alpha}`],[`ascii`,Z`\p{ASCII}`],[`blank`,Z`[\p{Zs}\t]`],[`cntrl`,Z`\p{Cc}`],[`digit`,Z`\p{Nd}`],[`graph`,Z`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],[`lower`,Z`\p{Lower}`],[`print`,Z`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],[`punct`,Z`[\p{P}\p{S}]`],[`space`,Z`\p{space}`],[`upper`,Z`\p{Upper}`],[`word`,Z`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],[`xdigit`,Z`\p{AHex}`]]);function VS(e,t){let n=[];for(let r=e;r<=t;r++)n.push(r);return n}function HS(e){let t=CS(e);return[t.toLowerCase(),t]}function US(e,t){return VS(e,t).map(e=>HS(e))}var WS=new Set([`Lower`,`Lowercase`,`Upper`,`Uppercase`,`Ll`,`Lowercase_Letter`,`Lt`,`Titlecase_Letter`,`Lu`,`Uppercase_Letter`]);function GS(e,t){let n={accuracy:`default`,asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:`ES2025`,...t};YS(e);let r={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:DS(n.bestEffortTarget,`ES2024`),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};Jx(e,KS,r);let i={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:r.subroutineRefMap};return Jx(e,qS,a),Jx(e,JS,{groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer}),e._originMap=a.groupOriginByCopy,e._strategy=r.strategy,e}var KS={AbsenceFunction({node:e,parent:t,replaceWith:n}){let{body:r,kind:i}=e;if(i===`repeater`){let e=Ax();e.body[0].body.push(jx({negate:!0,body:r}),Lx(`Any`));let i=Ax();i.body[0].body.push(Px(`greedy`,0,1/0,e)),n(mC(i,t),{traverse:!0})}else throw Error(`Unsupported absence function "(?~|"`)},Alternative:{enter({node:e,parent:t,key:n},{flagDirectivesByAlt:r}){let i=e.body.filter(e=>e.kind===`flags`);for(let e=n+1;e<t.body.length;e++){let n=t.body[e];ES(r,n,[]).push(...i)}},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let n=nC(t.get(e));if(n){let t=Ax({flags:n});t.body[0].body=e.body,e.body=[mC(t,e)]}}}},Assertion({node:e,parent:t,key:n,container:r,root:i,remove:a,replaceWith:o},s){let{kind:c,negate:l}=e,{asciiWordBoundaries:u,avoidSubclass:d,supportedGNodes:f,wordIsAscii:p}=s;if(c===`text_segment_boundary`)throw Error(`Unsupported text segment boundary "\\${l?`Y`:`y`}"`);if(c===`line_end`)o(mC(jx({body:[bx({body:[xx(`string_end`)]}),bx({body:[wx(10)]})]}),t));else if(c===`line_start`)o(mC(dC(Z`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(c===`search_start`)if(f.has(e))i.flags.sticky=!0,a();else{let e=r[n-1];if(e&&cC(e))o(mC(jx({negate:!0}),t));else if(d)throw Error(Z`Uses "\G" in a way that requires a subclass`);else o(pC(xx(`string_start`),t)),s.strategy=`clip_search`}else if(!(c===`string_end`||c===`string_start`))if(c===`string_end_newline`)o(mC(dC(Z`(?=\n?\z)`),t));else if(c===`word_boundary`){if(!p&&!u){let e=`(?:(?<=${PS})(?!${PS})|(?<!${PS})(?=${PS}))`,n=`(?:(?<=${PS})(?=${PS})|(?<!${PS})(?!${PS}))`;o(mC(dC(l?n:e),t))}}else throw Error(`Unexpected assertion kind "${c}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:n}=e;typeof n==`string`&&!uC(n)&&(n=tC(n,t),e.ref=n)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:n}){let{name:r}=e;r&&!uC(r)&&(r=tC(r,t),e.name=r),n.set(e.number,e),r&&n.set(r,e)},CharacterClassRange({node:e,parent:t,replaceWith:n}){t.kind===`intersection`&&n(mC(Tx({body:[e]}),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:n},{accuracy:r,minTargetEs2024:i,digitIsAscii:a,spaceIsAscii:o,wordIsAscii:s}){let{kind:c,negate:l,value:u}=e;if(a&&(c===`digit`||u===`digit`)){n(pC(Dx(`digit`,{negate:l}),t));return}if(o&&(c===`space`||u===`space`)){n(mC(fC(dC(MS),l),t));return}if(s&&(c===`word`||u===`word`)){n(pC(Dx(`word`,{negate:l}),t));return}if(c===`any`)n(pC(Lx(`Any`),t));else if(c===`digit`)n(pC(Lx(`Nd`,{negate:l}),t));else if(c!==`dot`)if(c===`text_segment`){if(r===`strict`)throw Error(Z`Use of "\X" requires non-strict accuracy`);let e=`\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?`,a=Z`\p{RI}{2}|${e}(?:\u200D${e})*`;n(mC(dC(Z`(?>\r\n|${i?Z`\p{RGI_Emoji}`:a}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(c===`hex`)n(pC(Lx(`AHex`,{negate:l}),t));else if(c===`newline`)n(mC(dC(l?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),t));else if(c===`posix`)if(!i&&(u===`graph`||u===`print`)){if(r===`strict`)throw Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let e={graph:`!-~`,print:` -~`}[u];l&&(e=`\0-${CS(e.codePointAt(0)-1)}${CS(e.codePointAt(2)+1)}-\u{10FFFF}`),n(mC(dC(`[${e}]`),t))}else n(mC(fC(dC(BS.get(u)),l),t));else if(c===`property`)IS.has(Gx(u))||(e.key=`sc`);else if(c===`space`)n(pC(Lx(`space`,{negate:l}),t));else if(c===`word`)n(mC(fC(dC(PS),l),t));else throw Error(`Unexpected character set kind "${c}"`)},Directive({node:e,parent:t,root:n,remove:r,replaceWith:i,removeAllPrevSiblings:a,removeAllNextSiblings:o}){let{kind:s,flags:c}=e;if(s===`flags`)if(!c.enable&&!c.disable)r();else{let e=Ax({flags:c});e.body[0].body=o(),i(mC(e,t),{traverse:!0})}else if(s===`keep`){let e=n.body[0],r=n.body.length===1&&sx(e,{type:`Group`})&&e.body[0].body.length===1?e.body[0]:n;if(t.parent!==r||r.body.length>1)throw Error(Z`Uses "\K" in a way that's unsupported`);let o=jx({behind:!0});o.body[0].body=a(),i(mC(o,t))}else throw Error(`Unexpected directive kind "${s}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw Error(`Unsupported flag "P"`);if(e.textSegmentMode===`word`)throw Error(`Unsupported flag "y{w}"`);[`digitIsAscii`,`extended`,`posixIsAscii`,`spaceIsAscii`,`wordIsAscii`,`textSegmentMode`].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:n}=e.flags;t?.extended&&delete t.extended,n?.extended&&delete n.extended,t?.dotAll&&n?.dotAll&&delete t.dotAll,t?.ignoreCase&&n?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,n&&!Object.keys(n).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){let{kind:n}=e;n===`lookbehind`&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:n}){let{kind:r}=e;if(r===`fail`)n(mC(jx({negate:!0}),t));else throw Error(`Unsupported named callout "(*${r.toUpperCase()}"`)},Quantifier({node:e}){if(e.body.type===`Quantifier`){let t=Ax();t.body[0].body.push(e.body),e.body=mC(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){let n=[],r=!1,i=!1;for(let t of e.body)if(t.body.length===1&&t.body[0].kind===`search_start`)t.body.pop();else{let e=aC(t.body);e?(r=!0,Array.isArray(e)?n.push(...e):n.push(e)):i=!0}r&&!i&&n.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:n,strategy:r}){if(t===`strict`&&n&&r)throw Error(Z`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:n}=e;typeof n==`string`&&!uC(n)&&(n=tC(n,t),e.ref=n)}},qS={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:n}){let{orphan:r,ref:i}=e;r||n.set(e,[...t.get(i).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:n,skip:r},{groupOriginByCopy:i,groupsByName:a,multiplexCapturesToLeftByRef:o,openRefs:s,reffedNodesByReferencer:c}){let l=i.get(e);if(l&&s.has(e.number)){let r=pC($S(e.number),t);c.set(r,s.get(e.number)),n(r);return}s.set(e.number,e),o.set(e.number,[]),e.name&&ES(o,e.name,[]);let u=o.get(e.name??e.number);for(let t=0;t<u.length;t++){let n=u[t];if(l===n.node||l&&l===n.origin||e===n.origin){u.splice(t,1);break}}if(o.get(e.number).push({node:e,origin:l}),e.name&&o.get(e.name).push({node:e,origin:l}),e.name){let t=ES(a,e.name,new Map),n=!1;if(l)n=!0;else for(let e of t.values())if(!e.hasDuplicateNameToRemove){n=!0;break}a.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:n})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=TS(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:n},r){let{isRecursive:i,ref:a}=e;if(i){let n=t;for(;(n=n.parent)&&!(n.type===`CapturingGroup`&&(n.name===a||n.number===a)););r.reffedNodesByReferencer.set(e,n);return}let o=r.subroutineRefMap.get(a),s=a===0,c=s?$S(0):QS(o,r.groupOriginByCopy,null),l=c;if(!s){let e=nC(eC(o,e=>e.type===`Group`&&!!e.flags)),t=e?TS(r.globalFlags,e):r.globalFlags;XS(t,r.currentFlags)||(l=Ax({flags:rC(t)}),l.body[0].body.push(c))}n(mC(l,t),{traverse:!s})}},JS={Backreference({node:e,parent:t,replaceWith:n},r){if(e.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref);return}let i=r.reffedNodesByReferencer.get(e).filter(t=>ZS(t,e));i.length?i.length>1?n(mC(Ax({atomic:!0,body:i.reverse().map(e=>bx({body:[Sx(e.number)]}))}),t)):e.ref=i[0].number:n(mC(jx({negate:!0}),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){let n=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let t=0;t<n;t++){let t=Cx();e.body.at(-1).body.push(t)}}},Subroutine({node:e},t){!e.isRecursive||e.ref===0||(e.ref=t.reffedNodesByReferencer.get(e).number)}};function YS(e){Jx(e,{"*"({node:e,parent:t}){e.parent=t}})}function XS(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function ZS(e,t){let n=t;do{if(n.type===`Regex`)return!1;if(n.type===`Alternative`)continue;if(n===e)return!1;let t=iC(n.parent);for(let r of t){if(r===n)break;if(r===e||oC(r,e))return!0}}while(n=n.parent);throw Error(`Unexpected path`)}function QS(e,t,n,r){let i=Array.isArray(e)?[]:{};for(let[a,o]of Object.entries(e))a===`parent`?i.parent=Array.isArray(n)?r:n:o&&typeof o==`object`?i[a]=QS(o,t,i,n):(a===`type`&&o===`CapturingGroup`&&t.set(i,t.get(e)??e),i[a]=o);return i}function $S(e){let t=Ix(e);return t.isRecursive=!0,t}function eC(e,t){let n=[];for(;e=e.parent;)(!t||t(e))&&n.push(e);return n}function tC(e,t){if(t.has(e))return t.get(e);let n=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/gu,`_`)}`;return t.set(e,n),n}function nC(e){let t=[`dotAll`,`ignoreCase`],n={enable:{},disable:{}};return e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete n.disable[t],n.enable[t]=!0),e.disable?.[t]&&(n.disable[t]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function rC({dotAll:e,ignoreCase:t}){let n={};return(e||t)&&(n.enable={},e&&(n.enable.dotAll=!0),t&&(n.enable.ignoreCase=!0)),(!e||!t)&&(n.disable={},!e&&(n.disable.dotAll=!0),!t&&(n.disable.ignoreCase=!0)),n}function iC(e){if(!e)throw Error(`Node expected`);let{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function aC(e){let t=e.find(e=>e.kind===`search_start`||lC(e,{negate:!1})||!sC(e));if(!t)return null;if(t.kind===`search_start`)return t;if(t.type===`LookaroundAssertion`)return t.body[0].body[0];if(t.type===`CapturingGroup`||t.type===`Group`){let e=[];for(let n of t.body){let t=aC(n.body);if(!t)return null;Array.isArray(t)?e.push(...t):e.push(t)}return e}return null}function oC(e,t){let n=iC(e)??[];for(let e of n)if(e===t||oC(e,t))return!0;return!1}function sC({type:e}){return e===`Assertion`||e===`Directive`||e===`LookaroundAssertion`}function cC(e){let t=[`Character`,`CharacterClass`,`CharacterSet`];return t.includes(e.type)||e.type===`Quantifier`&&e.min&&t.includes(e.body.type)}function lC(e,t){let n={negate:null,...t};return e.type===`LookaroundAssertion`&&(n.negate===null||e.negate===n.negate)&&e.body.length===1&&sx(e.body[0],{type:`Assertion`,kind:`search_start`})}function uC(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function dC(e,t){let n=ux(e,{...t,unicodePropertyMap:IS}).body;return n.length>1||n[0].body.length>1?Ax({body:n}):n[0].body[0]}function fC(e,t){return e.negate=t,e}function pC(e,t){return e.parent=t,e}function mC(e,t){return YS(e),e.parent=t,e}function hC(e,t){let n=jS(t),r=DS(n.target,`ES2024`),i=DS(n.target,`ES2025`),a=n.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw Error(`Invalid recursionLimit; use 2-20`);let o=null,s=null;if(!i){let t=[e.flags.ignoreCase];Jx(e,gC,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?o=!0:s=!0}})}let c={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||o)&&!s)},l=e,u={accuracy:n.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:l,originMap:e._originMap,recursionLimit:a,useAppliedIgnoreCase:!!(!i&&o&&s),useFlagMods:i,useFlagV:r,verbose:n.verbose};function d(e){return u.lastNode=l,l=e,OS(_C[e.type],`Unexpected node type "${e.type}"`)(e,u,d)}let f={pattern:e.body.map(d).join(`|`),flags:d(e.flags),options:{...e.options}};return r||(delete f.options.force.v,f.options.disable.v=!0,f.options.unicodeSetsPlugin=null),f._captureTransfers=new Map,f._hiddenCaptures=[],u.captureMap.forEach((e,t)=>{e.hidden&&f._hiddenCaptures.push(t),e.transferTo&&ES(f._captureTransfers,e.transferTo,[]).push(t)}),f}var gC={"*":{enter({node:e},t){if(kC(e)){let n=t.getCurrentModI();t.pushModI(e.flags?TS({ignoreCase:n},e.flags).ignoreCase:n)}},exit({node:e},t){kC(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){CC(CS(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},n){t(),wC(e,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:e},t){e.kind===`property`&&WS.has(e.value)&&t.setHasCasedChar()}},_C={Alternative({body:e},t,n){return e.map(n).join(``)},Assertion({kind:e,negate:t}){if(e===`string_end`)return`$`;if(e===`string_start`)return`^`;if(e===`word_boundary`)return t?Z`\B`:Z`\b`;throw Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if(typeof e!=`number`)throw Error(`Unexpected named backref in transformed AST`);if(!t.useFlagMods&&t.accuracy===`strict`&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw Error(`Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy`);return`\\`+e},CapturingGroup(e,t,n){let{body:r,name:i,number:a}=e,o={ignoreCase:t.currentFlags.ignoreCase},s=t.originMap.get(e);return s&&(o.hidden=!0,a>s.number&&(o.transferTo=s.number)),t.captureMap.set(a,o),`(${i?`?<${i}>`:``}${r.map(n).join(`|`)})`},Character({value:e},t){let n=CS(e),r=TC(e,{escDigit:t.lastNode.type===`Backreference`,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(r!==n)return r;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&CC(n)){let e=FS(n);return t.inCharClass?e.join(``):e.length>1?`[${e.join(``)}]`:e[0]}return n},CharacterClass(e,t,n){let{kind:r,negate:i,parent:a}=e,{body:o}=e;if(r===`intersection`&&!t.useFlagV)throw Error(`Use of character class intersection requires min target ES2024`);wS.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&o.some(jC)&&(o=[wx(45),...o.filter(e=>!jC(e))]);let s=()=>`[${i?`^`:``}${o.map(n).join(r===`intersection`?`&&`:``)}]`;if(!t.inCharClass){if((!t.useFlagV||wS.bugNestedClassIgnoresNegation)&&!i){let t=o.filter(e=>e.type===`CharacterClass`&&e.kind===`union`&&e.negate);if(t.length){let r=Ax(),i=r.body[0];return r.parent=a,i.parent=r,o=o.filter(e=>!t.includes(e)),e.body=o,o.length?(e.parent=i,i.body.push(e)):r.body.pop(),t.forEach(e=>{let t=bx({body:[e]});e.parent=t,t.parent=r,r.body.push(t)}),n(r)}}t.inCharClass=!0;let r=s();return t.inCharClass=!1,r}let c=o[0];if(r===`union`&&!i&&c&&((!t.useFlagV||!t.verbose)&&a.kind===`union`&&!(wS.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&a.kind===`intersection`&&o.length===1&&c.type!==`CharacterClassRange`))return o.map(n).join(``);if(!t.useFlagV&&a.type===`CharacterClass`)throw Error(`Uses nested character class in a way that requires min target ES2024`);return s()},CharacterClassRange(e,t){let n=e.min.value,r=e.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},a=TC(n,i),o=TC(r,i),s=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&EC(wC(e)).forEach(e=>{s.add(Array.isArray(e)?`${TC(e[0],i)}-${TC(e[1],i)}`:TC(e,i))}),`${a}-${o}${[...s].join(``)}`},CharacterSet({kind:e,negate:t,value:n,key:r},i){if(e===`dot`)return i.currentFlags.dotAll?i.appliedGlobalFlags.dotAll||i.useFlagMods?`.`:`[^]`:Z`[^\n]`;if(e===`digit`)return t?Z`\D`:Z`\d`;if(e===`property`){if(i.useAppliedIgnoreCase&&i.currentFlags.ignoreCase&&WS.has(n))throw Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${t?Z`\P`:Z`\p`}{${r?`${r}=`:``}${n}}`}if(e===`word`)return t?Z`\W`:Z`\w`;throw Error(`Unexpected character set kind "${e}"`)},Flags(e,t){return(t.appliedGlobalFlags.ignoreCase?`i`:``)+(e.dotAll?`s`:``)+(e.sticky?`y`:``)},Group({atomic:e,body:t,flags:n,parent:r},i,a){let o=i.currentFlags;n&&(i.currentFlags=TS(o,n));let s=t.map(a).join(`|`),c=!i.verbose&&t.length===1&&r.type!==`Quantifier`&&!e&&(!i.useFlagMods||!n)?s:`(?${DC(e,n,i.useFlagMods)}${s})`;return i.currentFlags=o,c},LookaroundAssertion({body:e,kind:t,negate:n},r,i){return`(?${`${t===`lookahead`?``:`<`}${n?`!`:`=`}`}${e.map(i).join(`|`)})`},Quantifier(e,t,n){return n(e.body)+OC(e)},Subroutine({isRecursive:e,ref:t},n){if(!e)throw Error(`Unexpected non-recursive subroutine in transformed AST`);let r=n.recursionLimit;return t===0?`(?R=${r})`:Z`\g<${t}&R=${r}>`}},vC=new Set([`$`,`(`,`)`,`*`,`+`,`.`,`?`,`[`,`\\`,`]`,`^`,`{`,`|`,`}`]),yC=new Set([`-`,`\\`,`]`,`^`,`[`]),bC=new Set("()-/[\\]^{|}!#$%&*+,.:;<=>?@`~".split(``)),xC=new Map([[9,Z`\t`],[10,Z`\n`],[11,Z`\v`],[12,Z`\f`],[13,Z`\r`],[8232,Z`\u2028`],[8233,Z`\u2029`],[65279,Z`\uFEFF`]]),SC=/^\p{Cased}$/u;function CC(e){return SC.test(e)}function wC(e,t){let n=!!t?.firstOnly,r=e.min.value,i=e.max.value,a=[];if(r<65&&(i===65535||i>=131071)||r===65536&&i>=131071)return a;for(let e=r;e<=i;e++){let t=CS(e);if(!CC(t))continue;let o=FS(t).filter(e=>{let t=e.codePointAt(0);return t<r||t>i});if(o.length&&(a.push(...o),n))break}return a}function TC(e,{escDigit:t,inCharClass:n,useFlagV:r}){if(xC.has(e))return xC.get(e);if(e<32||e>126&&e<160||e>262143||t&&AC(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,`0`)}`;let i=n?r?bC:yC:vC,a=CS(e);return(i.has(a)?`\\`:``)+a}function EC(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),n=[],r=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?r??=t[e]:r===null?n.push(t[e]):(n.push([r,t[e]]),r=null);return n}function DC(e,t,n){if(e)return`>`;let r=``;if(t&&n){let{enable:e,disable:n}=t;r=(e?.ignoreCase?`i`:``)+(e?.dotAll?`s`:``)+(n?`-`:``)+(n?.ignoreCase?`i`:``)+(n?.dotAll?`s`:``)}return`${r}:`}function OC({kind:e,max:t,min:n}){let r;return r=!n&&t===1?`?`:!n&&t===1/0?`*`:n===1&&t===1/0?`+`:n===t?`{${n}}`:`{${n},${t===1/0?``:t}}`,r+{greedy:``,lazy:`?`,possessive:`+`}[e]}function kC({type:e}){return e===`CapturingGroup`||e===`Group`||e===`LookaroundAssertion`}function AC(e){return e>47&&e<58}function jC({type:e,value:t}){return e===`Character`&&t===45}var MC=class e extends RegExp{#e=new Map;#t=null;#n;#r=null;#i=null;rawOptions={};get source(){return this.#n||`(?:)`}constructor(t,n,r){let i=!!r?.lazyCompile;if(t instanceof RegExp){if(r)throw Error(`Cannot provide options when copying a regexp`);let i=t;super(i,n),this.#n=i.source,i instanceof e&&(this.#e=i.#e,this.#r=i.#r,this.#i=i.#i,this.rawOptions=i.rawOptions)}else{let e={hiddenCaptures:[],strategy:null,transfers:[],...r};super(i?``:t,n),this.#n=t,this.#e=PC(e.hiddenCaptures,e.transfers),this.#i=e.strategy,this.rawOptions=r??{}}i||(this.#t=this)}exec(t){if(!this.#t){let{lazyCompile:t,...n}=this.rawOptions;this.#t=new e(this.#n,this.flags,n)}let n=this.global||this.sticky,r=this.lastIndex;if(this.#i===`clip_search`&&n&&r){this.lastIndex=0;let e=this.#a(t.slice(r));return e&&(NC(e,r,t,this.hasIndices),this.lastIndex+=r),e}return this.#a(t)}#a(e){this.#t.lastIndex=this.lastIndex;let t=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!t||!this.#e.size)return t;let n=[...t];t.length=1;let r;this.hasIndices&&(r=[...t.indices],t.indices.length=1);let i=[0];for(let e=1;e<n.length;e++){let{hidden:a,transferTo:o}=this.#e.get(e)??{};if(a?i.push(null):(i.push(t.length),t.push(n[e]),this.hasIndices&&t.indices.push(r[e])),o&&n[e]!==void 0){let a=i[o];if(!a)throw Error(`Invalid capture transfer to "${a}"`);if(t[a]=n[e],this.hasIndices&&(t.indices[a]=r[e]),t.groups){this.#r||=FC(this.source);let i=this.#r.get(o);i&&(t.groups[i]=n[e],this.hasIndices&&(t.indices.groups[i]=r[e]))}}}return t}};function NC(e,t,n,r){if(e.index+=t,e.input=n,r){let n=e.indices;for(let e=0;e<n.length;e++){let r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])}let r=n.groups;r&&Object.keys(r).forEach(e=>{let n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])})}}function PC(e,t){let n=new Map;for(let t of e)n.set(t,{hidden:!0});for(let[e,r]of t)for(let t of r)ES(n,t,{}).transferTo=e;return n}function FC(e){let t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map,r=0,i=0,a;for(;a=t.exec(e);){let{0:e,groups:{capture:t,name:o}}=a;e===`[`?r++:r?e===`]`&&r--:t&&(i++,o&&n.set(i,o))}return n}function IC(e,t){let n=LC(e,t);return n.options?new MC(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}function LC(e,t){let n=jS(t),r=GS(ux(e,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:IS}),{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),i=hC(r,n),a=_S(i.pattern,{captureTransfers:i._captureTransfers,hiddenCaptures:i._hiddenCaptures,mode:`external`}),o=sS(uS(a.pattern).pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),s={pattern:o.pattern,flags:`${n.hasIndices?`d`:``}${n.global?`g`:``}${i.flags}${i.options.disable.v?`u`:`v`}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw Error(`Lazy compilation requires subclass`)}else{let e=o.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(o.captureTransfers),i=r._strategy,a=s.pattern.length>=n.lazyCompileLength;(e.length||t.length||i||a)&&(s.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...i&&{strategy:i},...a&&{lazyCompile:a}})}return s}var RC=4294967295,zC=class{constructor(e,t={}){this.patterns=e,this.options=t;let{forgiving:n=!1,cache:r,regexConstructor:i}=t;if(!i)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if(typeof e!=`string`)return e;let t=r?.get(e);if(t){if(t instanceof RegExp)return t;if(n)return null;throw t}try{let t=i(e);return r?.set(e,t),t}catch(t){if(r?.set(e,t),n)return null;throw t}})}regexps;findNextMatchSync(e,t,n){let r=typeof e==`string`?e:e.content,i=[];function a(e,t,n=0){return{index:e,captureIndices:t.indices.map(e=>e==null?{start:RC,end:RC,length:0}:{start:e[0]+n,end:e[1]+n,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let n=this.regexps[e];if(n)try{n.lastIndex=t;let o=n.exec(r);if(!o)continue;if(o.index===t)return a(e,o,0);i.push([e,o,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(i.length){let e=Math.min(...i.map(e=>e[1].index));for(let[t,n,r]of i)if(n.index===e)return a(t,n,r)}return null}};function BC(e,t){return IC(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function VC(e={}){let t=Object.assign({target:`auto`,cache:new Map},e);return t.regexConstructor||=e=>BC(e,{target:t.target}),{createScanner(e){return new zC(e,t)},createString(e){return{content:e}}}}var HC=`https://esm.sh/@shikijs/langs@3.12.1/es2022/`,UC=Symbol.for(`streamdown.vue.shikiRemote`),WC=e=>(typeof e==`function`&&(e[UC]=!0),e),GC=e=>typeof e==`function`&&!!e?.[UC],KC=e=>{let t=()=>B(()=>import(`@shikijs/langs/${e}`),[],import.meta.url),n=()=>B(()=>import(`${HC}${e}.mjs`),[],import.meta.url);return WC(async()=>{if(typeof window>`u`)return t();try{return await n()}catch{return t()}})},qC={py:`python`,python3:`python`,shellscript:`shell`,shellsession:`shell`,sh:`shell`,zsh:`shell`,bash:`bash`,"markdown-vue":`vue`,"vue-directives":`vue`,"vue-interpolations":`vue`,"vue-sfc-style-variable-injection":`vue`,md:`markdown`,"html-derivative":`html`,ts:`typescript`,js:`javascript`,yml:`yaml`},JC=e=>e.trim().toLowerCase().replace(/^language-/,``),YC=e=>{let t=JC(e);return t&&(qC[t]??t)},XC=new Map,ZC=new Map,QC=(e,t)=>{let n=YC(e);n&&ZC.set(n,t)},$C=e=>{let t=YC(e);if(!t)return;if(XC.has(t))return t;let n=ZC.get(t);if(n&&XC.has(n))return n};function ew(e){let t=YC(e.id);t&&(XC.set(t,e.loader),QC(t,t),(e.aliases??[]).forEach(e=>QC(e,t)))}function tw(e){e.forEach(ew)}function nw(e){let t=new Set,n=[],r=[],i=[];return e.forEach(e=>{let a=$C(e);if(!a){r.push(YC(e)||e);return}if(t.has(a))return;let o=XC.get(a);if(!o){r.push(a);return}t.add(a),i.push(a),n.push(o)}),{inputs:n,missing:r,resolved:i}}function rw(){return Array.from(XC.keys()).sort()}function iw(){return XC.size>0}var aw=[{id:`cpp`,aliases:[`c++`],loader:KC(`cpp`)},{id:`java`,aliases:[`java`],loader:KC(`java`)},{id:`c`,loader:KC(`c`)},{id:`csharp`,aliases:[`cs`,`c#`],loader:KC(`csharp`)},{id:`php`,loader:KC(`php`)},{id:`ruby`,loader:KC(`ruby`)},{id:`kotlin`,loader:KC(`kotlin`)},{id:`swift`,loader:KC(`swift`)},{id:`sql`,loader:KC(`sql`)},{id:`typescript`,aliases:[`ts`],loader:()=>B(()=>import(`./typescript-BeffySdc.js`),__vite__mapDeps([0,1]),import.meta.url)},{id:`tsx`,loader:()=>B(()=>import(`./tsx-BajCBAkL.js`),__vite__mapDeps([2,3]),import.meta.url)},{id:`javascript`,aliases:[`js`],loader:()=>B(()=>import(`./javascript-Dquk7K-m.js`),__vite__mapDeps([4,5]),import.meta.url)},{id:`jsx`,loader:()=>B(()=>import(`./jsx-CKWg3WEE.js`),__vite__mapDeps([6,7]),import.meta.url)},{id:`json`,loader:()=>B(()=>import(`./json-wWmUJQOh.js`),__vite__mapDeps([8,9]),import.meta.url)},{id:`bash`,loader:()=>B(()=>import(`./bash-DxMJMx0m.js`),__vite__mapDeps([10,11]),import.meta.url)},{id:`shell`,aliases:[`shellscript`,`shellsession`,`sh`,`zsh`],loader:()=>B(()=>import(`./shellscript-BBZYJ-UZ.js`),__vite__mapDeps([12,11]),import.meta.url)},{id:`python`,aliases:[`py`],loader:()=>B(()=>import(`./python-tDKFWaPU.js`),[],import.meta.url)},{id:`diff`,loader:()=>B(()=>import(`./diff-D5h0u1Em.js`),[],import.meta.url)},{id:`markdown`,aliases:[`md`],loader:()=>B(()=>import(`./markdown-CxWLvdMm.js`),[],import.meta.url)},{id:`vue`,loader:()=>B(()=>import(`./vue-psj4-N8P.js`),__vite__mapDeps([13,14,15,16,5,9,1]),import.meta.url)},{id:`html`,loader:()=>B(()=>import(`./html-B2UeTn9b.js`),__vite__mapDeps([17,16,14,5]),import.meta.url)},{id:`css`,loader:()=>B(()=>import(`./css-XcKkzdtp.js`),__vite__mapDeps([18,14]),import.meta.url)},{id:`go`,loader:()=>B(()=>import(`./go-y4dtS4-l.js`),[],import.meta.url)},{id:`rust`,loader:()=>B(()=>import(`./rust-BbK5InIS.js`),[],import.meta.url)},{id:`yaml`,aliases:[`yml`],loader:()=>B(()=>import(`./yaml-Cxjn5mSc.js`),__vite__mapDeps([19,20]),import.meta.url)}],ow=!1;function sw(){ow||(ow=!0,tw(aw.slice()))}var cw=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),lw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),uw=e=>{let t=lw(e);return t.charAt(0).toUpperCase()+t.slice(1)},dw=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),fw=e=>e===``,pw={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":2,"stroke-linecap":`round`,"stroke-linejoin":`round`},mw=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":r,strokeWidth:i,"stroke-width":a,size:o=pw.width,color:s=pw.stroke,...c},{slots:l})=>z(`svg`,{...pw,...c,width:o,height:o,stroke:s,"stroke-width":fw(n)||fw(r)||n===!0||r===!0?Number(i||a||pw[`stroke-width`])*24/Number(o):i||a||pw[`stroke-width`],class:dw(`lucide`,c.class,...e?[`lucide-${cw(uw(e))}-icon`,`lucide-${cw(e)}`]:[`lucide-icon`])},[...t.map(e=>z(...e)),...l.default?[l.default()]:[]]),hw=(e,t)=>(n,{slots:r,attrs:i})=>z(mw,{...i,...n,iconNode:t,name:e},r),gw=hw(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),_w=hw(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),vw=hw(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),yw=Symbol(`code-block-meta`),bw=Symbol(`global-code-block-actions`),xw=P({name:`CopyButton`,props:{text:{type:String,required:!1},floating:{type:Boolean,default:!0}},setup(e){let t=b(!1),n=ae(yw,{code:``,language:``}),r=async()=>{try{let r=e.text??n.code;if(!r)return;await navigator.clipboard?.writeText(r),t.value=!0,setTimeout(()=>{t.value=!1},2e3)}catch{}};return()=>z(`button`,{class:[e.floating?`absolute top-2 right-2 opacity-0 group-hover:opacity-100`:`opacity-80 hover:opacity-100`,`p-1 rounded bg-gray-200 dark:bg-gray-700 transition-opacity flex items-center justify-center`].join(` `),onClick:r,"aria-live":`polite`},[t.value?z(gw,{class:`h-4 w-4`}):z(_w,{class:`h-4 w-4`}),z(`span`,{class:`sr-only`},t.value?`Copied`:`Copy`)])}}),Sw={javascript:`js`,js:`js`,typescript:`ts`,ts:`ts`,json:`json`,vue:`vue`,html:`html`,css:`css`,md:`md`,markdown:`md`,sh:`sh`,bash:`sh`,py:`py`,python:`py`,go:`go`,rust:`rs`,rs:`rs`},Cw=P({name:`DownloadButton`,props:{text:{type:String,required:!1},filename:{type:String,required:!1},floating:{type:Boolean,default:!0}},setup(e){let t=ae(yw,{code:``,language:``}),n=()=>{let n=e.text??t.code;if(!n)return;let r=t.language&&Sw[t.language.toLowerCase()]||`txt`,i=e.filename||`file.${r}`;try{let e=new Blob([n],{type:`text/plain`}),t=URL.createObjectURL(e),r=document.createElement(`a`);r.href=t,r.download=i,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}catch{}};return()=>z(`button`,{class:[e.floating?`absolute top-2 right-9 opacity-0 group-hover:opacity-100`:`opacity-80 hover:opacity-100`,`p-1 rounded bg-gray-200 dark:bg-gray-700 transition-opacity flex items-center justify-center`].join(` `),onClick:n,"aria-live":`polite`,title:`Download code`},[z(vw,{class:`h-4 w-4`}),z(`span`,{class:`sr-only`},`Download`)])}}),ww=null,Tw=null,Ew=[Se,xe],Dw=null,Ow=()=>(Dw||=VC(),Dw),kw=()=>{if(!iw())return console.warn(`[streamdown-vue] No Shiki languages are registered. Code blocks will render without syntax highlighting.`),[];let{inputs:e,missing:t}=nw(rw());return t.length&&console.warn(`[streamdown-vue] Some requested Shiki languages are not registered: ${t.join(`, `)}`),e.filter(e=>!GC(e))};async function Aw(e){if(!ww)return!1;let{inputs:t}=nw([e]);return t.length?(await ww.loadLanguage(...t),!0):!1}async function jw(){return Tw||=pb({themes:Ew,langs:kw(),engine:Ow()}).then(e=>(ww=e,e)),await Tw}var Mw=P({name:`CodeBlock`,props:{code:{type:String,required:!0},language:{type:String,default:``},theme:{type:[String,Object],default:void 0},showLineNumbers:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},actions:{type:Array,default:()=>[]},hideCopy:{type:Boolean,default:!1},hideDownload:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:n}){let r=b(``);k(yw,{get code(){return e.code},get language(){return e.language}});let a=ae(bw,[]),o=null,s=async()=>{},c=0;if(typeof window>`u`){let t=e=>e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`),n=e.language?`language-${e.language}`:``,i=[n];e.selectable||i.push(`select-none`);let a;a=e.showLineNumbers?e.code.split(/\r?\n/).map((e,n)=>`<span class="line"><span class="code-line-number select-none opacity-60 pr-4 text-xs" data-line-number data-streamdown="code-line-number">${n+1}</span>${t(e)}</span>`).join(`
`):t(e.code),r.value=`<pre data-streamdown="pre"${i.filter(Boolean).length?` class="${i.join(` `)}"`:``}><code data-streamdown="code"${n?` class="${n}"`:``}>${a}</code></pre>`}let l=e=>e.replace(/(<pre[^>]*style=")([^"]*)("[^>]*>)/g,(e,t,n,r)=>`${t}${n.split(/;\s*/).filter(e=>e&&!/background(-color)?\s*:/.test(e.toLowerCase())).join(`; `)}${r}`.replace(/style=""/,``)),u=t=>{if(!e.showLineNumbers)return t;let n=0;return t.replace(/<span class="line(.*?)">/g,(e,t)=>(n+=1,`<span class="line${t}"><span class="code-line-number select-none opacity-60 pr-4 text-xs" data-line-number data-streamdown="code-line-number">${n}</span>`))},d=t=>e.selectable?t:t.replace(`<pre`,`<pre class="select-none"`),f=e=>p(d(u(l(e)))),p=e=>e.replace(/<pre(?![^>]*data-streamdown=)/g,`<pre data-streamdown="pre"`).replace(/<code(?![^>]*data-streamdown=)/g,`<code data-streamdown="code"`),m=()=>{if(typeof document<`u`){let e=`streamdown-dual-theme-styles`;if(!document.getElementById(e)){let t=document.createElement(`style`);t.id=e,t.textContent=`
                        html.dark .shiki-themes, html.dark .shiki-themes span {
                            color: var(--shiki-dark) !important;
                            font-style: var(--shiki-dark-font-style) !important;
                            font-weight: var(--shiki-dark-font-weight) !important;
                            text-decoration: var(--shiki-dark-text-decoration) !important;
                        }
                        @media (prefers-color-scheme: dark) {
                            html:not(.light) .shiki-themes,
                            html:not(.light) .shiki-themes span {
                                color: var(--shiki-dark) !important;
                                font-style: var(--shiki-dark-font-style) !important;
                                font-weight: var(--shiki-dark-font-weight) !important;
                                text-decoration: var(--shiki-dark-text-decoration) !important;
                            }
                        }
                    `,document.head.appendChild(t)}}},h=(e,t,n,r)=>{if(typeof n==`object`&&n)return r.codeToHtml(e,{lang:t,themes:{light:n.light,dark:n.dark}});let i=n||(o?.matches?`github-dark`:`github-light`);return r.codeToHtml(e,{lang:t,theme:i})},g=async()=>{let t=++c;try{let n=await jw(),i=e.language||`txt`,a=``;try{a=h(e.code,i,e.theme,n)}catch(t){if(i&&!n.getLoadedLanguages().includes(i)){if(!await Aw(i))throw Error(`missing lang`);a=h(e.code,i,e.theme,n)}else throw t}t===c&&(r.value=f(a))}catch{t===c&&(r.value=f(`<pre><code>${e.code}</code></pre>`))}};return de(()=>{let t=typeof e.theme==`object`&&e.theme!==null;t&&m(),s=g,s(),t||(o=window.matchMedia(`(prefers-color-scheme: dark)`),o.addEventListener(`change`,s))}),i(()=>[e.code,e.language,e.theme],()=>{se(()=>s())}),N(()=>{o&&o.removeEventListener(`change`,s)}),()=>z(`div`,{class:`group rounded-md border bg-gray-50 dark:bg-gray-800 overflow-hidden`,"data-streamdown":`code-block`,...t},[z(`div`,{class:`flex items-center justify-between text-xs px-2 py-1 border-b border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 gap-2`,"data-streamdown":`code-block-header`},[e.language?z(`span`,{class:`px-1 py-0.5 rounded bg-gray-200 dark:bg-gray-700 font-mono text-[10px] leading-none tracking-wide`,"data-streamdown":`code-lang`},e.language):z(`span`,{class:`h-4`,"data-streamdown":`code-lang-empty`}),z(`div`,{class:`flex items-center gap-1`,"data-streamdown":`code-actions`},[...e.actions.map((t,n)=>z(t,{key:n,code:e.code,language:e.language})),...a.map((t,n)=>z(t,{key:`g-${n}`,code:e.code,language:e.language})),...n.actions?n.actions():[],e.hideDownload?null:z(Cw,{floating:!1,"data-streamdown":`download-button`}),e.hideCopy?null:z(xw,{floating:!1,"data-streamdown":`copy-button`})].filter(Boolean))]),z(`div`,{innerHTML:r.value,class:`px-4 py-3 overflow-x-auto`,"data-streamdown":`code-body`})])}}),Nw=!1,Pw={},Fw=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t).toString(36)},Iw=P({name:`MermaidBlock`,props:{code:{type:String,required:!0}},setup(e){let t=b(``),n=b(``),r=b(``),i=b(!0),a=`streamdown-vue-mermaid-${Fw(e.code)}`;return de(async()=>{i.value=!0;try{let o=(await B(async()=>{let{default:e}=await import(`./mermaid.core-DGc8vAlK.js`);return{default:e}},__vite__mapDeps([21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]),import.meta.url)).default;if(Nw||=(o.initialize({startOnLoad:!1}),!0),Pw[a]){t.value=Pw[a],i.value=!1;return}let{svg:s}=await o.render(a,e.code);t.value=s,n.value=s,Pw[a]=s,r.value=``}catch(e){r.value=e.message||`Failed to render mermaid diagram`,t.value=n.value}finally{i.value=!1}}),()=>z(`div`,{class:`relative group`,"data-streamdown":`mermaid`},[i.value?z(`div`,{class:`flex justify-center py-8`},[z(`div`,{class:`h-5 w-5 border-2 border-gray-300 border-t-transparent rounded-full animate-spin`})]):t.value?z(`div`,{innerHTML:t.value}):z(`div`,{class:`text-red-500 text-sm`},r.value),!i.value&&r.value&&t.value?z(`div`,{class:`text-red-500 text-sm mt-2`},r.value):null,z(xw,{text:e.code,"data-streamdown":`copy-button`})])}}),Lw=(e,t)=>{let n=[];return Array.isArray(e)?n.push(...e):typeof e==`string`&&n.push(e),t&&n.push(t),n.join(` `).trim()},Rw=(e,t=``,n)=>(r,{slots:i})=>{let a=Lw(r.class||r.className,t),o={...r,class:a||void 0};return n&&(o[`data-streamdown`]=n),delete o.className,z(e,o,i.default?i.default():[])},zw={p:Rw(`p`,`mb-2`,`p`),a:(e,{slots:t})=>{let n=Lw(e.class||e.className,`underline text-blue-600`),r={...e,class:n||void 0,"data-streamdown":`a`,target:`_blank`,rel:`noreferrer`};return delete r.className,z(`a`,r,t.default?t.default():[])},code:Rw(`code`,`bg-muted px-1.5 py-0.5 font-mono text-sm`,`inline-code`),ul:Rw(`ul`,`list-disc pl-6`,`ul`),ol:Rw(`ol`,`list-decimal pl-6`,`ol`),li:Rw(`li`,``,`li`),hr:Rw(`hr`,`my-6 border-border`,`hr`),strong:Rw(`strong`,``,`strong`),em:Rw(`em`,``,`em`),h1:Rw(`h1`,`text-3xl font-bold`,`h1`),h2:Rw(`h2`,`text-2xl font-bold`,`h2`),h3:Rw(`h3`,`text-xl font-semibold`,`h3`),h4:Rw(`h4`,`text-lg font-semibold`,`h4`),h5:Rw(`h5`,`font-semibold`,`h5`),h6:Rw(`h6`,`font-semibold`,`h6`),blockquote:Rw(`blockquote`,`border-l-4 pl-4 italic`,`blockquote`),table:(e,{slots:t})=>{let n=Lw(e.class||e.className,`w-full text-sm`),r={...e,class:n||void 0,"data-streamdown":`table`};delete r.className;let i=z(`table`,r,t.default?t.default():[]);return z(`div`,{class:`overflow-x-auto`,"data-streamdown":`table-wrapper`},[i])},thead:Rw(`thead`,``,`thead`),tbody:Rw(`tbody`,``,`tbody`),tr:Rw(`tr`,``,`tr`),th:Rw(`th`,`border px-2 py-1`,`th`),td:Rw(`td`,`border px-2 py-1`,`td`),img:e=>{let t=Lw(e.class||e.className,``),n={...e,class:t||void 0,"data-streamdown":`img`};return delete n.className,z(`img`,n)}},Bw=e=>{let t=we.use({gfm:!0}).lexer(e).map(e=>e.raw),n=[];for(let e=0;e<t.length;e++){let r=t[e];if(typeof r==`string`){if(r.trim()===`$$`&&n.length>0){let e=n[n.length-1];if(e===void 0){n.push(r);continue}let t=e.trimStart().startsWith(`$$`),i=(e.match(/\$\$/g)||[]).length;if(t&&i%2==1){n[n.length-1]=e+r;continue}}if(n.length>0&&r.trimEnd().endsWith(`$$`)){let e=n[n.length-1];if(e===void 0){n.push(r);continue}let t=e.trimStart().startsWith(`$$`),i=(e.match(/\$\$/g)||[]).length,a=(r.match(/\$\$/g)||[]).length;if(t&&i%2==1&&!r.trimStart().startsWith(`$$`)&&a===1){n[n.length-1]=e+r;continue}}n.push(r)}}return n},Vw=/(!?\[)([^\]]*?)$/,Hw=/(\*\*)([^*]*?)$/,Uw=/(__)([^_]*?)$/,Ww=/(\*\*\*)([^*]*?)$/,Gw=/(\*)([^*]*?)$/,Kw=/(_)([^_]*?)$/,qw=/(`)([^`]*?)$/,Jw=/(~~)([^~]*?)$/,Yw=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2==0&&e.includes(`
`)},Xw=e=>{let t=e.match(Vw);if(t){let n=t[1];if(n){let t=e.lastIndexOf(n);if(t>=0)return e.substring(0,t)}}return e},Zw=e=>Yw(e)?e:e.match(Hw)&&(e.match(/\*\*/g)||[]).length%2==1?`${e}**`:e,Qw=e=>e.match(Uw)&&(e.match(/__/g)||[]).length%2==1?`${e}__`:e,$w=e=>e.split(``).reduce((t,n,r)=>{if(n===`*`){let n=e[r-1],i=e[r+1];if(n===`\\`)return t;let a=r;for(let t=r-1;t>=0;t--){if(e[t]===`
`){a=t+1;break}if(t===0){a=0;break}}if(e.substring(a,r).trim()===``&&(i===` `||i===`	`))return t;if(n!==`*`&&i!==`*`)return t+1}return t},0),eT=e=>Yw(e)?e:e.match(Gw)&&$w(e)%2==1?`${e}*`:e,tT=(e,t)=>{let n=!1,r=!1;for(let i=0;i<e.length&&i<t;i++){if(e[i]===`\\`&&e[i+1]===`$`){i++;continue}e[i]===`$`&&(e[i+1]===`$`?(r=!r,i++,n=!1):r||(n=!n))}return n||r},nT=e=>e.split(``).reduce((t,n,r)=>{if(n===`_`){let n=e[r-1],i=e[r+1];if(n===`\\`||tT(e,r))return t;if(n!==`_`&&i!==`_`)return t+1}return t},0),rT=e=>Yw(e)?e:e.match(Kw)&&nT(e)%2==1?`${e}_`:e,iT=(e,t)=>{let n=e.substring(t,t+3)==="```",r=t>0&&e.substring(t-1,t+2)==="```",i=t>1&&e.substring(t-2,t+1)==="```";return n||r||i},aT=e=>{let t=0;for(let n=0;n<e.length;n++)e[n]==="`"&&!iT(e,n)&&t++;return t},oT=e=>{if(e.match(/^```[^`\n]*```?$/)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let t=(e.match(/```/g)||[]).length,n=t%2==1;return t>0&&t%2==0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2==0?e:e.match(qw)&&!n&&aT(e)%2==1?`${e}\``:e},sT=e=>e.match(Jw)&&(e.match(/~~/g)||[]).length%2==1?`${e}~~`:e,cT=e=>{if((e.match(/\$\$/g)||[]).length%2==0||(e.match(/\\begin\{[^}]+\}/g)||[]).length!==(e.match(/\\end\{[^}]+\}/g)||[]).length)return e;let t=e.indexOf(`$$`);return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},lT=e=>{let t=0,n=e.match(/\*+/g)||[];for(let e of n){let n=e.length;n>=3&&(t+=Math.floor(n/3))}return t},uT=e=>Yw(e)||/^\*{4,}$/.test(e)?e:e.match(Ww)&&lT(e)%2==1?`${e}***`:e,dT=e=>{if(!e||typeof e!=`string`)return e;let t=e;return t.length,(t.match(/\$\$/g)||[]).length,t=Xw(t),t=uT(t),t=Zw(t),t=Qw(t),t=eT(t),t=rT(t),t=oT(t),t=sT(t),t=cT(t),t},fT=/(\\begin\{(?:b|p|B|v|V)?matrix\})([\s\S]*?)(\\end\{(?:b|p|B|v|V)?matrix\})/g;function pT(e){return e.replace(fT,(e,t,n,r,i)=>{let a=n.split(/\n+/g).map(e=>e.trim()).filter(e=>e.length>0&&e!==`\\`);if(a.some(e=>/\\\\/.test(e))){let e=[];for(let t of a)if(/\\\\/.test(t)){let n=t.split(/\\\\\s*/).map(e=>e.trim()).filter(e=>e.length>0&&e!==`\\`);for(let t of n)e.push(t)}else e.push(t);a=e}return a.length===0?`${t}
${r}`:`${t}
${a.map((e,t)=>t<a.length-1?/\\\\\s*$/.test(e)?e:/\\\s*$/.test(e)?e.replace(/\\\s*$/,` \\\\`):e+` \\\\`:e.replace(/\\\s*$/,``)).join(`
`)}
${r}`})}function mT(e){return e.replace(/\$\$([\s\S]*?)\$\$/g,(e,t)=>{if(!/\\begin\{(?:b|p|B|v|V)?matrix\}/.test(t))return e;let n=/^\s*\n/.test(t),r=/\n\s*$/.test(t);return n&&r?e:`$$
`+t.trim().replace(/(\\begin\{[^}]+\})/,`$1
`).replace(/(\\\\)\s*(?=\S)/g,`$1
`).replace(/(\\end\{[^}]+\})/,`
$1`).trim()+`
$$`})}function hT(e){let t=e.replace(/\r\n?/g,`
`).split(`
`),n=[],r=!1,i=``,a=0,o=!1,s=``,c=``,l=e=>{n.push(e.length?s+e:s)},u=e=>s&&e.startsWith(s)?e.slice(s.length):c&&e.startsWith(c)?e.slice(c.length):e.trimStart();for(let e of t){if(!o){let t=e.match(/^(\s*(?:>\s*)*)([`~]{3,})/);if(t){let o=t[2];if(!o){n.push(e);continue}if(r)o[0]===i&&o.length>=a&&(r=!1,i=``,a=0);else{if(!o.length){n.push(e);continue}r=!0,i=o[0],a=o.length}n.push(e);continue}}if(r){n.push(e);continue}if(!o){let t=e.match(/^(\s*(?:>\s*)*)\\\[(.*)$/);if(!t){n.push(e);continue}o=!0,c=t[1]??``,s=c.includes(`>`)&&!/\s$/.test(c)?c+` `:c,n.length>0&&n[n.length-1]?.trim().length&&n.push(s.includes(`>`)?s:``),n.push(s+`$$`);let r=t[2]??``,i=r.indexOf(`\\]`);if(i!==-1){let e=r.slice(0,i);e.length>0&&l(u(e).trimStart()),n.push(s+`$$`),o=!1;let t=r.slice(i+2);t.length>0&&n.push(s+t.trimStart())}else r.trim().length>0&&l(u(r).trimStart());continue}let t=e.indexOf(`\\]`);if(t!==-1){let r=e.slice(0,t);r.length>0&&l(u(r)),n.push(s+`$$`),o=!1;let i=e.slice(t+2);i.length>0&&n.push(s+i.trimStart())}else l(u(e))}let d=[],f=!1,p=``,m=0;for(let e of n){let t=e,n=t.match(/^(\s*(?:>\s*)*)([`~]{3,})/);if(n){let e=n[2]??``;f?e[0]===p&&e.length>=m&&(f=!1,p=``,m=0):(f=!0,p=e[0]??``,m=e.length),d.push(t);continue}if(f){d.push(t);continue}if(/\\\[.*?\\\]/.test(t)&&!/^\s*\\\[/.test(t)){let e=[],n=/\\\[([^\n]*?)\\\]/g,r=0,i;for(;i=n.exec(t);){let n=t.slice(r,i.index);n.trim().length&&e.push(n);let a=(i[1]??``).trim();e.push(`$$`),a.length&&e.push(a),e.push(`$$`),r=i.index+i[0].length}let a=t.slice(r);a.trim().length&&e.push(a);for(let t of e)d.push(t===`$$`?`$$`:t)}else d.push(t)}return d.join(`
`)}var gT=(e,t)=>{if(!t)return e;try{return new URL(e,t).toString()}catch{return e}},_T=(e,t,n)=>{if(!e)return null;let r=e.trim();r=gT(r,n);let i=r.toLowerCase();return i.startsWith(`javascript:`)||!t.some(e=>i.startsWith(e))?null:r},vT=(e,t)=>_T(e,t.allowedLinkPrefixes,t.defaultOrigin),yT=(e,t)=>_T(e,t.allowedImagePrefixes,t.defaultOrigin),bT=P({name:`StreamMarkdown`,props:{content:{type:String,default:``},class:{type:String,default:``},className:{type:String,default:``},components:{type:Object,default:()=>({})},remarkPlugins:{type:Array,default:()=>[]},rehypePlugins:{type:Array,default:()=>[]},defaultOrigin:{type:String,default:void 0},allowedImagePrefixes:{type:Array,default:()=>[`https://`,`http://`]},allowedLinkPrefixes:{type:Array,default:()=>[`https://`,`http://`]},parseIncompleteMarkdown:{type:Boolean,default:!0},shikiTheme:{type:[String,Object],default:void 0},codeBlockActions:{type:Array,default:()=>[]},codeBlockShowLineNumbers:{type:Boolean,default:!1},codeBlockSelectable:{type:Boolean,default:!0},codeBlockHideCopy:{type:Boolean,default:!1},codeBlockHideDownload:{type:Boolean,default:!1}},setup(e,{slots:t}){let n=e=>e&&typeof e==`object`&&`default`in e?e.default:e,r=e.remarkPlugins.some(e=>n(Array.isArray(e)?e[0]:e)===Xf),i=go().use(n(Cl)).use(n(Rf));r||i.use(n(Xf),{singleDollarTextMath:!1}),e.remarkPlugins.forEach(e=>{if(Array.isArray(e)){let[t,r]=e;i.use(n(t),r)}else i.use(n(e))}),i.use(n(nm),{allowDangerousHtml:!1}).use(n(Ih)),e.rehypePlugins.forEach(e=>{if(Array.isArray(e)){let[t,r]=e;i.use(n(t),r)}else i.use(n(e))});let a={allowedImagePrefixes:e.allowedImagePrefixes,allowedLinkPrefixes:e.allowedLinkPrefixes,defaultOrigin:e.defaultOrigin},o={...zw,...e.components||{}},s=(e,t)=>e.map(e=>u(e)).filter(Boolean);function c(e){return e.type===`text`?e.value:e.children?e.children.map(c).join(``):``}let l=(e,t,n)=>typeof e==`string`?n&&n.length?z(e,t,n):z(e,t):!n||Array.isArray(n)&&n.length===0?z(e,t):z(e,t,{default:Array.isArray(n)?()=>n:()=>[n]}),u=(t,n)=>{if(!t)return null;if(t.type===`text`)return t.value;if(t.type!==`element`)return null;let r=t,i={...r.properties||{}},u=s(r.children||[],r.tagName),d=r.tagName;if(d===`a`){let e=vT(String(i.href||``),a);if(!e)return u;i.href=e,i.target=`_blank`,i.rel=`noreferrer`}if(d===`img`){let e=yT(String(i.src||``),a);if(!e)return null;i.src=e}if(d===`pre`&&r.children&&r.children[0]&&r.children[0].tagName===`code`){let t=r.children[0],n=c(t),i=(t.properties?.className||[]).find(e=>e.startsWith(`language-`)),a=i?i.replace(`language-`,``):``;return a===`mermaid`?z(Iw,{code:n}):z(o.codeblock||Mw,{code:n,language:a,theme:e.shikiTheme,actions:e.codeBlockActions,showLineNumbers:e.codeBlockShowLineNumbers,selectable:e.codeBlockSelectable,hideCopy:e.codeBlockHideCopy,hideDownload:e.codeBlockHideDownload})}let f=o[d];return l(f||d,i,u)};return()=>{let n=e.content,r=t.default?t.default():[];if(r&&r.length>0){let e=r.map(e=>typeof e.children==`string`?e.children:``).join(``);e.trim()&&(n=e)}let a=null;if(e.parseIncompleteMarkdown&&typeof n==`string`&&n.length){let e=n.replace(/\r\n?/g,`
`).split(`
`),t=[];for(let n=0;n<e.length;n++){let r=e[n]??``;/^\s*```/.test(r)&&t.push(n)}if(t.length>0&&t.length%2==1){let n=t[t.length-1],r=(e[n]??``).replace(/^\s*```+/,``),i=``,o=``;if(r.trim().length){let e=r.match(/^([a-zA-Z0-9_-]+)(\s+|$)(.*)$/);e?(i=(e[1]||``).trim(),o=(e[3]||``).trimEnd()):o=r.trimEnd()}let s=n+1<e.length?e.slice(n+1):[];o&&s.unshift(o),a={prefix:n>0?e.slice(0,n).join(`
`):``,code:s.join(`
`),lang:i}}}let c=e=>{let t=pT(e);return t=hT(t),t=mT(t),t},l=c(n);a&&(a.prefix=c(a.prefix));let u=a?a.prefix:l,d=Bw(e.parseIncompleteMarkdown?dT(u):u),f=[],p=[],m=0,h=()=>{p.length&&(f.push(p.join(`

`)),p=[],m=0)};for(let e of d){let t=(e.match(/\$\$/g)||[]).length;if(p.length===0)if(t%2==1){p.push(e),m+=t;continue}else{f.push(e);continue}else p.push(e),m+=t,m%2==0&&h()}h();let g=f.map(e=>e).map(t=>e.parseIncompleteMarkdown?dT(t.trimEnd()):t).flatMap(e=>s(i.runSync(i.parse(e)).children));if(a){let t=o.codeblock||Mw;g.push(z(t,{code:a.code,language:a.lang,theme:e.shikiTheme,actions:e.codeBlockActions,showLineNumbers:e.codeBlockShowLineNumbers,selectable:e.codeBlockSelectable,hideCopy:e.codeBlockHideCopy,hideDownload:e.codeBlockHideDownload,"data-open-fence":`true`,"data-streaming":`true`}))}return z(`div`,{class:[`streamdown-vue space-y-4`,e.class,e.className].filter(Boolean).join(` `)||void 0},g)}}});sw();const xT={searchPatterns:[/[-]{3,}\s*SEARCH/i,/[-]{3,}\s*\n\s*SEARCH/i,/<<<<<+\s*SEARCH/i,/<<<<<+\s*\n\s*SEARCH/i],separatorPatterns:[/[=]{3,}/],replacePatterns:[/>>>>>+\s*REPLACE/i,/>>>>>+\s*\n\s*REPLACE/i,/[+]{3,}\s*REPLACE/i,/[+]{3,}\s*\n\s*REPLACE/i]};function ST(e,t=xT){let n=t.searchPatterns.some(t=>t.test(e)),r=t.separatorPatterns.some(t=>t.test(e)),i=t.replacePatterns.some(t=>t.test(e));return n&&r||n&&i}function CT(e){let t=u(()=>ST(e.value||``)),n=u(()=>t.value?wT(e.value):{oldText:``,newText:``});return{isDiffBlock:t,diffOldText:u(()=>n.value.oldText),diffNewText:u(()=>n.value.newText)}}function wT(e){let t=e??``,n=t.split(`
`),r=-1,i=-1,a=-1,o=e=>/SEARCH/i.test(e||``),s=e=>/[=]{3,}/.test(e||``),c=e=>/REPLACE/i.test(e||``);for(let e=0;e<n.length;e++){let t=n[e];if(r===-1&&o(t)){r=e;continue}if(r!==-1&&i===-1&&s(t)){i=e;continue}if(i!==-1&&a===-1&&c(t)){a=e;break}}if(r===-1||i===-1)return{oldText:``,newText:t};let l=r+1,u=i,d=i+1,f=a===-1?n.length:a;return{oldText:n.slice(l,u).join(`
`).trimEnd(),newText:n.slice(d,f).join(`
`).trimEnd()}}var TT={class:`custom-code-block__header`},ET={class:`header-left`},DT={class:`custom-code-block__lang`},OT={class:`custom-code-block__diff-stats custom-code-block__diff-stats--added`},kT={class:`custom-code-block__diff-stats custom-code-block__diff-stats--removed`},AT={class:`header-actions`},jT=[`title`],MT=[`innerHTML`],NT=ie(P({__name:`CustomCodeBlock`,props:{code:{},language:{}},setup(t){let n=wa(),r=u(()=>{let e=n?.value??0;return e=Math.ceil(e/8*9.5),e>0?{maxWidth:`${e}px`}:void 0}),a=t,o=e=>{let t=e||`text`;return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},s=b(`<pre><code>Loading</code></pre>`),c=b(!1),f=b(!1),m=jw(),h=null,g=b(),{isDiffBlock:_,diffOldText:v,diffNewText:y}=CT(S(a,`code`)),C=u(()=>{if(!_.value)return null;let e=v.value?v.value.split(`
`).length:0;return{added:y.value?y.value.split(`
`).length:0,removed:e}}),w=()=>g.value?g.value.closest(`.model-canvas`)!==null:!1,k=u(()=>w()&&_.value),A=u(()=>(a.language||``).toLowerCase()===`html`),{eventBus:j}=te(),M=()=>{a.code&&j.emit(`codeblock:apply-diff`,{code:a.code})},P=async()=>{if(!w())return;await se();let e=g.value;e&&(e.scrollTop=e.scrollHeight)},ee=async()=>{try{if(_.value){s.value=`<pre><code>${a.code||``}</code></pre>`,await P();return}await se();let e=await m,t=(a.language||`text`).toLowerCase(),n=typeof a.code==`string`?a.code:String(a.code??``);if(n.length>2e5){s.value=`<pre><code>${n}</code></pre>`,await P();return}s.value=e.codeToHtml(n,{lang:t,themes:{light:`github-light`,dark:`github-dark`}}),await P()}catch(e){console.error(``,e),s.value=`<pre><code>${a.code||``}</code></pre>`}};i(()=>[a.code,a.language],()=>{h!==null&&(window.clearTimeout(h),h=null);let e=typeof a.code==`string`&&a.code.length>4e3?50:20;h=window.setTimeout(()=>{ee()},e)},{immediate:!0}),N(()=>{h!==null&&(window.clearTimeout(h),h=null)});let ne=async()=>{a.code&&(await navigator.clipboard.writeText(a.code),c.value=!0,setTimeout(()=>c.value=!1,1500))},re=()=>{f.value=!f.value},ie=()=>{if(typeof window>`u`||!window.open){console.error(``);return}let e=typeof a.code==`string`?a.code:String(a.code??``),t=/<!doctype html>/i.test(e)||/<html[\s>]/i.test(e)?e:`<html>
        <head>
          <meta charset="utf-8" />
          <title>Code Preview</title>
          <style>
            :root { color-scheme: light; }
            * { box-sizing: border-box; }
            body {
              margin: 0;
              padding: 16px;
              background: #ffffff;
              color: #0f172a;
              font-family: ui-monospace, SFMono-Regular, Menlo, monospace;
            }
            pre {
              margin: 0;
              white-space: pre-wrap;
              word-break: break-word;
              overflow-x: auto;
              background: #f8fafc;
              border: 1px solid #e2e8f0;
              border-radius: 10px;
              padding: 14px 16px;
            }
          </style>
        </head>
        <body>
          ${e}
        </body>
      </html>`,n=new Blob([t],{type:`text/html;charset=utf-8`}),r=URL.createObjectURL(n),i=window.open(r,`_blank`,`noopener,noreferrer`);if(!i){alert(``),URL.revokeObjectURL(r);return}let o=setInterval(()=>{i.closed&&(URL.revokeObjectURL(r),clearInterval(o))},1e3)},ae=()=>{let e=ce(a.language),t=new Blob([a.code],{type:`text/plain;charset=utf-8`}),n=URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`snippet.${e}`,r.click(),URL.revokeObjectURL(n)};function ce(e){return e&&{ts:`ts`,typescript:`ts`,js:`js`,javascript:`js`,json:`json`,vue:`vue`,html:`html`,css:`css`,scss:`scss`,sass:`sass`,less:`less`,md:`md`,markdown:`md`,py:`py`,python:`py`,go:`go`,rust:`rs`,rs:`rs`,java:`java`,c:`c`,cpp:`cpp`,csharp:`cs`,cs:`cs`,php:`php`,ruby:`rb`,rb:`rb`,swift:`swift`,kotlin:`kt`,kt:`kt`,sql:`sql`,sh:`sh`,bash:`sh`,shell:`sh`,yaml:`yml`,yml:`yml`}[e.toLowerCase()]||`txt`}return(n,i)=>(F(),T(`div`,{class:`custom-code-block`,style:O(r.value)},[R(`div`,TT,[R(`div`,ET,[R(`button`,{class:`collapse-btn`,type:`button`,onClick:re},[R(`span`,{class:E([`chevron`,{"chevron--open":!f.value}])},[...i[0]||=[R(`svg`,{width:`12`,height:`12`,viewBox:`0 0 12 12`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`},[R(`path`,{d:`M4.5 3L7.5 6L4.5 9`,stroke:`currentColor`,"stroke-width":`1.5`,"stroke-linecap":`round`,"stroke-linejoin":`round`})],-1)]],2)]),R(`span`,DT,p(o(t.language)),1),C.value?(F(),T(x,{key:0},[R(`span`,OT,` +`+p(C.value.added),1),R(`span`,kT,` -`+p(C.value.removed),1)],64)):D(``,!0)]),i[1]||=R(`div`,{class:`header-spacer`},null,-1),R(`div`,AT,[k.value?(F(),T(`button`,{key:0,class:`icon-btn`,type:`button`,onClick:M,title:`diff`},[e(L(Ln),{class:`icon-btn__icon`})])):D(``,!0),R(`button`,{class:`icon-btn`,type:`button`,onClick:ne,title:c.value?`Copied`:`Copy`},[c.value?(F(),l(L(Re),{key:0,class:`icon-btn__icon icon-btn__icon--success`})):(F(),l(L(xt),{key:1,class:`icon-btn__icon`}))],8,jT),A.value?(F(),T(`button`,{key:1,class:`icon-btn`,type:`button`,onClick:ie,title:`Preview`},[e(L(In),{class:`icon-btn__icon`})])):D(``,!0),R(`button`,{class:`icon-btn`,type:`button`,onClick:ae,title:`Download`},[e(L(Pn),{class:`icon-btn__icon`})])])]),oe(R(`div`,{ref_key:`element`,ref:g,class:E([`custom-code-block__body`,{"custom-code-block__body--diff":L(_)}])},[L(_)?(F(),l(Et,{key:0,"old-text":L(v),"new-text":L(y),"show-indicators":!1,"show-footer":!1,"font-size":14,"line-height":1.4},null,8,[`old-text`,`new-text`])):(F(),T(`div`,{key:1,innerHTML:s.value},null,8,MT))],2),[[d,!f.value]])],4))}}),[[`__scopeId`,`data-v-df93ddb5`]]),PT=P({__name:`StreamMarkdown`,setup(e){return(e,t)=>(F(),l(L(bT),{class:`prose`,components:{codeblock:NT},"shiki-theme":{light:`github-light`,dark:`github-dark`}},null,8,[`components`]))}}),FT=P({__name:`MessageResponse`,props:{content:{},class:{}},setup(e){let t=e,n=_(),r=u(()=>{let e=n.default?.()||[],t=``;for(let n of e)typeof n.children==`string`&&(t+=n.children);return t||void 0}),i=u(()=>r.value??t.content??``);return(e,n)=>(F(),l(PT,M({"shiki-theme":{light:`github-light`,dark:`github-dark`},content:i.value,class:L(U)(`w-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0`,t.class)},e.$attrs),null,16,[`content`,`class`]))}}),IT=P({__name:`MessageToolbar`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,M({class:L(U)(`mt-4 flex w-full items-center justify-between gap-4`,t.class)},e.$attrs),[V(e.$slots,`default`)],16))}}),LT=[`href`],RT={class:`block font-medium`},zT=P({__name:`Source`,props:{href:{},title:{},class:{}},setup(t){let n=t;return(t,r)=>(F(),T(`a`,{class:E(L(U)(`flex items-center gap-2`,n.class)),href:n.href,rel:`noreferrer`,target:`_blank`},[V(t.$slots,`default`,{},()=>[e(L(En),{class:`h-4 w-4`}),R(`span`,RT,p(n.title),1)])],10,LT))}}),BT=P({__name:`Sources`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(Nt),{class:E(L(U)(`not-prose mb-4 text-primary text-xs`,n.class))},{default:t(()=>[V(e.$slots,`default`)]),_:3},8,[`class`]))}}),VT=P({__name:`SourcesContent`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(jt),{class:E(L(U)(`mt-3 flex w-fit flex-col gap-2`,`data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 outline-none data-[state=closed]:animate-out data-[state=open]:animate-in`,n.class))},{default:t(()=>[V(e.$slots,`default`)]),_:3},8,[`class`]))}}),HT={class:`font-medium`},UT=P({__name:`SourcesTrigger`,props:{count:{},class:{}},setup(n){let r=n;return(n,i)=>(F(),l(L(Ft),{class:E(L(U)(`flex items-center gap-2`,r.class))},{default:t(()=>[V(n.$slots,`default`,{},()=>[R(`p`,HT,` Used `+p(r.count)+` sources `,1),e(L(ot),{class:`h-4 w-4`})])]),_:3},8,[`class`]))}});const WT=Symbol(`ReasoningContext`);function GT(){let e=ae(WT);if(!e)throw Error(`Reasoning components must be used within <Reasoning>`);return e}var KT=1e3,qT=1e3,JT=P({__name:`Reasoning`,props:{class:{},isStreaming:{type:Boolean,default:!1},open:{type:Boolean},defaultOpen:{type:Boolean,default:!0},duration:{default:void 0}},emits:[`update:open`,`update:duration`],setup(e,{emit:n}){let r=e,a=n,o=Oe(r,`open`,a,{defaultValue:r.defaultOpen,passive:!0}),c=b(r.duration);i(()=>r.duration,e=>{c.value=e});function d(e){c.value=e,a(`update:duration`,e)}let f=b(!1),p=b(null);return i(()=>r.isStreaming,e=>{e?(o.value=!0,p.value===null&&(p.value=Date.now())):p.value!==null&&(d(Math.ceil((Date.now()-p.value)/KT)),p.value=null)}),i([()=>r.isStreaming,o,()=>r.defaultOpen,f],(e,t,n)=>{if(r.defaultOpen&&!r.isStreaming&&o.value&&!f.value){let e=setTimeout(()=>{o.value=!1,f.value=!0},qT);n(()=>clearTimeout(e))}},{immediate:!0}),k(WT,{isStreaming:u(()=>r.isStreaming),isOpen:o,setIsOpen:e=>{o.value=e},duration:u(()=>c.value)}),(e,n)=>(F(),l(L(Nt),{open:L(o),"onUpdate:open":n[0]||=e=>s(o)?o.value=e:null,class:E(L(U)(`not-prose mb-4`,r.class))},{default:t(()=>[V(e.$slots,`default`)]),_:3},8,[`open`,`class`]))}}),YT=P({__name:`ReasoningContent`,props:{class:{},content:{}},setup(n){let r=n,i=_(),a=u(()=>{let e=i.default?.()||[],t=``;for(let n of e)typeof n.children==`string`&&(t+=n.children);return t||void 0}),o=u(()=>a.value??r.content??``);return(n,i)=>(F(),l(L(jt),{class:E(L(U)(`mt-4 text-sm`,`data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2`,`data-[state=open]:slide-in-from-top-2 text-muted-foreground`,`outline-none data-[state=closed]:animate-out data-[state=open]:animate-in`,r.class))},{default:t(()=>[e(PT,{content:o.value},null,8,[`content`])]),_:1},8,[`class`]))}}),XT=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],ZT={value:null,addProjectionMetrics:null};function QT(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&ZT.value&&ZT.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var $T={},eE=40;function tE(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=XT.reduce((e,n)=>(e[n]=QT(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=$T.useManualTiming?i.timestamp:performance.now();n=!1,$T.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,eE),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:XT.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<XT.length;t++)o[XT[t]].cancel(e)},state:i,steps:o}}var nE=e=>e,{schedule:Q,cancel:rE,state:iE,steps:aE}=tE(typeof requestAnimationFrame<`u`?requestAnimationFrame:nE,!0),oE;function sE(){oE=void 0}var cE={now:()=>(oE===void 0&&cE.set(iE.isProcessing||$T.useManualTiming?iE.timestamp:performance.now()),oE),set:e=>{oE=e,queueMicrotask(sE)}},lE=e=>e*1e3,uE=e=>e/1e3;function dE(e,t){let n=cE.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(rE(r),e(a-t))};return Q.setup(r,!0),()=>rE(r)}var fE=e=>t=>typeof t==`string`&&t.startsWith(e),pE=fE(`--`),mE=fE(`var(--`),hE=e=>mE(e)?gE.test(e.split(`/*`)[0].trim()):!1,gE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_E={};function vE(e){for(let t in e)_E[t]=e[t],pE(t)&&(_E[t].isCSSVariable=!0)}function yE(e,t){let n=typeof e==`string`&&!t?`${e}Context`:t,r=Symbol(n);return[t=>{let n=ae(r,t);if(n===void 0)throw Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(`, `)}`:`\`${e}\``}`);return n},e=>(k(r,e),e)]}var[bE,xE]=yE(`Motion`),[SE,CE]=yE(`LayoutGroup`);function wE(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}var TE=class{constructor(e){this.state=e}beforeMount(){}mount(){}unmount(){}update(){}beforeUpdate(){}beforeUnmount(){}};function EE(e,t,n){if(Array.isArray(e))return e.reduce((e,r)=>{let i=EE(r,t,n);return i?{...e,...i}:e},{});if(typeof e==`object`)return e;if(e&&t){let r=t[e];return typeof r==`function`?r(n):r}}function DE(e,t){return typeof e==typeof t?Array.isArray(e)&&Array.isArray(t)?!OE(e,t):e!==t:!0}function OE(e,t){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function kE(e){return e?.startsWith(`--`)}var AE=e=>e;function jE(e){return typeof e==`number`}var ME=`animate.circle.defs.desc.ellipse.g.image.line.filter.marker.mask.metadata.path.pattern.polygon.polyline.rect.stop.svg.switch.symbol.text.tspan.use.view.clipPath.feBlend.feColorMatrix.feComponentTransfer.feComposite.feConvolveMatrix.feDiffuseLighting.feDisplacementMap.feDistantLight.feDropShadow.feFlood.feFuncA.feFuncB.feFuncG.feFuncR.feGaussianBlur.feImage.feMerge.feMergeNode.feMorphology.feOffset.fePointLight.feSpecularLighting.feSpotLight.feTile.feTurbulence.foreignObject.linearGradient.radialGradient.textPath`.split(`.`),NE=new Set(ME);function PE(e){return NE.has(e)}var FE=class{constructor(e){this.features=[];let{features:t=[],lazyMotionContext:n}=e.options,r=t.concat(n.features.value);this.features=r.map(t=>new t(e));let a=this.features;i(n.features,t=>{t.forEach(t=>{if(!r.includes(t)){r.push(t);let n=new t(e);a.push(n),e.isMounted()&&(n.beforeMount(),n.mount())}})},{flush:`pre`})}mount(){this.features.forEach(e=>e.mount())}beforeMount(){this.features.forEach(e=>e.beforeMount?.call(e))}unmount(){this.features.forEach(e=>e.unmount())}update(){this.features.forEach(e=>e.update?.call(e))}beforeUpdate(){this.features.forEach(e=>e.beforeUpdate())}beforeUnmount(){this.features.forEach(e=>e.beforeUnmount())}},IE=new WeakMap,[LE,RE]=yE(`AnimatePresenceContext`);function zE(e){return typeof e==`string`||e===!1||Array.isArray(e)}var BE=new WeakMap,VE=0,HE=class{constructor(e,t){var n;this.element=null,this.isSafeToRemove=!1,this.isVShow=!1,this.children=new Set,this.activeStates={initial:!0,animate:!0},this.currentProcess=null,this._context=null,this.animateUpdates=nE,this.id=`motion-state-${VE++}`,this.options=e,this.parent=t,(n=t?.children)==null||n.add(this);let r=(e.initial===void 0&&e.variants?this.context.initial:e.initial)===!1?[`initial`,`animate`]:[`initial`];this.initTarget(r),this.featureManager=new FE(this),this.type=PE(this.options.as)?`svg`:`html`}get context(){return this._context||=new Proxy({},{get:(e,t)=>zE(this.options[t])?this.options[t]:this.parent?.context[t]}),this._context}initTarget(e){let t=this.options.custom??this.options.animatePresenceContext?.custom;this.baseTarget=e.reduce((e,n)=>({...e,...EE(this.options[n]||this.context[n],this.options.variants,t)}),{}),this.target={}}updateOptions(e){var t;this.options=e,(t=this.visualElement)==null||t.update({...this.options,whileTap:this.options.whilePress},{isPresent:!IE.has(this.element)})}beforeMount(){this.featureManager.beforeMount()}mount(e,t,n=!1){var r,i;this.element=e,this.updateOptions(t),this.options.layoutId&&((r=this.visualElement.projection.getStack())==null||r.members.length),this.featureManager.mount(),!n&&this.options.animate&&((i=this.startAnimation)==null||i.call(this))}clearAnimation(){var e;this.currentProcess&&rE(this.currentProcess),this.currentProcess=null,(e=this.visualElement?.variantChildren)==null||e.forEach(e=>{e.state.clearAnimation()})}startAnimation(){this.clearAnimation(),this.currentProcess=Q.render(()=>{this.currentProcess=null,this.animateUpdates()})}beforeUnmount(){this.featureManager.beforeUnmount()}unmount(e=!1){let t=this.options.layoutId&&this.visualElement.projection?.getStack().lead===this.visualElement.projection&&this.visualElement.projection.isProjecting(),n=()=>{var t,n;e&&Array.from(this.children).reverse().forEach(this.unmountChild),(t=this.parent?.children)==null||t.delete(this),BE.delete(this.element),this.featureManager.unmount(),(n=this.visualElement)==null||n.unmount(),this.clearAnimation()};t?Promise.resolve().then(()=>{n()}):n()}unmountChild(e){e.unmount(!0)}beforeUpdate(){this.featureManager.beforeUpdate()}update(e){this.updateOptions(e),this.featureManager.update(),this.startAnimation()}setActive(e,t,n=!0){var r;!this.element||this.activeStates[e]===t||(this.activeStates[e]=t,(r=this.visualElement.variantChildren)==null||r.forEach(n=>{n.state.setActive(e,t,!1)}),n&&this.animateUpdates({isExit:e===`exit`&&this.activeStates.exit}))}isMounted(){return!!this.element}willUpdate(e){var t;(this.options.layout||this.options.layoutId)&&((t=this.visualElement.projection)==null||t.willUpdate())}},UE=new WeakMap;function WE(e,t,n){return new CustomEvent(e,{detail:{target:t,isExit:n}})}var GE={syntax:`<angle>`,initialValue:`0deg`,toDefaultUnit:e=>`${e}deg`},KE={translate:{syntax:`<length-percentage>`,initialValue:`0px`,toDefaultUnit:e=>`${e}px`},rotate:GE,scale:{syntax:`<number>`,initialValue:1,toDefaultUnit:AE},skew:GE},qE=[`translate`,`scale`,`rotate`,`skew`],JE=[``,`X`,`Y`,`Z`],YE=new Map,XE=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`];qE.forEach(e=>{JE.forEach(t=>{XE.push(e+t),YE.set(e+t,KE[e])})});var ZE=new Set(XE),QE=e=>ZE.has(e),$E={x:`translateX`,y:`translateY`,z:`translateZ`};function eD([e],[t]){return XE.indexOf(e)-XE.indexOf(t)}function tD(e,[t,n]){return`${e} ${t}(${n})`}function nD(e){return e.sort(eD).reduce(tD,``).trim()}var rD={translate:[0,0],rotate:0,scale:1,skew:0,x:0,y:0,z:0},iD=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),aD=iD(`deg`),oD=iD(`%`),$=iD(`px`),sD=iD(`vh`),cD=iD(`vw`),lD=(()=>({...oD,parse:e=>oD.parse(e)/100,transform:e=>oD.transform(e*100)}))(),uD=e=>!!(e&&e.getVelocity),dD={get:(e,t)=>{let n=kE(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==`0`){let e=YE.get(t);e&&(n=e.initialValue)}return n},set:(e,t,n)=>{kE(t)?e.style.setProperty(t,n):e.style[t]=n}};function fD(e){let t={},n=[];for(let r in e){let i=e[r];i=uD(i)?i.get():i,QE(r)&&r in $E&&(r=$E[r]);let a=Array.isArray(i)?i[0]:i,o=YE.get(r);o?(a=jE(i)?o.toDefaultUnit?.call(o,i):i,n.push([r,a])):t[r]=a}return n.length&&(t.transform=nD(n)),Object.keys(t).length===0?null:t}var pD={fill:!0,stroke:!0,opacity:!0,"stroke-width":!0,"fill-opacity":!0,"stroke-opacity":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,cx:!0,cy:!0,r:!0,d:!0,x1:!0,y1:!0,x2:!0,y2:!0,points:!0,"path-length":!0,viewBox:!0,width:!0,height:!0,"preserve-aspect-ratio":!0,"clip-path":!0,filter:!0,mask:!0,"stop-color":!0,"stop-opacity":!0,"gradient-transform":!0,"gradient-units":!0,"spread-method":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,"font-size":!0,"font-weight":!0,"letter-spacing":!0,"vector-effect":!0};function mD(e){return e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase()}function hD(e,t,n=1,r=0){e.pathLength=1,delete e[`path-length`],e[`stroke-dashoffset`]=$.transform(-r),e[`stroke-dasharray`]=`${$.transform(t)} ${$.transform(n)}`}function gD(e){let t={},n={};for(let r in e){let i=mD(r);if(i in pD){let n=e[r];t[i]=uD(n)?n.get():n}else n[r]=e[r]}return t[`path-length`]!==void 0&&hD(t,t[`path-length`],t[`path-spacing`],t[`path-offset`]),{attrs:t,style:n}}function _D({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vD(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yD(e,t){return _D(vD(e.getBoundingClientRect(),t))}var bD={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},xD={};for(let e in bD)xD[e]={isEnabled:t=>bD[e].some(e=>!!t[e])};var SD=()=>({translate:0,scale:1,origin:0,originPoint:0}),CD=()=>({x:SD(),y:SD()}),wD=()=>({min:0,max:0}),TD=()=>({x:wD(),y:wD()}),ED=typeof window<`u`,DD={current:null},OD={current:!1};function kD(){if(OD.current=!0,ED)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>DD.current=e.matches;e.addEventListener(`change`,t),t()}else DD.current=!1}function AD(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function jD(e){return typeof e==`string`||Array.isArray(e)}var MD=[`initial`,...[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`]];function ND(e){return AD(e.animate)||MD.some(t=>jD(e[t]))}function PD(e){return!!(ND(e)||e.variants)}function FD(e,t){e.indexOf(t)===-1&&e.push(t)}function ID(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var LD=class{constructor(){this.subscriptions=[]}add(e){return FD(this.subscriptions,e),()=>ID(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function RD(e,t){return t?1e3/t*e:0}var zD=30,BD=e=>!isNaN(parseFloat(e)),VD={current:void 0},HD=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;let n=cE.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&((t=this.events.change)==null||t.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=cE.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new LD);let n=this.events[e].add(t);return e===`change`?()=>{n(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return VD.current&&VD.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=cE.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zD)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,zD);return RD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function UD(e,t){return new HD(e,t)}function WD(e,t,n){for(let r in t){let i=t[r],a=n[r];if(uD(i))e.addValue(r,i);else if(uD(a))e.addValue(r,UD(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,UD(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}function GD(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function KD(e,t,n,r){if(typeof t==`function`){let[i,a]=GD(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=GD(r);t=t(n===void 0?e.custom:n,i,a)}return t}function qD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var JD=e=>e*180/Math.PI,YD=e=>ZD(JD(Math.atan2(e[1],e[0]))),XD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:YD,rotateZ:YD,skewX:e=>JD(Math.atan(e[1])),skewY:e=>JD(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ZD=e=>(e%=360,e<0&&(e+=360),e),QD=YD,$D=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$D,scaleY:eO,scale:e=>($D(e)+eO(e))/2,rotateX:e=>ZD(JD(Math.atan2(e[6],e[5]))),rotateY:e=>ZD(JD(Math.atan2(-e[2],e[0]))),rotateZ:QD,rotate:QD,skewX:e=>JD(Math.atan(e[4])),skewY:e=>JD(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nO(e){return e.includes(`scale`)?1:0}function rO(e,t){if(!e||e===`none`)return nO(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=tO,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XD,i=t}if(!i)return nO(t);let a=r[t],o=i[1].split(`,`).map(aO);return typeof a==`function`?a(o):o[a]}var iO=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return rO(n,t)};function aO(e){return parseFloat(e.trim())}var oO=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],sO=(()=>new Set(oO))(),cO=(e,t,n)=>n>t?t:n<e?e:n,lO={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},uO={...lO,transform:e=>cO(0,1,e)},dO={...lO,default:1},fO=e=>e===lO||e===$,pO=new Set([`x`,`y`,`z`]),mO=oO.filter(e=>!pO.has(e));function hO(e){let t=[];return mO.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var gO={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rO(t,`x`),y:(e,{transform:t})=>rO(t,`y`)};gO.translateX=gO.x,gO.translateY=gO.y;var _O=new Set,vO=!1,yO=!1,bO=!1;function xO(){if(yO){let e=Array.from(_O).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=hO(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{var r;(r=e.getValue(t))==null||r.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}yO=!1,vO=!1,_O.forEach(e=>e.complete(bO)),_O.clear()}function SO(){_O.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yO=!0)})}function CO(){bO=!0,SO(),xO(),bO=!1}var wO=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(_O.add(this),vO||(vO=!0,Q.read(SO),Q.resolveKeyframes(xO))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}qD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_O.delete(this)}cancel(){this.state===`scheduled`&&(_O.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},TO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),EO=e=>/^0[^.\s]+$/u.test(e),DO=e=>Math.round(e*1e5)/1e5,OO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kO(e){return e==null}var AO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jO=(e,t)=>n=>!!(typeof n==`string`&&AO.test(n)&&n.startsWith(e)||t&&!kO(n)&&Object.prototype.hasOwnProperty.call(n,t)),MO=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(OO);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},NO=e=>cO(0,255,e),PO={...lO,transform:e=>Math.round(NO(e))},FO={test:jO(`rgb`,`red`),parse:MO(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+PO.transform(e)+`, `+PO.transform(t)+`, `+PO.transform(n)+`, `+DO(uO.transform(r))+`)`};function IO(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var LO={test:jO(`#`),parse:IO,transform:FO.transform},RO={test:jO(`hsl`,`hue`),parse:MO(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+oD.transform(DO(t))+`, `+oD.transform(DO(n))+`, `+DO(uO.transform(r))+`)`},zO={test:e=>FO.test(e)||LO.test(e)||RO.test(e),parse:e=>FO.test(e)?FO.parse(e):RO.test(e)?RO.parse(e):LO.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?FO.transform(e):RO.transform(e),getAnimatableNone:e=>{let t=zO.parse(e);return t.alpha=0,zO.transform(t)}},BO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VO(e){return isNaN(e)&&typeof e==`string`&&(e.match(OO)?.length||0)+(e.match(BO)?.length||0)>0}var HO=`number`,UO=`color`,WO=`var`,GO=`var(`,KO="${}",qO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function JO(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0;return{values:n,split:t.replace(qO,e=>(zO.test(e)?(r.color.push(a),i.push(UO),n.push(zO.parse(e))):e.startsWith(GO)?(r.var.push(a),i.push(WO),n.push(e)):(r.number.push(a),i.push(HO),n.push(parseFloat(e))),++a,KO)).split(KO),indexes:r,types:i}}function YO(e){return JO(e).values}function XO(e){let{split:t,types:n}=JO(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===HO?i+=DO(e[a]):t===UO?i+=zO.transform(e[a]):i+=e[a]}return i}}var ZO=e=>typeof e==`number`?0:zO.test(e)?zO.getAnimatableNone(e):e;function QO(e){let t=YO(e);return XO(e)(t.map(ZO))}var $O={test:VO,parse:YO,createTransformer:XO,getAnimatableNone:QO},ek={test:e=>e===`auto`,parse:e=>e},tk=e=>t=>t.test(e),nk=[lO,$,oD,aD,cD,sD,ek],rk=e=>nk.find(tk(e)),ik=[...nk,zO,$O],ak=e=>ik.find(tk(e)),ok=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function sk(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(OO)||[];if(!r)return e;let i=n.replace(r,``),a=ok.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var ck=/\b([a-z-]*)\(.*?\)/gu,lk={...$O,getAnimatableNone:e=>{let t=e.match(ck);return t?t.map(sk).join(` `):e}},uk={...lO,transform:Math.round},dk={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,rotate:aD,rotateX:aD,rotateY:aD,rotateZ:aD,scale:dO,scaleX:dO,scaleY:dO,scaleZ:dO,skew:aD,skewX:aD,skewY:aD,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:uO,originX:lD,originY:lD,originZ:$,zIndex:uk,fillOpacity:uO,strokeOpacity:uO,numOctaves:uk},fk={...dk,color:zO,backgroundColor:zO,outlineColor:zO,fill:zO,stroke:zO,borderColor:zO,borderTopColor:zO,borderRightColor:zO,borderBottomColor:zO,borderLeftColor:zO,filter:lk,WebkitFilter:lk},pk=e=>fk[e];function mk(e,t){let n=pk(e);return n!==lk&&(n=$O),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var{schedule:hk,cancel:gk}=tE(queueMicrotask,!0),_k=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],vk=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=cE.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Q.render(this.render,!1,!0))};let{latestValues:s,renderState:c}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ND(t),this.isVariantNode=PD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in u){let t=u[e];s[e]!==void 0&&uD(t)&&t.set(s[e])}}mount(e){var t;this.current=e,UE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),OD.current||kD(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:DD.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;for(let t in this.projection&&this.projection.unmount(),rE(this.notifyUpdate),rE(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this),this.events)this.events[t].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=sO.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&Q.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in xD){let t=xD[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):TD()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<_k.length;t++){let n=_k[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=WD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=UD(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(TO(n)||EO(n))?n=parseFloat(n):!ak(n)&&$O.test(t)&&(n=mk(e,t)),this.setBaseTarget(e,uD(n)?n.get():n)),uD(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=KD(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!uD(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new LD),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){hk.render(this.render)}},yk=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,...oO]),bk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xk(e){let t=bk.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function Sk(e,t,n=1){`${e}`;let[r,i]=xk(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return TO(e)?parseFloat(e):e}return hE(i)?Sk(i,t,n+1):i}function Ck(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||EO(e)}var wk=new Set([`auto`,`none`,`0`]);function Tk(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!wk.has(t)&&JO(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=mk(n,i)}var Ek=class extends wO{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),hE(r))){let i=Sk(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!yk.has(n)||e.length!==2)return;let[r,i]=e,a=rk(r),o=rk(i);if(a!==o)if(fO(a)&&fO(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else gO[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||Ck(e[t]))&&n.push(t);n.length&&Tk(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gO[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=gO[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}},Dk=class extends vk{constructor(){super(...arguments),this.KeyframeResolver=Ek}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;uD(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}},Ok=(e,t)=>t&&typeof e==`number`?t.transform(e):e,kk={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},Ak=oO.length;function jk(e,t,n){let r=``,i=!0;for(let a=0;a<Ak;a++){let o=oO[a],s=e[o];if(s===void 0)continue;let c=!0;if(c=typeof s==`number`?s===(o.startsWith(`scale`)?1:0):parseFloat(s)===0,!c||n){let e=Ok(s,dk[o]);if(!c){i=!1;let t=kk[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function Mk(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(sO.has(e)){o=!0;continue}else if(pE(e)){i[e]=n;continue}else{let t=Ok(n,dk[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=jk(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function Nk(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function Pk(e,{layout:t,layoutId:n}){return sO.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!_E[e]||e===`opacity`)}function Fk(e,t,n){let{style:r}=e,i={};for(let a in r)(uD(r[a])||t.style&&uD(t.style[a])||Pk(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}function Ik(e){return window.getComputedStyle(e)}var Lk=class extends Dk{constructor(){super(...arguments),this.type=`html`,this.renderInstance=Nk}readValueFromInstance(e,t){if(sO.has(t))return this.projection?.isProjecting?nO(t):iO(e,t);{let n=Ik(e),r=(pE(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yD(e,t)}build(e,t,n){Mk(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Fk(e,t,n)}},Rk=e=>e.replace(/([a-z])([A-Z])/gu,`$1-$2`).toLowerCase(),zk={offset:`stroke-dashoffset`,array:`stroke-dasharray`},Bk={offset:`strokeDashoffset`,array:`strokeDasharray`};function Vk(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?zk:Bk;e[a.offset]=$.transform(-r);let o=$.transform(t),s=$.transform(n);e[a.array]=`${o} ${s}`}function Hk(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(Mk(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Vk(d,i,a,o,!1)}var Uk=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]),Wk=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function Gk(e,t,n,r){for(let n in Nk(e,t,void 0,r),t.attrs)e.setAttribute(Uk.has(n)?n:Rk(n),t.attrs[n])}function Kk(e,t,n){let r=Fk(e,t,n);for(let n in e)if(uD(e[n])||uD(t[n])){let t=oO.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var qk=class extends Dk{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=TD}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sO.has(t)){let e=pk(t);return e&&e.default||0}return t=Uk.has(t)?t:Rk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Kk(e,t,n)}build(e,t,n){Hk(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){Gk(e,t,n,r)}mount(e){this.isSVGTag=Wk(e.tagName),super.mount(e)}};function Jk(e,t){return PE(e)?new qk(t):new Lk(t)}function Yk(e,t,n,r=0,i=1){let a=Array.from(e),o=a.indexOf(t),s=e.size,c=(s-1)*r,l=typeof n==`function`;return o===a.length-1&&(t.parent.enteringChildren=void 0),l?n(o,s):i===1?o*r:c-o*r}function Xk(e){return typeof e==`object`&&!Array.isArray(e)}function Zk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Qk(e,t,n,r){return typeof e==`string`&&Xk(t)?Zk(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function $k(e,t,n){return e*(t+1)}function eA(e,t,n,r){return typeof t==`number`?t:t.startsWith(`-`)||t.startsWith(`+`)?Math.max(0,e+parseFloat(t)):t===`<`?n:t.startsWith(`<`)?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}var tA=(e,t,n)=>e+(t-e)*n,nA=(e,t,n)=>{let r=t-e;return((n-e)%r+r)%r+e},rA=e=>Array.isArray(e)&&typeof e[0]!=`number`;function iA(e,t){return rA(e)?e[nA(0,e.length,t)]:e}function aA(e,t,n){for(let r=0;r<e.length;r++){let i=e[r];i.at>t&&i.at<n&&(ID(e,i),r--)}}function oA(e,t,n,r,i,a){aA(e,i,a);for(let o=0;o<t.length;o++)e.push({value:t[o],at:tA(i,a,r[o]),easing:iA(n,o)})}function sA(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function cA(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}var lA=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r};function uA(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=lA(0,t,r);e.push(tA(n,1,i))}}function dA(e){let t=[0];return uA(t,e.length-1),t}var fA=2e4;function pA(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function mA(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(pA(r),fA);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:uE(i)}}function hA(e){return typeof e==`function`&&`applyToOptions`in e}var gA=`easeInOut`;function _A(e,{defaultTransition:t={},...n}={},r,i){let a=t.duration||.3,o=new Map,s=new Map,c={},l=new Map,u=0,d=0,f=0;for(let n=0;n<e.length;n++){let o=e[n];if(typeof o==`string`){l.set(o,d);continue}else if(!Array.isArray(o)){l.set(o.name,eA(d,o.at,u,l));continue}let[p,m,h={}]=o;h.at!==void 0&&(d=eA(d,h.at,u,l));let g=0,_=(e,n,r,o=0,s=0)=>{let c=bA(e),{delay:l=0,times:u=dA(c),type:p=`keyframes`,repeat:m,repeatType:h,repeatDelay:_=0,...v}=n,{ease:y=t.ease||`easeOut`,duration:b}=n,x=typeof l==`function`?l(o,s):l,S=c.length,C=hA(p)?p:i?.[p||`keyframes`];if(S<=2&&C){let e=100;if(S===2&&CA(c)){let t=c[1]-c[0];e=Math.abs(t)}let t={...v};b!==void 0&&(t.duration=lE(b));let n=mA(t,e,C);y=n.ease,b=n.duration}b??=a;let w=d+x;u.length===1&&u[0]===0&&(u[1]=1);let T=u.length-c.length;if(T>0&&uA(u,T),c.length===1&&c.unshift(null),m){b=$k(b,m);let e=[...c],t=[...u];y=Array.isArray(y)?[...y]:[y];let n=[...y];for(let r=0;r<m;r++){c.push(...e);for(let i=0;i<e.length;i++)u.push(t[i]+(r+1)),y.push(i===0?`linear`:iA(n,i-1))}sA(u,m)}let E=w+b;oA(r,c,y,u,w,E),g=Math.max(x+b,g),f=Math.max(E,f)};if(uD(p)){let e=vA(p,s);_(m,h,yA(`default`,e))}else{let e=Qk(p,m,r,c),t=e.length;for(let n=0;n<t;n++){m=m,h=h;let r=e[n],i=vA(r,s);for(let e in m)_(m[e],xA(h,e),yA(e,i),n,t)}}u=d,d+=g}return s.forEach((e,r)=>{for(let i in e){let a=e[i];a.sort(cA);let s=[],c=[],l=[];for(let e=0;e<a.length;e++){let{at:t,value:n,easing:r}=a[e];s.push(n),c.push(lA(0,f,t)),l.push(r||`easeOut`)}c[0]!==0&&(c.unshift(0),s.unshift(s[0]),l.unshift(gA)),c[c.length-1]!==1&&(c.push(1),s.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});let u=o.get(r);u.keyframes[i]=s,u.transition[i]={...t,duration:f,ease:l,times:c,...n}}}),o}function vA(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function yA(e,t){return t[e]||(t[e]=[]),t[e]}function bA(e){return Array.isArray(e)?e:[e]}function xA(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}var SA=e=>typeof e==`number`,CA=e=>e.every(SA),wA=e=>Array.isArray(e);function TA(e,t,n){let r=e.getProps();return KD(r,t,r.custom,e)}function EA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,UD(n))}function DA(e){return wA(e)?e[e.length-1]||0:e}function OA(e,t){let{transitionEnd:n={},transition:r={},...i}=TA(e,t)||{};for(let t in i={...i,...n},i)EA(e,t,DA(i[t]))}function kA(e){return!!(uD(e)&&e.add)}function AA(e,t){let n=e.getValue(`willChange`);if(kA(n))return n.add(t);if(!n&&$T.WillChange){let n=new $T.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}var jA=`data-`+Rk(`framerAppearId`);function MA(e){return e.props[jA]}var NA=e=>e!==null;function PA(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(NA),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}var FA={type:`spring`,stiffness:500,damping:25,restSpeed:10},IA=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LA={type:`keyframes`,duration:.8},RA={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},zA=(e,{keyframes:t})=>t.length>2?LA:sO.has(e)?e.startsWith(`scale`)?IA(t[1]):FA:RA;function BA({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function VA(e,t){return e?.[t]??e?.default??e}function HA(e){e.duration=0,e.type}var UA={layout:0,mainThread:0,waapi:0};function WA(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=WA(s,r,e+1/3),a=WA(s,r,e),o=WA(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function KA(e,t){return n=>n>0?t:e}var qA=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},JA=[LO,FO,RO],YA=e=>JA.find(t=>t.test(e));function XA(e){let t=YA(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===RO&&(n=GA(n)),n}var ZA=(e,t)=>{let n=XA(e),r=XA(t);if(!n||!r)return KA(e,t);let i={...n};return e=>(i.red=qA(n.red,r.red,e),i.green=qA(n.green,r.green,e),i.blue=qA(n.blue,r.blue,e),i.alpha=tA(n.alpha,r.alpha,e),FO.transform(i))},QA=new Set([`none`,`hidden`]);function $A(e,t){return QA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}var ej=(e,t)=>n=>t(e(n)),tj=(...e)=>e.reduce(ej);function nj(e,t){return n=>tA(e,t,n)}function rj(e){return typeof e==`number`?nj:typeof e==`string`?hE(e)?KA:zO.test(e)?ZA:sj:Array.isArray(e)?ij:typeof e==`object`?zO.test(e)?ZA:aj:KA}function ij(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>rj(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function aj(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=rj(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function oj(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var sj=(e,t)=>{let n=$O.createTransformer(t),r=JO(e),i=JO(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?QA.has(e)&&!i.values.length||QA.has(t)&&!r.values.length?$A(e,t):tj(ij(oj(r,i),i.values),n):(`${e}${t}`,KA(e,t))};function cj(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?tA(e,t,n):rj(e)(e,t)}var lj=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>Q.update(t,e),stop:()=>rE(t),now:()=>iE.isProcessing?iE.timestamp:cE.now()}},uj=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},dj=5;function fj(e,t,n){let r=Math.max(t-dj,0);return RD(n-e(r),t-r)}var pj={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mj=.001;function hj({duration:e=pj.duration,bounce:t=pj.bounce,velocity:n=pj.velocity,mass:r=pj.mass}){let i,a;pj.maxDuration;let o=1-t;o=cO(pj.minDamping,pj.maxDamping,o),e=cO(pj.minDuration,pj.maxDuration,uE(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=vj(t,o),c=Math.exp(-i);return mj-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=vj(t**2,o);return(-i(t)+mj>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-mj+r*i},a=t=>Math.exp(-t*e)*((n-t)*(e*e)));let s=5/e,c=_j(i,a,s);if(e=lE(e),isNaN(c))return{stiffness:pj.stiffness,damping:pj.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var gj=12;function _j(e,t,n){let r=n;for(let n=1;n<gj;n++)r-=e(r)/t(r);return r}function vj(e,t){return e*Math.sqrt(1-t*t)}var yj=[`duration`,`bounce`],bj=[`stiffness`,`damping`,`mass`];function xj(e,t){return t.some(t=>e[t]!==void 0)}function Sj(e){let t={velocity:pj.velocity,stiffness:pj.stiffness,damping:pj.damping,mass:pj.mass,isResolvedFromDuration:!1,...e};if(!xj(e,bj)&&xj(e,yj))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*cO(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:pj.mass,stiffness:i,damping:a}}else{let n=hj(e);t={...t,...n,mass:pj.mass},t.isResolvedFromDuration=!0}return t}function Cj(e=pj.visualDuration,t=pj.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Sj({...n,velocity:-uE(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=uE(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?pj.restSpeed.granular:pj.restSpeed.default,i||=v?pj.restDelta.granular:pj.restDelta.default;let y;if(h<1){let e=vj(_,h);y=t=>o-Math.exp(-h*_*t)*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?lE(m):fj(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(pA(b),fA),t=uj(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}Cj.applyToOptions=e=>{let t=mA(e,100,Cj);return e.ease=t.ease,e.duration=lE(t.duration),e.type=`keyframes`,e};function wj({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=Cj({keyframes:[f.value,m(f.value)],velocity:fj(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function Tj(e,t,n){let r=[],i=n||$T.mix||cj,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);t&&(a=tj(Array.isArray(t)?t[n]||nE:t,a)),r.push(a)}return r}function Ej(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=Tj(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=lA(e[r],e[r+1],n);return s[r](i)};return n?t=>l(cO(e[0],e[a-1],t)):l}function Dj(e,t){return e.map(e=>e*t)}var Oj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kj=1e-7,Aj=12;function jj(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Oj(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>kj&&++s<Aj);return o}function Mj(e,t,n,r){if(e===t&&n===r)return nE;let i=t=>jj(t,0,1,e,n);return e=>e===0||e===1?e:Oj(i(e),t,r)}var Nj=Mj(.42,0,1,1),Pj=Mj(0,0,.58,1),Fj=Mj(.42,0,.58,1),Ij=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lj=e=>t=>1-e(1-t),Rj=Mj(.33,1.53,.69,.99),zj=Lj(Rj),Bj=Ij(zj),Vj=e=>(e*=2)<1?.5*zj(e):.5*(2-2**(-10*(e-1))),Hj=e=>1-Math.sin(Math.acos(e)),Uj=Lj(Hj),Wj=Ij(Hj),Gj=e=>Array.isArray(e)&&typeof e[0]==`number`,Kj={linear:nE,easeIn:Nj,easeInOut:Fj,easeOut:Pj,circIn:Hj,circInOut:Wj,circOut:Uj,backIn:zj,backInOut:Bj,backOut:Rj,anticipate:Vj},qj=e=>typeof e==`string`,Jj=e=>{if(Gj(e)){e.length;let[t,n,r,i]=e;return Mj(t,n,r,i)}else if(qj(e))return Kj[e],`${e}`,Kj[e];return e};function Yj(e,t){return e.map(()=>t||Fj).splice(0,e.length-1)}function Xj({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=rA(r)?r.map(Jj):Jj(r),a={done:!1,value:t[0]},o=Ej(Dj(n&&n.length===t.length?n:dA(t),e),t,{ease:Array.isArray(i)?i:Yj(t,i)});return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}var Zj=e=>e!==null;function Qj(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(Zj),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var $j={decay:wj,inertia:wj,tween:Xj,keyframes:Xj,spring:Cj};function eM(e){typeof e.type==`string`&&(e.type=$j[e.type])}var tM=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},nM=e=>e/100,rM=class extends tM{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;let{motionValue:n}=this.options;n&&n.updatedAt!==cE.now()&&this.tick(cE.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),(t=(e=this.options).onStop)==null||t.call(e))},UA.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;eM(e);let{type:t=Xj,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||Xj;s!==Xj&&typeof o[0]!=`number`&&(this.mixKeyframes=tj(nM,cj(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=pA(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=cO(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==wj&&(b.value=Qj(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return uE(this.calculatedDuration)}get time(){return uE(this.currentTime)}set time(e){var t;e=lE(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cE.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=uE(this.currentTime))}play(){var e,t;if(this.isStopped)return;let{driver:n=lj,startTime:r}=this.options;this.driver||=n(e=>this.tick(e)),(t=(e=this.options).onPlay)==null||t.call(e);let i=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=i):this.holdTime===null?this.startTime||=r??i:this.startTime=i-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(cE.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state=`finished`,(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,UA.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}},iM=e=>e.startsWith(`--`);function aM(e,t,n){iM(t)?e.style.setProperty(t,n):e.style[t]=n}function oM(e){let t;return()=>(t===void 0&&(t=e()),t)}var sM=oM(()=>window.ScrollTimeline!==void 0),cM={};function lM(e,t){let n=oM(e);return()=>cM[t]??n()}var uM=lM(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),dM=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,fM={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:dM([0,.65,.55,1]),circOut:dM([.55,0,1,.45]),backIn:dM([.31,.01,.66,-.59]),backOut:dM([.33,1.53,.69,.99])};function pM(e,t){if(e)return typeof e==`function`?uM()?uj(e,t):`ease-out`:Gj(e)?dM(e):Array.isArray(e)?e.map(e=>pM(e,t)||fM.easeOut):fM[e]}function mM(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=pM(s,i);Array.isArray(d)&&(u.easing=d),ZT.value&&UA.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return ZT.value&&p.finished.finally(()=>{UA.waapi--}),p}function hM({type:e,...t}){return hA(e)&&uM()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var gM=class extends tM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=hM(e);this.animation=mM(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=Qj(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):aM(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var e;let t=((e=this.animation.effect)?.getComputedTiming)?.call(e).duration||0;return uE(Number(t))}get time(){return uE(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lE(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:`linear`})),this.animation.onfinish=null,e&&sM()?(this.animation.timeline=e,nE):t(this)}},_M={anticipate:Vj,backInOut:Bj,circInOut:Wj};function vM(e){return e in _M}function yM(e){typeof e.ease==`string`&&vM(e.ease)&&(e.ease=_M[e.ease])}var bM=10,xM=class extends gM{constructor(e){yM(e),eM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new rM({...a,autoplay:!1}),s=lE(this.finishedTime??this.time);t.setWithVelocity(o.sample(s-bM).value,o.sample(s).value,bM),o.stop()}},SM=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&($O.test(e)||e===`0`)&&!e.startsWith(`url(`));function CM(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function wM(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=SM(i,t),s=SM(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:CM(e)||(n===`spring`||hA(n))&&r}var TM=new Set([`opacity`,`clipPath`,`filter`,`transform`]),EM=oM(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function DM(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return EM()&&n&&TM.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var OM=40,kM=class extends tM{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){var d;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),(e=this.stopTimeline)==null||e.call(this)),(t=this.keyframeResolver)==null||t.cancel()},this.createdAt=cE.now();let f={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||wO)(o,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),s,c,l),(d=this.keyframeResolver)==null||d.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=cE.now(),wM(e,i,a,o)||(($T.instantAnimations||!s)&&l?.(Qj(e,n,t)),e[0]=e[e.length-1],HA(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>OM?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&DM(u)?new xM({...u,element:u.motionValue.owner.current}):new rM(u);d.finished.then(()=>this.notifyFinished()).catch(nE),this.pendingTimeline&&=(this.stopTimeline=d.attachTimeline(this.pendingTimeline),void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),CO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}},AM=(e,t,n,r={},i,a)=>o=>{let s=VA(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=lE(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};BA(s)||Object.assign(u,zA(e,u)),u.duration&&=lE(u.duration),u.repeatDelay&&=lE(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(HA(u),u.delay===0&&(d=!0)),($T.instantAnimations||$T.skipAnimations)&&(d=!0,HA(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=PA(u.keyframes,s);if(e!==void 0){Q.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new rM(u):new kM(u)};function jM({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function MM(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);let c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||l&&jM(l,t))continue;let o={delay:n,...VA(a||{},t)},u=r.get();if(u!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===u&&!o.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=MA(e);if(n){let e=window.MotionHandoffAnimation(n,t,Q);e!==null&&(o.startTime=e,d=!0)}}AA(e,t),r.start(AM(t,r,i,e.shouldReduceMotion&&yk.has(t)?{type:!1}:o,e,d));let f=r.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{Q.update(()=>{o&&OA(e,o)})}),c}function NM(e,t){return e in t}var PM=class extends vk{constructor(){super(...arguments),this.type=`object`}readValueFromInstance(e,t){if(NM(t,e)){let n=e[t];if(typeof n==`string`||typeof n==`number`)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return TD()}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}};function FM(e){return typeof e==`object`&&!!e}function IM(e){return FM(e)&&`ownerSVGElement`in e}function LM(e){return IM(e)&&e.tagName===`svg`}function RM(e){let t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=IM(e)&&!LM(e)?new qk(t):new Lk(t);n.mount(e),UE.set(e,n)}function zM(e){let t=new PM({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),UE.set(e,t)}function BM(e,t,n){let r=uD(e)?e:UD(e);return r.start(AM(``,r,t,n)),r.animation}function VM(e,t){return uD(e)||typeof e==`number`||typeof e==`string`&&!Xk(t)}function HM(e,t,n,r){let i=[];if(VM(e,t))i.push(BM(e,Xk(t)&&t.default||t,n&&(n.default||n)));else{let a=Qk(e,t,r),o=a.length;for(let e=0;e<o;e++){let r=a[e],s=r instanceof Element?RM:zM;UE.has(r)||s(r);let c=UE.get(r),l={...n};`delay`in l&&typeof l.delay==`function`&&(l.delay=l.delay(e,o)),i.push(...MM(c,{...t,transition:l},{}))}}return i}function UM(e,t,n){let r=[];return _A(e,t,n,{spring:Cj}).forEach(({keyframes:e,transition:t},n)=>{r.push(...HM(n,e,t))}),r}var WM=class{constructor(e){this.stop=()=>this.runAll(`stop`),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){let t=this.animations.map(t=>t.attachTimeline(e));return()=>{t.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll(`time`)}set time(e){this.setAll(`time`,e)}get speed(){return this.getAll(`speed`)}set speed(e){this.setAll(`speed`,e)}get state(){return this.getAll(`state`)}get startTime(){return this.getAll(`startTime`)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll(`play`)}pause(){this.runAll(`pause`)}cancel(){this.runAll(`cancel`)}complete(){this.runAll(`complete`)}},GM=class extends WM{then(e,t){return this.finished.finally(e).then(()=>{})}};function KM(e){return Array.isArray(e)&&e.some(Array.isArray)}function qM(e){function t(t,n,r){let i=[];i=KM(t)?UM(t,n,e):HM(t,n,r,e);let a=new GM(i);return e&&(e.animations.push(a),a.finished.then(()=>{ID(e.animations,a)})),a}return t}var JM=qM(),YM=[`initial`,`animate`,`whileInView`,`whileHover`,`whilePress`,`whileDrag`,`whileFocus`,`exit`],XM=class extends TE{constructor(e){var t;super(e),this.animateUpdates=({controlActiveState:e,directAnimate:t,directTransition:n,controlDelay:r=0,isExit:i}={})=>{let{reducedMotion:a}=this.state.options.motionConfig;this.state.visualElement.shouldReduceMotion=a===`always`||a===`user`&&!!DD.current;let o=this.state.target;this.state.target={...this.state.baseTarget};let s={};s=this.resolveStateAnimation({controlActiveState:e,directAnimate:t,directTransition:n}),this.state.finalTransition=s;let c=this.createAnimationFactories(o,s,r),{getChildAnimations:l}=this.setupChildAnimations(s,this.state.activeStates);return this.executeAnimations({factories:c,getChildAnimations:l,transition:s,controlActiveState:e,isExit:i})},this.state.visualElement=Jk(this.state.options.as,{presenceContext:null,parent:this.state.parent?.visualElement,props:{...this.state.options,whileTap:this.state.options.whilePress},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{...this.state.baseTarget}},reducedMotionConfig:this.state.options.motionConfig.reducedMotion}),(t=this.state.visualElement.parent)==null||t.addChild(this.state.visualElement),this.state.animateUpdates=this.animateUpdates,this.state.isMounted()&&this.state.startAnimation()}updateAnimationControlsSubscription(){let{animate:e}=this.state.options;wE(e)&&(this.unmountControls=e.subscribe(this.state))}executeAnimations({factories:e,getChildAnimations:t,transition:n,controlActiveState:r,isExit:i=!1}){let a=()=>Promise.all(e.map(e=>e()).filter(Boolean)),o={...this.state.target},s=this.state.element,c=e=>{var t,n;s.dispatchEvent(WE(`motionstart`,o)),(n=(t=this.state.options).onAnimationStart)==null||n.call(t,o),e.then(()=>{var e,t;s.dispatchEvent(WE(`motioncomplete`,o,i)),(t=(e=this.state.options).onAnimationComplete)==null||t.call(e,o)}).catch(nE)},l=()=>{let e=n?.when?(n.when===`beforeChildren`?a():t()).then(()=>n.when===`beforeChildren`?t():a()):Promise.all([a(),t()]);return c(e),e};return r?l:l()}setupChildAnimations(e,t){let n=this.state.visualElement;if(!n.variantChildren?.size||!t)return{getChildAnimations:()=>Promise.resolve()};let{staggerChildren:r=0,staggerDirection:i=1,delayChildren:a=0}=e||{},o=n.variantChildren.size,s=(o-1)*r,c=typeof a==`function`,l=c?e=>a(e,o):i===1?(e=0)=>e*r:(e=0)=>s-e*r,u=Array.from(n.variantChildren).map((e,n)=>e.state.animateUpdates({controlActiveState:t,controlDelay:(c?0:a)+l(n)}));return{getChildAnimations:()=>Promise.all(u.map(e=>e()))}}createAnimationFactories(e,t,n){let r=[];return Object.keys(this.state.target).forEach(i=>{var a;if(!DE(e[i],this.state.target[i]))return;(a=this.state.baseTarget)[i]??(a[i]=dD.get(this.state.element,i));let o=this.state.target[i]===`none`&&Ne(rD[i])?rD[i]:this.state.target[i];r.push(()=>JM(this.state.element,{[i]:o},{...t?.[i]||t,delay:(t?.[i]?.delay||t?.delay||0)+n}))}),r}resolveStateAnimation({controlActiveState:e,directAnimate:t,directTransition:n}){let r=this.state.options.transition,i={},{variants:a,custom:o,transition:s,animatePresenceContext:c}=this.state.options,l=o??c?.custom;return this.state.activeStates={...this.state.activeStates,...e},YM.forEach(e=>{if(!this.state.activeStates[e]||wE(this.state.options[e]))return;let t=this.state.options[e],n=Ne(t)?EE(t,a,l):void 0;if(this.state.visualElement.isVariantNode){let t=EE(this.state.context[e],a,l);n=t?Object.assign(t||{},n):Object.assign(i,n)}n&&(e!==`initial`&&(r=n.transition||this.state.options.transition||{}),i=Object.assign(i,n))}),t&&(i=EE(t,a,l),r=i.transition||n||s),Object.entries(i).forEach(([e,t])=>{e!==`transition`&&(this.state.target[e]=t)}),r}mount(){let{element:e}=this.state;BE.set(e,this.state),UE.get(e)||(this.state.visualElement.mount(e),UE.set(e,this.state.visualElement)),this.state.visualElement.state=this.state,this.updateAnimationControlsSubscription();let t=this.state.visualElement,n=t.parent;if(t.enteringChildren=void 0,this.state.parent?.isMounted()&&!t.isControllingVariants&&(n?.enteringChildren)?.has(t)){let{delayChildren:e}=this.state.parent.finalTransition||{};this.animateUpdates({controlActiveState:this.state.parent.activeStates,controlDelay:Yk(n.enteringChildren,t,e)})()}}update(){let{animate:e}=this.state.options,{animate:t}=this.state.visualElement.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;(e=this.unmountControls)==null||e.call(this)}};function ZM(e){return FM(e)&&`offsetHeight`in e}var QM={x:!1,y:!1};function $M(){return QM.x||QM.y}var eN=(e,t)=>t?e===t?!0:eN(e,t.parentElement):!1,tN=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1;function nN(e,t){let n=Zk(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}var rN=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function iN(e){return rN.has(e.tagName)||e.tabIndex!==-1}var aN=new WeakSet;function oN(e){return t=>{t.key===`Enter`&&e(t)}}function sN(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var cN=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=oN(()=>{if(aN.has(n))return;sN(n,`down`);let e=oN(()=>{sN(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>sN(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function lN(e){return tN(e)&&!$M()}function uN(e,t,n={}){let[r,i,a]=nN(e,n),o=e=>{let r=e.currentTarget;if(!lN(e))return;aN.add(r);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),aN.has(r)&&aN.delete(r),lN(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||eN(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),ZM(e)&&(e.addEventListener(`focus`,e=>cN(e,i)),!iN(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function dN(e){return{point:{x:e.pageX,y:e.pageY}}}function fN(e,t,n){let r=e.options;r.whilePress&&e.setActive(`whilePress`,n===`Start`);let i=r[`onPress${n===`End`?``:n}`];i&&Q.postRender(()=>i(t,dN(t)))}var pN=class extends TE{isActive(){let{whilePress:e,onPress:t,onPressCancel:n,onPressStart:r}=this.state.options;return!!(e||t||n||r)}constructor(e){super(e)}mount(){this.register()}update(){let{whilePress:e,onPress:t,onPressCancel:n,onPressStart:r}=this.state.options;e||t||n||r||this.register()}register(){let e=this.state.element;!e||!this.isActive()||(this.unmount(),this.unmount=uN(e,(e,t)=>(fN(this.state,t,`Start`),(e,{success:t})=>fN(this.state,e,t?`End`:`Cancel`)),{useGlobalTarget:this.state.options.globalPressTarget}))}};function mN(e){return!(e.pointerType===`touch`||$M())}function hN(e,t,n={}){let[r,i,a]=nN(e,n),o=e=>{if(!mN(e))return;let{target:n}=e,r=t(n,e);if(typeof r!=`function`||!n)return;let a=e=>{mN(e)&&(r(e),n.removeEventListener(`pointerleave`,a))};n.addEventListener(`pointerleave`,a,i)};return r.forEach(e=>{e.addEventListener(`pointerenter`,o,i)}),a}function gN(e,t,n){let r=e.options;r.whileHover&&e.setActive(`whileHover`,n===`Start`);let i=r[`onHover${n}`];i&&Q.postRender(()=>i(t,dN(t)))}var _N=class extends TE{isActive(){let{whileHover:e,onHoverStart:t,onHoverEnd:n}=this.state.options;return!!(e||t||n)}constructor(e){super(e)}mount(){this.register()}update(){let{whileHover:e,onHoverStart:t,onHoverEnd:n}=this.state.visualElement.prevProps;e||t||n||this.register()}register(){let e=this.state.element;!e||!this.isActive()||(this.unmount(),this.unmount=hN(e,(e,t)=>(gN(this.state,t,`Start`),e=>{gN(this.state,e,`End`)})))}},vN={some:0,all:1};function yN(e,t,{root:n,margin:r,amount:i=`some`}={}){let a=Zk(e),o=new WeakMap,s=new IntersectionObserver(e=>{e.forEach(e=>{let n=o.get(e.target);if(e.isIntersecting!==!!n)if(e.isIntersecting){let n=t(e.target,e);typeof n==`function`?o.set(e.target,n):s.unobserve(e.target)}else typeof n==`function`&&(n(e),o.delete(e.target))})},{root:n,rootMargin:r,threshold:typeof i==`number`?i:vN[i]});return a.forEach(e=>s.observe(e)),()=>s.disconnect()}function bN(e,t,n){let r=e.options;r.whileInView&&e.setActive(`whileInView`,n===`Enter`);let i=r[`onViewport${n}`];i&&Q.postRender(()=>i(t))}var xN=class extends TE{isActive(){let{whileInView:e,onViewportEnter:t,onViewportLeave:n}=this.state.options;return!!(e||t||n)}constructor(e){super(e)}startObserver(){let e=this.state.element;if(!e||!this.isActive())return;this.unmount();let{once:t,...n}=this.state.options.inViewOptions||{};this.unmount=yN(e,(e,n)=>{if(bN(this.state,n,`Enter`),!t)return e=>{bN(this.state,n,`Leave`)}},n)}mount(){this.startObserver()}update(){let{props:e,prevProps:t}=this.state.visualElement;[`amount`,`margin`,`root`].some(SN(e,t))&&this.startObserver()}};function SN({inViewOptions:e={}},{inViewOptions:t={}}={}){return n=>e[n]!==t[n]}function CN(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var wN=class extends TE{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.state.element.matches(`:focus-visible`)}catch{e=!0}e&&(this.state.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){this.isActive&&=(this.state.setActive(`whileFocus`,!1),!1)}mount(){this.unmount=tj(CN(this.state.element,`focus`,()=>this.onFocus()),CN(this.state.element,`blur`,()=>this.onBlur()))}},TN=(e,t)=>e.depth-t.depth,EN=class{constructor(){this.children=[],this.isDirty=!1}add(e){FD(this.children,e),this.isDirty=!0}remove(e){ID(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TN),this.isDirty=!1,this.children.forEach(e)}};function DN(e){return uD(e)?e.get():e}var ON=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],kN=ON.length,AN=e=>typeof e==`string`?parseFloat(e):e,jN=e=>typeof e==`number`||$.test(e);function MN(e,t,n,r,i,a){i?(e.opacity=tA(0,n.opacity??1,PN(r)),e.opacityExit=tA(t.opacity??1,0,FN(r))):a&&(e.opacity=tA(t.opacity??1,n.opacity??1,r));for(let i=0;i<kN;i++){let a=`border${ON[i]}Radius`,o=NN(t,a),s=NN(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||jN(o)===jN(s)?(e[a]=Math.max(tA(AN(o),AN(s),r),0),(oD.test(s)||oD.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=tA(t.rotate||0,n.rotate||0,r))}function NN(e,t){return e[t]===void 0?e.borderRadius:e[t]}var PN=IN(0,.5,Uj),FN=IN(.5,.95,nE);function IN(e,t,n){return r=>r<e?0:r>t?1:n(lA(e,t,r))}function LN(e,t){e.min=t.min,e.max=t.max}function RN(e,t){LN(e.x,t.x),LN(e.y,t.y)}function zN(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BN(e){return e===void 0||e===1}function VN({scale:e,scaleX:t,scaleY:n}){return!BN(e)||!BN(t)||!BN(n)}function HN(e){return VN(e)||UN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UN(e){return WN(e.x)||WN(e.y)}function WN(e){return e&&e!==`0%`}function GN(e,t,n){return n+t*(e-n)}function KN(e,t,n,r,i){return i!==void 0&&(e=GN(e,i,r)),GN(e,n,r)+t}function qN(e,t=0,n=1,r,i){e.min=KN(e.min,t,n,r,i),e.max=KN(e.max,t,n,r,i)}function JN(e,{x:t,y:n}){qN(e.x,t.translate,t.scale,t.originPoint),qN(e.y,n.translate,n.scale,n.originPoint)}var YN=.999999999999,XN=1.0000000000001;function ZN(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&eP(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,JN(e,o)),r&&HN(a.latestValues)&&eP(e,a.latestValues))}t.x<XN&&t.x>YN&&(t.x=1),t.y<XN&&t.y>YN&&(t.y=1)}function QN(e,t){e.min+=t,e.max+=t}function $N(e,t,n,r,i=.5){qN(e,t,n,tA(e.min,e.max,i),r)}function eP(e,t){$N(e.x,t.x,t.scaleX,t.scale,t.originX),$N(e.y,t.y,t.scaleY,t.scale,t.originY)}var tP=1e-4,nP=1-tP,rP=1+tP,iP=.01,aP=0-iP,oP=0+iP;function sP(e){return e.max-e.min}function cP(e,t,n){return Math.abs(e-t)<=n}function lP(e,t,n,r=.5){e.origin=r,e.originPoint=tA(t.min,t.max,e.origin),e.scale=sP(n)/sP(t),e.translate=tA(n.min,n.max,e.origin)-e.originPoint,(e.scale>=nP&&e.scale<=rP||isNaN(e.scale))&&(e.scale=1),(e.translate>=aP&&e.translate<=oP||isNaN(e.translate))&&(e.translate=0)}function uP(e,t,n,r){lP(e.x,t.x,n.x,r?r.originX:void 0),lP(e.y,t.y,n.y,r?r.originY:void 0)}function dP(e,t,n){e.min=n.min+t.min,e.max=e.min+sP(t)}function fP(e,t,n){dP(e.x,t.x,n.x),dP(e.y,t.y,n.y)}function pP(e,t,n){e.min=t.min-n.min,e.max=e.min+sP(t)}function mP(e,t,n){pP(e.x,t.x,n.x),pP(e.y,t.y,n.y)}function hP(e,t,n,r,i){return e-=t,e=GN(e,1/n,r),i!==void 0&&(e=GN(e,1/i,r)),e}function gP(e,t=0,n=1,r=.5,i,a=e,o=e){if(oD.test(t)&&(t=parseFloat(t),t=tA(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=tA(a.min,a.max,r);e===a&&(s-=t),e.min=hP(e.min,t,n,s,i),e.max=hP(e.max,t,n,s,i)}function _P(e,t,[n,r,i],a,o){gP(e,t[n],t[r],t[i],t.scale,a,o)}var vP=[`x`,`scaleX`,`originX`],yP=[`y`,`scaleY`,`originY`];function bP(e,t,n,r){_P(e.x,t,vP,n?n.x:void 0,r?r.x:void 0),_P(e.y,t,yP,n?n.y:void 0,r?r.y:void 0)}function xP(e){return e.translate===0&&e.scale===1}function SP(e){return xP(e.x)&&xP(e.y)}function CP(e,t){return e.min===t.min&&e.max===t.max}function wP(e,t){return CP(e.x,t.x)&&CP(e.y,t.y)}function TP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EP(e,t){return TP(e.x,t.x)&&TP(e.y,t.y)}function DP(e){return sP(e.x)/sP(e.y)}function OP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var kP=class{constructor(){this.members=[]}add(e){FD(this.members,e),e.scheduleRender()}remove(e){if(ID(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function AP(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}function jP(e){return[e(`x`),e(`y`)]}var MP={hasAnimatedSinceResize:!0,hasEverUpdated:!1},NP={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},PP=[``,`X`,`Y`,`Z`],FP=1e3,IP=0;function LP(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function RP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=MA(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,Q,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&RP(r)}function zP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=IP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ZT.value&&(NP.nodes=NP.calculatedTargetDeltas=NP.calculatedProjections=0),this.nodes.forEach(HP),this.nodes.forEach(YP),this.nodes.forEach(XP),this.nodes.forEach(UP),ZT.addProjectionMetrics&&ZT.addProjectionMetrics(NP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new EN)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new LD),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=IM(t)&&!LM(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;Q.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=dE(i,250),MP.hasAnimatedSinceResize&&(MP.hasAnimatedSinceResize=!1,this.nodes.forEach(JP)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||rF,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!EP(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...VA(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||JP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rE(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZP),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qP),this.nodes.forEach(BP),this.nodes.forEach(VP)):this.nodes.forEach(KP),this.clearAllSnapshots();let e=cE.now();iE.delta=cO(0,1e3/60,e-iE.timestamp),iE.timestamp=e,iE.isProcessing=!0,aE.update.process(iE),aE.preRender.process(iE),aE.render.process(iE),iE.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WP),this.sharedNodes.forEach(QP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sP(this.snapshot.measuredBox.x)&&!sP(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=TD(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!SP(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||HN(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),sF(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return TD();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lF))){let{scroll:e}=this.root;e&&(QN(t.x,e.offset.x),QN(t.y,e.offset.y))}return t}removeElementScroll(e){let t=TD();if(RN(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&RN(t,e),QN(t.x,i.offset.x),QN(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=TD();RN(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&eP(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),HN(r.latestValues)&&eP(n,r.latestValues)}return HN(this.latestValues)&&eP(n,this.latestValues),n}removeTransform(e){let t=TD();RN(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!HN(n.latestValues))continue;VN(n.latestValues)&&n.updateSnapshot();let r=TD();RN(r,n.measurePageBox()),bP(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return HN(this.latestValues)&&bP(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==iE.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=iE.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=TD(),this.relativeTargetOrigin=TD(),mP(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),RN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=TD(),this.targetWithTransforms=TD()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):RN(this.target,this.layout.layoutBox),JN(this.target,this.targetDelta)):RN(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=TD(),this.relativeTargetOrigin=TD(),mP(this.relativeTargetOrigin,this.target,e.target),RN(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ZT.value&&NP.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||VN(this.parent.latestValues)||UN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===iE.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;RN(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;ZN(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=TD());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zN(this.prevProjectionDelta.x,this.projectionDelta.x),zN(this.prevProjectionDelta.y,this.projectionDelta.y)),uP(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!OP(this.projectionDelta.x,this.prevProjectionDelta.x)||!OP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),ZT.value&&NP.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if((t=this.options.visualElement)==null||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=CD(),this.projectionDelta=CD(),this.projectionDeltaWithTransform=CD()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=CD();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=TD(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=!!(s&&!l&&this.options.crossfade===!0&&!this.path.some(nF));this.animationProgress=0;let d;this.mixTargetDelta=t=>{let n=t/1e3;$P(a.x,e.x,n),$P(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mP(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tF(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&wP(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||=TD(),RN(d,this.relativeTarget)),s&&(this.animationValues=i,MN(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners(`animationStart`),(t=this.currentAnimation)==null||t.stop(),(n=this.resumingFrom?.currentAnimation)==null||n.stop(),this.pendingAnimation&&=(rE(this.pendingAnimation),void 0),this.pendingAnimation=Q.update(()=>{MP.hasAnimatedSinceResize=!0,UA.layout++,this.motionValue||=UD(0),this.currentAnimation=BM(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{UA.layout--},onComplete:()=>{UA.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&cF(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||TD();let t=sP(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=sP(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}RN(t,n),eP(t,i),uP(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new kP),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&LP(`z`,e,r,this.animationValues);for(let t=0;t<PP.length;t++)LP(`rotate${PP[t]}`,e,r,this.animationValues),LP(`skew${PP[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=DN(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=DN(t?.pointerEvents)||``),this.hasProjected&&!HN(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=AP(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,_E){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=_E[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?DN(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(GP),this.root.sharedNodes.clear()}}}function BP(e){e.updateLayout()}function VP(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?jP(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=sP(r);r.min=n[e].min,r.max=r.min+i}):cF(i,t.layoutBox,n)&&jP(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=sP(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=CD();uP(o,n,t.layoutBox);let s=CD();a?uP(s,e.applyTransform(r,!0),t.measuredBox):uP(s,n,t.layoutBox);let c=!SP(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=TD();mP(o,t.layoutBox,i.layoutBox);let s=TD();mP(s,n,a.layoutBox),EP(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function HP(e){ZT.value&&NP.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function UP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WP(e){e.clearSnapshot()}function GP(e){e.clearMeasurements()}function KP(e){e.isLayoutDirty=!1}function qP(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function JP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YP(e){e.resolveTargetDelta()}function XP(e){e.calcProjection()}function ZP(e){e.resetSkewAndRotation()}function QP(e){e.removeLeadSnapshot()}function $P(e,t,n){e.translate=tA(t.translate,0,n),e.scale=tA(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eF(e,t,n,r){e.min=tA(t.min,n.min,r),e.max=tA(t.max,n.max,r)}function tF(e,t,n,r){eF(e.x,t.x,n.x,r),eF(e.y,t.y,n.y,r)}function nF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var rF={duration:.45,ease:[.4,0,.1,1]},iF=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aF=iF(`applewebkit/`)&&!iF(`chrome/`)?Math.round:nE;function oF(e){e.min=aF(e.min),e.max=aF(e.max)}function sF(e){oF(e.x),oF(e.y)}function cF(e,t,n){return e===`position`||e===`preserve-aspect`&&!cP(DP(t),DP(n),.2)}function lF(e){return e!==e.root&&e.scroll?.wasRoot}function uF(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var dF=zP({attachResizeListener:(e,t)=>uF(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fF={current:void 0},pF=zP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!fF.current){let e=new dF({});e.mount(window),e.setOptions({layoutScroll:!0}),fF.current=e}return fF.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`});function mF(e){if(e)return e.options.allowProjection===!1?mF(e.parent):e.projection}function hF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var gF={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if($.test(e))e=parseFloat(e);else return e;return`${hF(e,t.target.x)}% ${hF(e,t.target.y)}%`}},_F={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=$O.parse(e);if(i.length>5)return r;let a=$O.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=tA(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},vF={borderRadius:{...gF,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:gF,borderTopRightRadius:gF,borderBottomLeftRadius:gF,borderBottomRightRadius:gF,boxShadow:_F};function yF(e){return typeof e==`object`&&!!e&&`nodeType`in e}var bF=class extends TE{constructor(e){super(e),vE(vF)}initProjection(){let e=this.state.options;this.state.visualElement.projection=new pF(this.state.visualElement.latestValues,e[`data-framer-portal-id`]?void 0:mF(this.state.visualElement.parent)),this.state.visualElement.projection.isPresent=!0,this.setOptions()}beforeMount(){this.initProjection()}setOptions(){let e=this.state.options;this.state.visualElement.projection.setOptions({layout:e.layout,layoutId:e.layoutId,alwaysMeasureLayout:!!e.drag||e.dragConstraints&&yF(e.dragConstraints),visualElement:this.state.visualElement,animationType:typeof e.layout==`string`?e.layout:`both`,layoutRoot:e.layoutRoot,layoutScroll:e.layoutScroll,crossfade:e.crossfade,onExitComplete:()=>{if(!this.state.visualElement.projection?.isPresent){let e=IE.get(this.state.element);this.state.isSafeToRemove=!0,e&&e({detail:{isExit:!0}},!0)}}})}update(){this.setOptions()}mount(){var e;(e=this.state.visualElement.projection)==null||e.mount(this.state.element)}};function xF(e){return e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1}function SF(e,t=`page`){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}function CF(e){return t=>xF(t)&&e(t,SF(t))}function wF(e,t,n,r){return CN(e,t,CF(n),r)}function TF(e){let t=null;return()=>t===null?(t=e,()=>{t=null}):!1}var EF=TF(`dragHorizontal`),DF=TF(`dragVertical`);function OF(e){let t=!1;if(e===`y`)t=DF();else if(e===`x`)t=EF();else{let e=EF(),n=DF();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function kF(e){return e.max-e.min}function AF(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tA(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tA(n,e,r.max):Math.min(e,n)),e}var jF=.35;function MF(e,{top:t,left:n,bottom:r,right:i}){return{x:NF(e.x,n,i),y:NF(e.y,t,r)}}function NF(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function PF(e=jF){return e===!1?e=0:e===!0&&(e=jF),{x:FF(e,`left`,`right`),y:FF(e,`top`,`bottom`)}}function FF(e,t,n){return{min:IF(e,t),max:IF(e,n)}}function IF(e,t){return typeof e==`number`?e:e[t]||0}function LF(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}function RF(e,t){return{x:zF(e.x,t.x),y:zF(e.y,t.y)}}function zF(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function BF(e,t){let n=.5,r=kF(e),i=kF(t);return i>r?n=lA(t.min,t.max-r,e.min):r>i&&(n=lA(e.min,e.max-i,t.min)),cO(0,1,n)}var VF=(e,t)=>Math.abs(e-t);function HF(e,t){let n=VF(e.x,t.x),r=VF(e.y,t.y);return Math.sqrt(n**2+r**2)}var UF=class{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=KF(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=HF(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=iE;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=WF(t,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=KF(e.type===`pointercancel`?this.lastMoveEventInfo:WF(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!xF(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;let a=WF(SF(e),this.transformPagePoint),{point:o}=a,{timestamp:s}=iE;this.history=[{...o,timestamp:s}];let{onSessionStart:c}=t;c&&c(e,KF(a,this.history)),this.removeListeners=tj(wF(this.contextWindow,`pointermove`,this.handlePointerMove),wF(this.contextWindow,`pointerup`,this.handlePointerUp),wF(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rE(this.updatePoint)}};function WF(e,t){return t?{point:t(e.point)}:e}function GF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function KF({point:e},t){return{point:e,delta:GF(e,JF(t)),offset:GF(e,qF(t)),velocity:YF(t,.1)}}function qF(e){return e[0]}function JF(e){return e[e.length-1]}function YF(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=JF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lE(t)));)n--;if(!r)return{x:0,y:0};let a=uE(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}var XF=()=>({min:0,max:0});function ZF(){return{x:XF(),y:XF()}}function QF(e){return[e(`x`),e(`y`)]}function $F(e){return!!(uD(e)&&e.add)}function eI(e,t){let n=e.getValue(`willChange`);if($F(n))return n.add(t)}function tI({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function nI(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iI(e,t){e.min+=t,e.max+=t}function aI(e,t){return tI(nI(e.getBoundingClientRect(),t))}function oI(e,t,n){let r=aI(e,n),{scroll:i}=t;return i&&(iI(r.x,i.offset.x),iI(r.y,i.offset.y)),r}function sI(e){return!IE.has(e.current)}function cI({current:e}){return e?e.ownerDocument.defaultView:null}var lI=new WeakMap,uI=class{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ZF(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(!sI(this.visualElement))return;let n=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(SF(e,`page`).point)},r=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OF(n),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),QF(e=>{let t=this.getAxisMotionValue(e).get()||0;if(oD.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=kF(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&Q.postRender(()=>i(e,t)),eI(this.visualElement,`transform`),this.visualElement.state.setActive(`whileDrag`,!0))},i=(e,t)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=fI(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},a=(e,t)=>this.stop(e,t),o=()=>QF(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:s}=this.getProps();this.panSession=new UF(e,{onSessionStart:n,onStart:r,onMove:i,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:cI(this.visualElement)})}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&Q.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),this.visualElement.state.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!dI(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=AF(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&yF(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=MF(n.layoutBox,e):this.constraints=!1,this.elastic=PF(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&QF(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=LF(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yF(e))return!1;let n=e,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=oI(n,r.root,this.visualElement.getTransformPagePoint()),a=RF(r.layout.layoutBox,i);if(t){let e=t(rI(a));this.hasMutatedConstraints=!!e,e&&(a=tI(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=QF(o=>{if(!dI(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return eI(this.visualElement,e),n.start(AM(e,n,0,t,this.visualElement,!1))}stopAnimation(){sI(this.visualElement)&&QF(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){QF(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){QF(t=>{let{drag:n}=this.getProps();if(!dI(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-tA(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!yF(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};QF(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=BF({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),QF(t=>{if(!dI(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(tA(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;lI.set(this.visualElement,this);let e=this.visualElement.current,t=wF(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();yF(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Q.read(n);let a=CN(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(QF(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=jF,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function dI(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function fI(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var pI=class extends TE{constructor(e){super(e),this.removeGroupControls=nE,this.removeListeners=nE,this.controls=new uI(e.visualElement)}mount(){let{dragControls:e}=this.state.options;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nE}unmount(){this.removeGroupControls(),this.removeListeners()}},mI=class extends TE{constructor(e){super(e),vE(vF)}beforeUpdate(){this.state.willUpdate(`beforeUpdate`)}update(){this.didUpdate()}didUpdate(){var e;(this.state.options.layout||this.state.options.layoutId||this.state.options.drag)&&((e=this.state.visualElement.projection?.root)==null||e.didUpdate())}mount(){var e;let t=this.state.options,n=this.state.options.layoutGroup;if(t.layout||t.layoutId){let t=this.state.visualElement.projection;t&&(t.promote(),(e=n?.group)==null||e.add(t)),MP.hasEverUpdated=!0}this.didUpdate()}beforeUnmount(){let e=this.state.visualElement.projection;e&&(this.state.willUpdate(`beforeUnmount`),this.state.options.layoutId?(e.isPresent=!1,e.relegate()):this.state.options.layout&&(this.state.isSafeToRemove=!0))}unmount(){let e=this.state.options.layoutGroup,t=this.state.visualElement.projection;t&&(e?.group&&(this.state.options.layout||this.state.options.layoutId)&&e.group.remove(t),this.didUpdate())}};function hI(e){return(t,n)=>{e&&Q.postRender(()=>e(t,n))}}var gI=[XM,pN,_N,xN,wN,bF,class extends TE{constructor(){super(...arguments),this.removePointerDownListener=nE}onPointerDown(e){this.session=new UF(e,this.createPanHandlers(),{transformPagePoint:this.state.visualElement.getTransformPagePoint(),contextWindow:cI(this.state.visualElement)})}createPanHandlers(){return{onSessionStart:hI((e,t)=>{let{onPanSessionStart:n}=this.state.options;n&&n(e,t)}),onStart:hI((e,t)=>{let{onPanStart:n}=this.state.options;n&&n(e,t)}),onMove:(e,t)=>{let{onPan:n}=this.state.options;n&&n(e,t)},onEnd:(e,t)=>{let{onPanEnd:n}=this.state.options;delete this.session,n&&Q.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=wF(this.state.element,`pointerdown`,this.onPointerDown.bind(this))}update(){}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},pI,mI],_I={reducedMotion:`never`,transition:void 0,nonce:void 0},[vI,yI]=yE(`MotionConfig`);function bI(){return vI(u(()=>_I))}function xI(e){if(e)return e.nodeType===3||e.nodeType===8?xI(e.nextSibling):e}var[SI,CI]=yE(`LazyMotionContext`);function wI(e){let t=bE(null),n=SE({}),r=bI(),i=LE({}),a=SI({features:b([]),strict:!1}),o=g();function s(){return n.id&&e.layoutId?`${n.id}-${e.layoutId}`:e.layoutId||void 0}function c(){return{...e,lazyMotionContext:a,layoutId:s(),transition:e.transition??r.value.transition,layoutGroup:n,motionConfig:r.value,inViewOptions:e.inViewOptions??r.value.inViewOptions,animatePresenceContext:i,initial:i.initial===!1?i.initial:e.initial===!0?void 0:e.initial}}function l(){return{...o,...c()}}let u=new HE(l(),t);xE(u);function d(){let t=u.type===`svg`,n={...o};Object.keys(o).forEach(e=>{uD(o[e])&&(n[e]=o[e].get())});let r={...e.style,...t?{}:u.visualElement?.latestValues||u.baseTarget};if(t){let{attrs:e,style:t}=gD({...u.isMounted()?u.target:u.baseTarget,...r});(t.transform||e.transformOrigin)&&(t.transformOrigin=e.transformOrigin??`50% 50%`,delete e.transformOrigin),t.transform&&(t.transformBox=t.transformBox??`fill-box`,delete e.transformBox),Object.assign(n,e),r=t}e.drag&&e.dragListener!==!1&&Object.assign(r,{userSelect:`none`,WebkitUserSelect:`none`,WebkitTouchCallout:`none`,touchAction:e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`});let i=fD(r);return i&&(n.style=i),n}let f=me().proxy;return ge(()=>{u.beforeMount()}),de(()=>{u.mount(xI(f.$el),l(),EI(f))}),N(()=>u.beforeUnmount()),ce(()=>{xI(f.$el)?.isConnected||u.unmount()}),ne(()=>{u.beforeUpdate()}),re(()=>{u.update(l())}),{getProps:c,getAttrs:d,layoutGroup:n,state:u}}var TI={ignoreStrict:{type:Boolean},forwardMotionProps:{type:Boolean,default:!1},asChild:{type:Boolean,default:!1},hover:{type:[String,Array,Object]},press:{type:[String,Array,Object]},inView:{type:[String,Array,Object]},focus:{type:[String,Array,Object]},whileDrag:{type:[String,Array,Object]},whileHover:{type:[String,Array,Object],default:({hover:e})=>e},whilePress:{type:[String,Array,Object],default:({press:e})=>e},whileInView:{type:[String,Array,Object],default:({inView:e})=>e},whileFocus:{type:[String,Array,Object],default:({focus:e})=>e},custom:{type:[String,Number,Object,Array]},initial:{type:[String,Array,Object,Boolean],default:void 0},animate:{type:[String,Array,Object],default:void 0},exit:{type:[String,Array,Object]},variants:{type:Object},inherit:{type:Boolean},style:{type:Object},transformTemplate:{type:Function},transition:{type:Object},layoutGroup:{type:Object},motionConfig:{type:Object},onAnimationComplete:{type:Function},onUpdate:{type:Function},layout:{type:[Boolean,String],default:!1},layoutId:{type:String,default:void 0},layoutScroll:{type:Boolean,default:!1},layoutRoot:{type:Boolean,default:!1},"data-framer-portal-id":{type:String},crossfade:{type:Boolean,default:!0},layoutDependency:{type:null},onBeforeLayoutMeasure:{type:Function},onLayoutMeasure:{type:Function},onLayoutAnimationStart:{type:Function},onLayoutAnimationComplete:{type:Function},globalPressTarget:{type:Boolean},onPressStart:{type:Function},onPress:{type:Function},onPressCancel:{type:Function},onHoverStart:{type:Function},onHoverEnd:{type:Function},inViewOptions:{type:Object},onViewportEnter:{type:Function},onViewportLeave:{type:Function},drag:{type:[Boolean,String]},dragSnapToOrigin:{type:Boolean},dragDirectionLock:{type:Boolean},dragPropagation:{type:Boolean},dragConstraints:{type:[Boolean,Object]},dragElastic:{type:[Boolean,Number,Object],default:.5},dragMomentum:{type:Boolean,default:!0},dragTransition:{type:Object},dragListener:{type:Boolean,default:!0},dragControls:{type:Object},onDragStart:{type:Function},onDragEnd:{type:Function},onDrag:{type:Function},onDirectionLock:{type:Function},onDragTransitionEnd:{type:Function},onMeasureDragConstraints:{type:Function},onPanSessionStart:{type:Function},onPanStart:{type:Function},onPan:{type:Function},onPanEnd:{type:Function}};function EI(e){let t=xI(e.$el)?.style.display===`none`;return e.$.vnode.transition&&t}var DI=new Map,OI=new Map;function kI(e){if(!Array.isArray(e))return[e];let t=[];for(let n of e)Array.isArray(n)?t.push(...n):t.push(n);return t}var AI=[`area`,`img`,`input`];function jI(e,t,n){var i;if(typeof e==`string`&&AI.includes(e))return z(e,t);if(e===`template`){if(!n.default)return null;let e=kI(n.default()),a=e.findIndex(e=>e.type!==r);if(a===-1)return e;let s=e[a];(i=s.props)==null||delete i.ref;let c=s.props?M(t,s.props):t;t.class&&s.props?.class&&delete s.props.class;let l=o(s,c);for(let e in c)e.startsWith(`on`)&&(l.props||={},l.props[e]=c[e]);return e.length===1?l:(e[a]=l,e)}return null}function MI(e,t={}){let n=typeof e==`string`,r=n?e:e.name||``,i=t.features?.length>0?DI:OI;if(n&&i?.has(e))return i.get(e);let a=P({inheritAttrs:!1,props:{...TI,features:{type:Object,default:()=>t.features||[]},as:{type:[String,Object],default:e||`div`}},name:r?`motion.${r}`:`Motion`,setup(e,{slots:n}){let{getProps:r,getAttrs:i,state:a}=wI(e);function o(){let t=a.element;if((typeof e.as!=`object`||e.asChild)&&t){let{style:e}=i();if(e)for(let[n,r]of Object.entries(e))t.style[n]=r}}return()=>{let a=r(),s=i(),c=e.asChild?`template`:e.as,l={...t.forwardMotionProps||e.forwardMotionProps?a:{},...s,onVnodeUpdated:o},u=jI(c,l,n);return u===null?z(c,{...l},n):u}}});return n&&i?.set(e,a),a}function NI(e=[]){return new Proxy({},{get(t,n){return n===`create`?(t,n)=>MI(t,{...n,features:e}):MI(n,{features:e})}})}var PI=NI(gI);PI.create(`div`);var FI=P({__name:`Shimmer`,props:{as:{default:`p`},class:{},duration:{default:2},spread:{default:2}},setup(e){let n=e,r=_(),i=u(()=>{let e=r.default?.();return!e||e.length===0?``:e.map(e=>typeof e.children==`string`?e.children:``).join(``)}),a=u(()=>(i.value?.length??0)*n.spread),o=u(()=>U(`relative inline-block bg-[length:250%_100%,auto] bg-clip-text text-transparent`,`[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--color-background),#0000_calc(50%+var(--spread)))] [background-repeat:no-repeat,padding-box]`,n.class)),s=u(()=>({"--spread":`${a.value}px`,backgroundImage:`var(--bg), linear-gradient(var(--color-muted-foreground), var(--color-muted-foreground))`})),c=u(()=>PI[n.as]||PI.p);return(n,r)=>(F(),l(j(c.value),{class:E(o.value),style:O(s.value),initial:{backgroundPosition:`100% center`},animate:{backgroundPosition:`0% center`},transition:{repeat:1/0,duration:e.duration,ease:`linear`}},{default:t(()=>[V(n.$slots,`default`)]),_:3},8,[`class`,`style`,`transition`]))}}),II={key:1},LI={key:2},RI=P({__name:`ReasoningTrigger`,props:{class:{}},setup(n){let r=n,{isStreaming:i,isOpen:a,duration:o}=GT(),s=u(()=>i.value||o.value===0?`thinking`:o.value===void 0?`default_done`:`duration_done`);return(n,i)=>(F(),l(L(Ft),{class:E(L(U)(`flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground`,r.class))},{default:t(()=>[V(n.$slots,`default`,{},()=>[e(L(Dn),{class:`size-4`}),s.value===`thinking`?(F(),l(L(FI),{key:0,duration:1},{default:t(()=>[...i[0]||=[m(` Thinking... `,-1)]]),_:1})):s.value===`default_done`?(F(),T(`p`,II,`Thought for a few seconds`)):(F(),T(`p`,LI,`Thought for `+p(L(o))+` seconds`,1)),e(L(ot),{class:E(L(U)(`size-4 transition-transform`,L(a)?`rotate-180`:`rotate-0`))},null,8,[`class`])])]),_:3},8,[`class`]))}}),zI=P({__name:`Tool`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(Nt),M({class:L(U)(`not-prose mb-4 w-full rounded-md border`,n.class)},e.$attrs),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`class`]))}}),BI=P({__name:`ToolContent`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(jt),M({class:L(U)(`data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-popover-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in`,n.class)},e.$attrs),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`class`]))}}),VI=P({__name:`Badge`,props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(e){let n=e,r=De(n,`class`);return(i,a)=>(F(),l(L(Zt),M({"data-slot":`badge`,class:L(U)(L(HI)({variant:e.variant}),n.class)},L(r)),{default:t(()=>[V(i.$slots,`default`)]),_:3},16,[`class`]))}});const HI=Pt(`inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden`,{variants:{variant:{default:`border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90`,secondary:`border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90`,destructive:`border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60`,outline:`text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground`}},defaultVariants:{variant:`default`}});var UI=P({__name:`ToolStatusBadge`,props:{state:{}},setup(e){let n=e,r=u(()=>({"input-streaming":`Pending`,"input-available":`Running`,"approval-requested":`Awaiting Approval`,"approval-responded":`Responded`,"output-available":`Completed`,"output-error":`Error`,"output-denied":`Denied`})[n.state]),i=u(()=>({"input-streaming":jn,"input-available":Mn,"approval-requested":Mn,"approval-responded":kn,"output-available":kn,"output-error":An,"output-denied":An})[n.state]),a=u(()=>({"size-4":!0,"animate-pulse":n.state===`input-available`,"text-yellow-600":n.state===`approval-requested`,"text-blue-600":n.state===`approval-responded`,"text-green-600":n.state===`output-available`,"text-red-600":n.state===`output-error`,"text-orange-600":n.state===`output-denied`}));return(e,n)=>(F(),l(L(VI),{class:`gap-1.5 rounded-full text-xs`,variant:`secondary`},{default:t(()=>[(F(),l(j(i.value),{class:E(a.value)},null,8,[`class`])),R(`span`,null,p(r.value),1)]),_:1}))}}),WI={class:`flex items-center gap-2`},GI={class:`font-medium text-sm`},KI=P({__name:`ToolHeader`,props:{title:{},type:{},state:{},class:{}},setup(n){let r=n;return(n,i)=>(F(),l(L(Ft),M({class:L(U)(`flex w-full items-center justify-between gap-4 p-3`,r.class)},n.$attrs),{default:t(()=>[R(`div`,WI,[e(L(St),{class:`size-4 text-muted-foreground`}),R(`span`,GI,p(r.title??r.type.split(`-`).slice(1).join(` `)),1),e(UI,{state:r.state},null,8,[`state`])]),e(L(ot),{class:`size-4 text-muted-foreground transition-transform group-data-[state=open]:rotate-180`})]),_:1},16,[`class`]))}});const qI=Symbol(`CodeBlock`);var JI=[{id:`abap`,name:`ABAP`,import:(()=>B(()=>import(`./abap-h3QyH8MW.js`),[],import.meta.url))},{id:`actionscript-3`,name:`ActionScript`,import:(()=>B(()=>import(`./actionscript-3-UD4pAyam.js`),[],import.meta.url))},{id:`ada`,name:`Ada`,import:(()=>B(()=>import(`./ada-DxatBcxS.js`),[],import.meta.url))},{id:`angular-html`,name:`Angular HTML`,import:(()=>B(()=>import(`./angular-html-DabtdM5D.js`),__vite__mapDeps([45,46,16,14,5]),import.meta.url))},{id:`angular-ts`,name:`Angular TypeScript`,import:(()=>B(()=>import(`./angular-ts-D2-WTaA_.js`),__vite__mapDeps([47,46,16,14,5,48]),import.meta.url))},{id:`apache`,name:`Apache Conf`,import:(()=>B(()=>import(`./apache-BzHRtCLV.js`),[],import.meta.url))},{id:`apex`,name:`Apex`,import:(()=>B(()=>import(`./apex-BMmmuQv5.js`),[],import.meta.url))},{id:`apl`,name:`APL`,import:(()=>B(()=>import(`./apl-CJORFUii.js`),__vite__mapDeps([49,14,16,5,9,50,51]),import.meta.url))},{id:`applescript`,name:`AppleScript`,import:(()=>B(()=>import(`./applescript-DQYsaxRM.js`),[],import.meta.url))},{id:`ara`,name:`Ara`,import:(()=>B(()=>import(`./ara-CwbWLquj.js`),[],import.meta.url))},{id:`asciidoc`,name:`AsciiDoc`,aliases:[`adoc`],import:(()=>B(()=>import(`./asciidoc-BGDs58NZ.js`),[],import.meta.url))},{id:`asm`,name:`Assembly`,import:(()=>B(()=>import(`./asm-D73wKX_m.js`),[],import.meta.url))},{id:`astro`,name:`Astro`,import:(()=>B(()=>import(`./astro-BDsCel_s.js`),__vite__mapDeps([52,14,5,9,53,3,1]),import.meta.url))},{id:`awk`,name:`AWK`,import:(()=>B(()=>import(`./awk-Cp_9ieoY.js`),[],import.meta.url))},{id:`ballerina`,name:`Ballerina`,import:(()=>B(()=>import(`./ballerina-DvvRzQKk.js`),[],import.meta.url))},{id:`bat`,name:`Batch File`,aliases:[`batch`],import:(()=>B(()=>import(`./bat-hd6h1iOK.js`),[],import.meta.url))},{id:`beancount`,name:`Beancount`,import:(()=>B(()=>import(`./beancount-BhNYKGOt.js`),[],import.meta.url))},{id:`berry`,name:`Berry`,aliases:[`be`],import:(()=>B(()=>import(`./berry-DpocjEtK.js`),[],import.meta.url))},{id:`bibtex`,name:`BibTeX`,import:(()=>B(()=>import(`./bibtex-DudnPGUS.js`),[],import.meta.url))},{id:`bicep`,name:`Bicep`,import:(()=>B(()=>import(`./bicep-Be2Lz3IN.js`),[],import.meta.url))},{id:`blade`,name:`Blade`,import:(()=>B(()=>import(`./blade-DWxJl7ek.js`),__vite__mapDeps([54,14,15,16,5,9,55,50,51]),import.meta.url))},{id:`bsl`,name:`1C (Enterprise)`,aliases:[`1c`],import:(()=>B(()=>import(`./bsl-sGT95b6q.js`),__vite__mapDeps([56,57]),import.meta.url))},{id:`c`,name:`C`,import:(()=>B(()=>import(`./c-Bk94vp_k.js`),__vite__mapDeps([58,59]),import.meta.url))},{id:`cadence`,name:`Cadence`,aliases:[`cdc`],import:(()=>B(()=>import(`./cadence-CLTSfx6_.js`),[],import.meta.url))},{id:`cairo`,name:`Cairo`,import:(()=>B(()=>import(`./cairo-CSSlBQq3.js`),__vite__mapDeps([60,61]),import.meta.url))},{id:`clarity`,name:`Clarity`,import:(()=>B(()=>import(`./clarity-CV0eDsIz.js`),[],import.meta.url))},{id:`clojure`,name:`Clojure`,aliases:[`clj`],import:(()=>B(()=>import(`./clojure-DFZjnfFM.js`),[],import.meta.url))},{id:`cmake`,name:`CMake`,import:(()=>B(()=>import(`./cmake-AeSzl18V.js`),[],import.meta.url))},{id:`cobol`,name:`COBOL`,import:(()=>B(()=>import(`./cobol-DPn7FA_p.js`),__vite__mapDeps([62,16,14,5,51]),import.meta.url))},{id:`codeowners`,name:`CODEOWNERS`,import:(()=>B(()=>import(`./codeowners-DfspTqnc.js`),[],import.meta.url))},{id:`codeql`,name:`CodeQL`,aliases:[`ql`],import:(()=>B(()=>import(`./codeql-CsoPzgWx.js`),[],import.meta.url))},{id:`coffee`,name:`CoffeeScript`,aliases:[`coffeescript`],import:(()=>B(()=>import(`./coffee-BXaGHkKa.js`),__vite__mapDeps([63,5]),import.meta.url))},{id:`common-lisp`,name:`Common Lisp`,aliases:[`lisp`],import:(()=>B(()=>import(`./common-lisp-C-rQctpB.js`),[],import.meta.url))},{id:`coq`,name:`Coq`,import:(()=>B(()=>import(`./coq-c5IiA40P.js`),[],import.meta.url))},{id:`cpp`,name:`C++`,aliases:[`c++`],import:(()=>B(()=>import(`./cpp-CKzSgeAs.js`),__vite__mapDeps([64,65,66,59,67,55]),import.meta.url))},{id:`crystal`,name:`Crystal`,import:(()=>B(()=>import(`./crystal-CLp5gNml.js`),__vite__mapDeps([68,59,14,16,5,11,55]),import.meta.url))},{id:`csharp`,name:`C#`,aliases:[`c#`,`cs`],import:(()=>B(()=>import(`./csharp-ZH-zEObl.js`),[],import.meta.url))},{id:`css`,name:`CSS`,import:(()=>B(()=>import(`./css-XcKkzdtp.js`),__vite__mapDeps([18,14]),import.meta.url))},{id:`csv`,name:`CSV`,import:(()=>B(()=>import(`./csv-fFVWwuj9.js`),[],import.meta.url))},{id:`cue`,name:`CUE`,import:(()=>B(()=>import(`./cue-CmlcDkAt.js`),[],import.meta.url))},{id:`cypher`,name:`Cypher`,aliases:[`cql`],import:(()=>B(()=>import(`./cypher-DYy6amIq.js`),[],import.meta.url))},{id:`d`,name:`D`,import:(()=>B(()=>import(`./d-B4ZN72iD.js`),[],import.meta.url))},{id:`dart`,name:`Dart`,import:(()=>B(()=>import(`./dart-DkMxuera.js`),[],import.meta.url))},{id:`dax`,name:`DAX`,import:(()=>B(()=>import(`./dax-D14r5Zi1.js`),[],import.meta.url))},{id:`desktop`,name:`Desktop`,import:(()=>B(()=>import(`./desktop-DsEFYjXK.js`),[],import.meta.url))},{id:`diff`,name:`Diff`,import:(()=>B(()=>import(`./diff-D5h0u1Em.js`),[],import.meta.url))},{id:`docker`,name:`Dockerfile`,aliases:[`dockerfile`],import:(()=>B(()=>import(`./docker-DK20EmmJ.js`),[],import.meta.url))},{id:`dotenv`,name:`dotEnv`,import:(()=>B(()=>import(`./dotenv-BC41S1CJ.js`),[],import.meta.url))},{id:`dream-maker`,name:`Dream Maker`,import:(()=>B(()=>import(`./dream-maker-D2MkN8XL.js`),[],import.meta.url))},{id:`edge`,name:`Edge`,import:(()=>B(()=>import(`./edge-CwbcJs01.js`),__vite__mapDeps([69,15,16,14,5,1]),import.meta.url))},{id:`elixir`,name:`Elixir`,import:(()=>B(()=>import(`./elixir-CHiOB1lt.js`),__vite__mapDeps([70,16,14,5]),import.meta.url))},{id:`elm`,name:`Elm`,import:(()=>B(()=>import(`./elm-C-jh4E86.js`),__vite__mapDeps([71,66,59]),import.meta.url))},{id:`emacs-lisp`,name:`Emacs Lisp`,aliases:[`elisp`],import:(()=>B(()=>import(`./emacs-lisp-BbI2rS7G.js`),[],import.meta.url))},{id:`erb`,name:`ERB`,import:(()=>B(()=>import(`./erb-DJtYrCeY.js`),__vite__mapDeps([72,16,14,5,73,59,65,66,67,55,74,7,3,1,75,76,11,50,51,20]),import.meta.url))},{id:`erlang`,name:`Erlang`,aliases:[`erl`],import:(()=>B(()=>import(`./erlang-qXg9AaXq.js`),__vite__mapDeps([77,78]),import.meta.url))},{id:`fennel`,name:`Fennel`,import:(()=>B(()=>import(`./fennel-CBLssmVF.js`),[],import.meta.url))},{id:`fish`,name:`Fish`,import:(()=>B(()=>import(`./fish-DLljsqUB.js`),[],import.meta.url))},{id:`fluent`,name:`Fluent`,aliases:[`ftl`],import:(()=>B(()=>import(`./fluent-BBjbXOJi.js`),[],import.meta.url))},{id:`fortran-fixed-form`,name:`Fortran (Fixed Form)`,aliases:[`f`,`for`,`f77`],import:(()=>B(()=>import(`./fortran-fixed-form-PvcDlDw3.js`),__vite__mapDeps([79,80]),import.meta.url))},{id:`fortran-free-form`,name:`Fortran (Free Form)`,aliases:[`f90`,`f95`,`f03`,`f08`,`f18`],import:(()=>B(()=>import(`./fortran-free-form-BM_j6W8M.js`),[],import.meta.url))},{id:`fsharp`,name:`F#`,aliases:[`f#`,`fs`],import:(()=>B(()=>import(`./fsharp-O--ZYsbP.js`),__vite__mapDeps([81,78]),import.meta.url))},{id:`gdresource`,name:`GDResource`,import:(()=>B(()=>import(`./gdresource-D_1tVYKT.js`),__vite__mapDeps([82,83,84]),import.meta.url))},{id:`gdscript`,name:`GDScript`,import:(()=>B(()=>import(`./gdscript-B1MDahXS.js`),[],import.meta.url))},{id:`gdshader`,name:`GDShader`,import:(()=>B(()=>import(`./gdshader-DI43CdGo.js`),[],import.meta.url))},{id:`genie`,name:`Genie`,import:(()=>B(()=>import(`./genie-D7nKCFAk.js`),[],import.meta.url))},{id:`gherkin`,name:`Gherkin`,import:(()=>B(()=>import(`./gherkin-B01GNy_A.js`),[],import.meta.url))},{id:`git-commit`,name:`Git Commit Message`,import:(()=>B(()=>import(`./git-commit-BxxvbAfg.js`),__vite__mapDeps([85,86]),import.meta.url))},{id:`git-rebase`,name:`Git Rebase Message`,import:(()=>B(()=>import(`./git-rebase-DfQhceCV.js`),__vite__mapDeps([87,11]),import.meta.url))},{id:`gleam`,name:`Gleam`,import:(()=>B(()=>import(`./gleam-D-G_SbSr.js`),[],import.meta.url))},{id:`glimmer-js`,name:`Glimmer JS`,aliases:[`gjs`],import:(()=>B(()=>import(`./glimmer-js-BEVDTYdu.js`),__vite__mapDeps([88,14,16,5,1]),import.meta.url))},{id:`glimmer-ts`,name:`Glimmer TS`,aliases:[`gts`],import:(()=>B(()=>import(`./glimmer-ts-JdARjM-4.js`),__vite__mapDeps([89,14,16,5,1]),import.meta.url))},{id:`glsl`,name:`GLSL`,import:(()=>B(()=>import(`./glsl-BtxDAG3P.js`),__vite__mapDeps([90,66,59]),import.meta.url))},{id:`gnuplot`,name:`Gnuplot`,import:(()=>B(()=>import(`./gnuplot-AKu8zCv4.js`),[],import.meta.url))},{id:`go`,name:`Go`,import:(()=>B(()=>import(`./go-y4dtS4-l.js`),[],import.meta.url))},{id:`graphql`,name:`GraphQL`,aliases:[`gql`],import:(()=>B(()=>import(`./graphql-DpWbvx2k.js`),__vite__mapDeps([91,74,5,7,3,1]),import.meta.url))},{id:`groovy`,name:`Groovy`,import:(()=>B(()=>import(`./groovy-CJREhJpU.js`),[],import.meta.url))},{id:`hack`,name:`Hack`,import:(()=>B(()=>import(`./hack-DeIT9nqF.js`),__vite__mapDeps([92,16,14,5,55]),import.meta.url))},{id:`haml`,name:`Ruby Haml`,import:(()=>B(()=>import(`./haml-C4Ppr8d1.js`),__vite__mapDeps([93,75,14,5]),import.meta.url))},{id:`handlebars`,name:`Handlebars`,aliases:[`hbs`],import:(()=>B(()=>import(`./handlebars-BNS22oaV.js`),__vite__mapDeps([94,14,16,5,20]),import.meta.url))},{id:`haskell`,name:`Haskell`,aliases:[`hs`],import:(()=>B(()=>import(`./haskell-BOnr-MMO.js`),[],import.meta.url))},{id:`haxe`,name:`Haxe`,import:(()=>B(()=>import(`./haxe-CS9OYNVo.js`),[],import.meta.url))},{id:`hcl`,name:`HashiCorp HCL`,import:(()=>B(()=>import(`./hcl-Y78c9-ol.js`),[],import.meta.url))},{id:`hjson`,name:`Hjson`,import:(()=>B(()=>import(`./hjson-DtvBpSn_.js`),[],import.meta.url))},{id:`hlsl`,name:`HLSL`,import:(()=>B(()=>import(`./hlsl-CUgKUgNQ.js`),[],import.meta.url))},{id:`html`,name:`HTML`,import:(()=>B(()=>import(`./html-B2UeTn9b.js`),__vite__mapDeps([17,16,14,5]),import.meta.url))},{id:`html-derivative`,name:`HTML (Derivative)`,import:(()=>B(()=>import(`./html-derivative-B8tELFOI.js`),__vite__mapDeps([95,15,16,14,5]),import.meta.url))},{id:`http`,name:`HTTP`,import:(()=>B(()=>import(`./http-BvfU-DDa.js`),__vite__mapDeps([96,74,5,7,3,1,9,11,50,51]),import.meta.url))},{id:`hurl`,name:`Hurl`,import:(()=>B(()=>import(`./hurl-BUJixZ0V.js`),__vite__mapDeps([97,98,74,5,7,3,1,50,51]),import.meta.url))},{id:`hxml`,name:`HXML`,import:(()=>B(()=>import(`./hxml-iGC192Cs.js`),__vite__mapDeps([99,100]),import.meta.url))},{id:`hy`,name:`Hy`,import:(()=>B(()=>import(`./hy-B32wxTDE.js`),[],import.meta.url))},{id:`imba`,name:`Imba`,import:(()=>B(()=>import(`./imba-Lwsqt4kh.js`),[],import.meta.url))},{id:`ini`,name:`INI`,aliases:[`properties`],import:(()=>B(()=>import(`./ini-DdRf5KAA.js`),[],import.meta.url))},{id:`java`,name:`Java`,import:(()=>B(()=>import(`./java-BIU6M8bh.js`),__vite__mapDeps([101,51]),import.meta.url))},{id:`javascript`,name:`JavaScript`,aliases:[`js`,`cjs`,`mjs`],import:(()=>B(()=>import(`./javascript-Dquk7K-m.js`),__vite__mapDeps([4,5]),import.meta.url))},{id:`jinja`,name:`Jinja`,import:(()=>B(()=>import(`./jinja-mrEs_60F.js`),__vite__mapDeps([102,16,14,5]),import.meta.url))},{id:`jison`,name:`Jison`,import:(()=>B(()=>import(`./jison-BbxEZke5.js`),__vite__mapDeps([103,5]),import.meta.url))},{id:`json`,name:`JSON`,import:(()=>B(()=>import(`./json-wWmUJQOh.js`),__vite__mapDeps([8,9]),import.meta.url))},{id:`json5`,name:`JSON5`,import:(()=>B(()=>import(`./json5-M4At0GG0.js`),[],import.meta.url))},{id:`jsonc`,name:`JSON with Comments`,import:(()=>B(()=>import(`./jsonc-C40zKUme.js`),[],import.meta.url))},{id:`jsonl`,name:`JSON Lines`,import:(()=>B(()=>import(`./jsonl-lbPM3rNc.js`),[],import.meta.url))},{id:`jsonnet`,name:`Jsonnet`,import:(()=>B(()=>import(`./jsonnet-BuYnLqtK.js`),[],import.meta.url))},{id:`jssm`,name:`JSSM`,aliases:[`fsl`],import:(()=>B(()=>import(`./jssm-DOm1J8XO.js`),[],import.meta.url))},{id:`jsx`,name:`JSX`,import:(()=>B(()=>import(`./jsx-CKWg3WEE.js`),__vite__mapDeps([6,7]),import.meta.url))},{id:`julia`,name:`Julia`,aliases:[`jl`],import:(()=>B(()=>import(`./julia-Bhs0QTd3.js`),__vite__mapDeps([104,65,66,59,67,55,5,61,105]),import.meta.url))},{id:`kdl`,name:`KDL`,import:(()=>B(()=>import(`./kdl-R8uc2dwu.js`),[],import.meta.url))},{id:`kotlin`,name:`Kotlin`,aliases:[`kt`,`kts`],import:(()=>B(()=>import(`./kotlin-C_RyKUqi.js`),[],import.meta.url))},{id:`kusto`,name:`Kusto`,aliases:[`kql`],import:(()=>B(()=>import(`./kusto-Aud2dVLD.js`),[],import.meta.url))},{id:`latex`,name:`LaTeX`,import:(()=>B(()=>import(`./latex-BVaKeMiR.js`),__vite__mapDeps([106,107,105]),import.meta.url))},{id:`lean`,name:`Lean 4`,aliases:[`lean4`],import:(()=>B(()=>import(`./lean-BCftlkrF.js`),[],import.meta.url))},{id:`less`,name:`Less`,import:(()=>B(()=>import(`./less-CfYJcUp0.js`),[],import.meta.url))},{id:`liquid`,name:`Liquid`,import:(()=>B(()=>import(`./liquid-Y2sRXMMQ.js`),__vite__mapDeps([108,14,16,5,9]),import.meta.url))},{id:`llvm`,name:`LLVM IR`,import:(()=>B(()=>import(`./llvm-s9A2wPz_.js`),[],import.meta.url))},{id:`log`,name:`Log file`,import:(()=>B(()=>import(`./log-DFVohfw6.js`),[],import.meta.url))},{id:`logo`,name:`Logo`,import:(()=>B(()=>import(`./logo-yF2dxqjI.js`),[],import.meta.url))},{id:`lua`,name:`Lua`,import:(()=>B(()=>import(`./lua-UupQWDBr.js`),__vite__mapDeps([109,76,59]),import.meta.url))},{id:`luau`,name:`Luau`,import:(()=>B(()=>import(`./luau-Cq_eVeCw.js`),[],import.meta.url))},{id:`make`,name:`Makefile`,aliases:[`makefile`],import:(()=>B(()=>import(`./make-BYhrhl85.js`),[],import.meta.url))},{id:`markdown`,name:`Markdown`,aliases:[`md`],import:(()=>B(()=>import(`./markdown-CxWLvdMm.js`),[],import.meta.url))},{id:`marko`,name:`Marko`,import:(()=>B(()=>import(`./marko-gF-Oz4fP.js`),__vite__mapDeps([110,14,111,48,1]),import.meta.url))},{id:`matlab`,name:`MATLAB`,import:(()=>B(()=>import(`./matlab-CxdJDI2v.js`),[],import.meta.url))},{id:`mdc`,name:`MDC`,import:(()=>B(()=>import(`./mdc-BZm02vnZ.js`),__vite__mapDeps([112,15,16,14,5,78,20]),import.meta.url))},{id:`mdx`,name:`MDX`,import:(()=>B(()=>import(`./mdx-C890WuAY.js`),[],import.meta.url))},{id:`mermaid`,name:`Mermaid`,aliases:[`mmd`],import:(()=>B(()=>import(`./mermaid-CZ2zIoaG.js`),[],import.meta.url))},{id:`mipsasm`,name:`MIPS Assembly`,aliases:[`mips`],import:(()=>B(()=>import(`./mipsasm-C1nwdcF6.js`),[],import.meta.url))},{id:`mojo`,name:`Mojo`,import:(()=>B(()=>import(`./mojo-hIBU3qBk.js`),[],import.meta.url))},{id:`move`,name:`Move`,import:(()=>B(()=>import(`./move-4W--z2R5.js`),[],import.meta.url))},{id:`narrat`,name:`Narrat Language`,aliases:[`nar`],import:(()=>B(()=>import(`./narrat-BrTJ3IHB.js`),[],import.meta.url))},{id:`nextflow`,name:`Nextflow`,aliases:[`nf`],import:(()=>B(()=>import(`./nextflow-BIkFwXyI.js`),[],import.meta.url))},{id:`nginx`,name:`Nginx`,import:(()=>B(()=>import(`./nginx-DvPM51Xj.js`),__vite__mapDeps([113,76,59]),import.meta.url))},{id:`nim`,name:`Nim`,import:(()=>B(()=>import(`./nim-mEI0fKpV.js`),__vite__mapDeps([114,59,14,66,16,5,78,50,51]),import.meta.url))},{id:`nix`,name:`Nix`,import:(()=>B(()=>import(`./nix-CdASkk1v.js`),[],import.meta.url))},{id:`nushell`,name:`nushell`,aliases:[`nu`],import:(()=>B(()=>import(`./nushell-DQjCm3SI.js`),[],import.meta.url))},{id:`objective-c`,name:`Objective-C`,aliases:[`objc`],import:(()=>B(()=>import(`./objective-c-dwPmnLGX.js`),[],import.meta.url))},{id:`objective-cpp`,name:`Objective-C++`,import:(()=>B(()=>import(`./objective-cpp-D0G8UUea.js`),[],import.meta.url))},{id:`ocaml`,name:`OCaml`,import:(()=>B(()=>import(`./ocaml-DPQSZs4r.js`),[],import.meta.url))},{id:`openscad`,name:`OpenSCAD`,aliases:[`scad`],import:(()=>B(()=>import(`./openscad-D8QqT8Ji.js`),[],import.meta.url))},{id:`pascal`,name:`Pascal`,import:(()=>B(()=>import(`./pascal-BaMMZIkL.js`),[],import.meta.url))},{id:`perl`,name:`Perl`,import:(()=>B(()=>import(`./perl-D8qCZZ_I.js`),__vite__mapDeps([115,14,16,5,55,50,51]),import.meta.url))},{id:`php`,name:`PHP`,import:(()=>B(()=>import(`./php-DPUZiLEE.js`),__vite__mapDeps([116,14,16,5,9,55,50,51]),import.meta.url))},{id:`pkl`,name:`Pkl`,import:(()=>B(()=>import(`./pkl-suEF9muZ.js`),[],import.meta.url))},{id:`plsql`,name:`PL/SQL`,import:(()=>B(()=>import(`./plsql-BNwfZeBC.js`),[],import.meta.url))},{id:`po`,name:`Gettext PO`,aliases:[`pot`,`potx`],import:(()=>B(()=>import(`./po-h6h7FdTP.js`),[],import.meta.url))},{id:`polar`,name:`Polar`,import:(()=>B(()=>import(`./polar-ryi5iRrO.js`),[],import.meta.url))},{id:`postcss`,name:`PostCSS`,import:(()=>B(()=>import(`./postcss-CfCeDK-C.js`),[],import.meta.url))},{id:`powerquery`,name:`PowerQuery`,import:(()=>B(()=>import(`./powerquery-BjnhQOAn.js`),[],import.meta.url))},{id:`powershell`,name:`PowerShell`,aliases:[`ps`,`ps1`],import:(()=>B(()=>import(`./powershell-1rXuJyE0.js`),[],import.meta.url))},{id:`prisma`,name:`Prisma`,import:(()=>B(()=>import(`./prisma-uM3268cF.js`),[],import.meta.url))},{id:`prolog`,name:`Prolog`,import:(()=>B(()=>import(`./prolog-DVMqwOD8.js`),[],import.meta.url))},{id:`proto`,name:`Protocol Buffer 3`,aliases:[`protobuf`],import:(()=>B(()=>import(`./proto-1NQxGoaQ.js`),[],import.meta.url))},{id:`pug`,name:`Pug`,aliases:[`jade`],import:(()=>B(()=>import(`./pug-CCL07Dm4.js`),__vite__mapDeps([117,14,16,5]),import.meta.url))},{id:`puppet`,name:`Puppet`,import:(()=>B(()=>import(`./puppet-M5derLCn.js`),[],import.meta.url))},{id:`purescript`,name:`PureScript`,import:(()=>B(()=>import(`./purescript-DFAHUg0g.js`),[],import.meta.url))},{id:`python`,name:`Python`,aliases:[`py`],import:(()=>B(()=>import(`./python-tDKFWaPU.js`),[],import.meta.url))},{id:`qml`,name:`QML`,import:(()=>B(()=>import(`./qml-zUiReQsF.js`),__vite__mapDeps([118,5]),import.meta.url))},{id:`qmldir`,name:`QML Directory`,import:(()=>B(()=>import(`./qmldir-DvZypNND.js`),[],import.meta.url))},{id:`qss`,name:`Qt Style Sheets`,import:(()=>B(()=>import(`./qss-DneAo6vX.js`),[],import.meta.url))},{id:`r`,name:`R`,import:(()=>B(()=>import(`./r-BGoiy5Lk.js`),__vite__mapDeps([119,105]),import.meta.url))},{id:`racket`,name:`Racket`,import:(()=>B(()=>import(`./racket-D6xg6AwJ.js`),[],import.meta.url))},{id:`raku`,name:`Raku`,aliases:[`perl6`],import:(()=>B(()=>import(`./raku-CjIvGh3z.js`),[],import.meta.url))},{id:`razor`,name:`ASP.NET Razor`,import:(()=>B(()=>import(`./razor-K6AykNFR.js`),__vite__mapDeps([120,121,16,14,5]),import.meta.url))},{id:`reg`,name:`Windows Registry Script`,import:(()=>B(()=>import(`./reg-BX9BVu_p.js`),[],import.meta.url))},{id:`regexp`,name:`RegExp`,aliases:[`regex`],import:(()=>B(()=>import(`./regexp-Di-n-Q2N.js`),__vite__mapDeps([122,67]),import.meta.url))},{id:`rel`,name:`Rel`,import:(()=>B(()=>import(`./rel-DewI1xtn.js`),[],import.meta.url))},{id:`riscv`,name:`RISC-V`,import:(()=>B(()=>import(`./riscv-BtlEMPlH.js`),[],import.meta.url))},{id:`rosmsg`,name:`ROS Interface`,import:(()=>B(()=>import(`./rosmsg-JLkPbP4e.js`),[],import.meta.url))},{id:`rst`,name:`reStructuredText`,import:(()=>B(()=>import(`./rst-BLE7G7VV.js`),__vite__mapDeps([123,124,65,66,59,67,55,15,16,14,5,61,73,74,7,3,1,75,76,11,50,51,20]),import.meta.url))},{id:`ruby`,name:`Ruby`,aliases:[`rb`],import:(()=>B(()=>import(`./ruby-Cc6volEI.js`),__vite__mapDeps([73,59,65,66,67,55,14,74,5,7,3,1,75,16,76,11,50,51,20]),import.meta.url))},{id:`rust`,name:`Rust`,aliases:[`rs`],import:(()=>B(()=>import(`./rust-BbK5InIS.js`),[],import.meta.url))},{id:`sas`,name:`SAS`,import:(()=>B(()=>import(`./sas-BrQMiz1n.js`),__vite__mapDeps([125,55]),import.meta.url))},{id:`sass`,name:`Sass`,import:(()=>B(()=>import(`./sass-DywwBhcT.js`),[],import.meta.url))},{id:`scala`,name:`Scala`,import:(()=>B(()=>import(`./scala-BH_wL4D0.js`),[],import.meta.url))},{id:`scheme`,name:`Scheme`,import:(()=>B(()=>import(`./scheme-BDjVj8f_.js`),[],import.meta.url))},{id:`scss`,name:`SCSS`,import:(()=>B(()=>import(`./scss-C20f-s0d.js`),__vite__mapDeps([126,48,14]),import.meta.url))},{id:`sdbl`,name:`1C (Query)`,aliases:[`1c-query`],import:(()=>B(()=>import(`./sdbl-CtWtvGqw.js`),[],import.meta.url))},{id:`shaderlab`,name:`ShaderLab`,aliases:[`shader`],import:(()=>B(()=>import(`./shaderlab-BMY3OFXl.js`),__vite__mapDeps([127,128]),import.meta.url))},{id:`shellscript`,name:`Shell`,aliases:[`bash`,`sh`,`shell`,`zsh`],import:(()=>B(()=>import(`./shellscript-BBZYJ-UZ.js`),__vite__mapDeps([12,11]),import.meta.url))},{id:`shellsession`,name:`Shell Session`,aliases:[`console`],import:(()=>B(()=>import(`./shellsession-DnjZoCh_.js`),__vite__mapDeps([129,11]),import.meta.url))},{id:`smalltalk`,name:`Smalltalk`,import:(()=>B(()=>import(`./smalltalk-CYRbj6nK.js`),[],import.meta.url))},{id:`solidity`,name:`Solidity`,import:(()=>B(()=>import(`./solidity-QSVliwtv.js`),[],import.meta.url))},{id:`soy`,name:`Closure Templates`,aliases:[`closure-templates`],import:(()=>B(()=>import(`./soy-CBjq_XTE.js`),__vite__mapDeps([130,16,14,5]),import.meta.url))},{id:`sparql`,name:`SPARQL`,import:(()=>B(()=>import(`./sparql-B3eVnDDQ.js`),__vite__mapDeps([131,132]),import.meta.url))},{id:`splunk`,name:`Splunk Query Language`,aliases:[`spl`],import:(()=>B(()=>import(`./splunk-CXHi_Bu5.js`),[],import.meta.url))},{id:`sql`,name:`SQL`,import:(()=>B(()=>import(`./sql-XxauaiaP.js`),__vite__mapDeps([133,55]),import.meta.url))},{id:`ssh-config`,name:`SSH Config`,import:(()=>B(()=>import(`./ssh-config-pRXVzxZ0.js`),[],import.meta.url))},{id:`stata`,name:`Stata`,import:(()=>B(()=>import(`./stata-B8TgJ8b-.js`),__vite__mapDeps([134,55]),import.meta.url))},{id:`stylus`,name:`Stylus`,aliases:[`styl`],import:(()=>B(()=>import(`./stylus-Bv1ePCWl.js`),[],import.meta.url))},{id:`svelte`,name:`Svelte`,import:(()=>B(()=>import(`./svelte-BEvpZ_1b.js`),__vite__mapDeps([135,14,5,53,1]),import.meta.url))},{id:`swift`,name:`Swift`,import:(()=>B(()=>import(`./swift-CI0w9EBw.js`),[],import.meta.url))},{id:`system-verilog`,name:`SystemVerilog`,import:(()=>B(()=>import(`./system-verilog-BPNn9ej7.js`),[],import.meta.url))},{id:`systemd`,name:`Systemd Units`,import:(()=>B(()=>import(`./systemd-D8gH3YYZ.js`),[],import.meta.url))},{id:`talonscript`,name:`TalonScript`,aliases:[`talon`],import:(()=>B(()=>import(`./talonscript-DVNdWC9F.js`),[],import.meta.url))},{id:`tasl`,name:`Tasl`,import:(()=>B(()=>import(`./tasl-9r0H9HWv.js`),[],import.meta.url))},{id:`tcl`,name:`Tcl`,import:(()=>B(()=>import(`./tcl-DpnWSPAE.js`),[],import.meta.url))},{id:`templ`,name:`Templ`,import:(()=>B(()=>import(`./templ-CUHi5ZB6.js`),__vite__mapDeps([136,14,137,5]),import.meta.url))},{id:`terraform`,name:`Terraform`,aliases:[`tf`,`tfvars`],import:(()=>B(()=>import(`./terraform-Bgk6o0UZ.js`),[],import.meta.url))},{id:`tex`,name:`TeX`,import:(()=>B(()=>import(`./tex-Dn_Qi5R3.js`),__vite__mapDeps([107,105]),import.meta.url))},{id:`toml`,name:`TOML`,import:(()=>B(()=>import(`./toml-xjVujMkG.js`),[],import.meta.url))},{id:`ts-tags`,name:`TypeScript with Tags`,aliases:[`lit`],import:(()=>B(()=>import(`./ts-tags-Df8fDfhP.js`),__vite__mapDeps([138,14,66,59,16,5,55,1,50,51]),import.meta.url))},{id:`tsv`,name:`TSV`,import:(()=>B(()=>import(`./tsv-BYgjC2V4.js`),[],import.meta.url))},{id:`tsx`,name:`TSX`,import:(()=>B(()=>import(`./tsx-BajCBAkL.js`),__vite__mapDeps([2,3]),import.meta.url))},{id:`turtle`,name:`Turtle`,import:(()=>B(()=>import(`./turtle-PTxTluYn.js`),[],import.meta.url))},{id:`twig`,name:`Twig`,import:(()=>B(()=>import(`./twig-_PDuRu78.js`),__vite__mapDeps([139,14,5,116,16,9,55,50,51,61,73,59,65,66,67,74,7,3,1,75,76,11,20,48]),import.meta.url))},{id:`typescript`,name:`TypeScript`,aliases:[`ts`,`cts`,`mts`],import:(()=>B(()=>import(`./typescript-BeffySdc.js`),__vite__mapDeps([0,1]),import.meta.url))},{id:`typespec`,name:`TypeSpec`,aliases:[`tsp`],import:(()=>B(()=>import(`./typespec-BFqcodc-.js`),[],import.meta.url))},{id:`typst`,name:`Typst`,aliases:[`typ`],import:(()=>B(()=>import(`./typst-C6LmF4pH.js`),[],import.meta.url))},{id:`v`,name:`V`,import:(()=>B(()=>import(`./v-DgpEXoIR.js`),[],import.meta.url))},{id:`vala`,name:`Vala`,import:(()=>B(()=>import(`./vala-Dl03hKtD.js`),[],import.meta.url))},{id:`vb`,name:`Visual Basic`,aliases:[`cmd`],import:(()=>B(()=>import(`./vb-Bapx9taM.js`),[],import.meta.url))},{id:`verilog`,name:`Verilog`,import:(()=>B(()=>import(`./verilog-CSjd-P1g.js`),[],import.meta.url))},{id:`vhdl`,name:`VHDL`,import:(()=>B(()=>import(`./vhdl-eK13NKyH.js`),[],import.meta.url))},{id:`viml`,name:`Vim Script`,aliases:[`vim`,`vimscript`],import:(()=>B(()=>import(`./viml-CiAUwIZb.js`),[],import.meta.url))},{id:`vue`,name:`Vue`,import:(()=>B(()=>import(`./vue-psj4-N8P.js`),__vite__mapDeps([13,14,15,16,5,9,1]),import.meta.url))},{id:`vue-html`,name:`Vue HTML`,import:(()=>B(()=>import(`./vue-html-B7xID-1B.js`),__vite__mapDeps([140,5,13,14,15,16,9,1]),import.meta.url))},{id:`vue-vine`,name:`Vue Vine`,import:(()=>B(()=>import(`./vue-vine-BX3Ifdu8.js`),__vite__mapDeps([141,14,5,111,13,15,16,9,1,53,48,142]),import.meta.url))},{id:`vyper`,name:`Vyper`,aliases:[`vy`],import:(()=>B(()=>import(`./vyper-ajaWTyMd.js`),[],import.meta.url))},{id:`wasm`,name:`WebAssembly`,import:(()=>B(()=>import(`./wasm-DvSqnd5u.js`),[],import.meta.url))},{id:`wenyan`,name:`Wenyan`,aliases:[``],import:(()=>B(()=>import(`./wenyan-BX1Elf4w.js`),[],import.meta.url))},{id:`wgsl`,name:`WGSL`,import:(()=>B(()=>import(`./wgsl-BHyQ5gRp.js`),[],import.meta.url))},{id:`wikitext`,name:`Wikitext`,aliases:[`mediawiki`,`wiki`],import:(()=>B(()=>import(`./wikitext-CNaMXwZO.js`),[],import.meta.url))},{id:`wit`,name:`WebAssembly Interface Types`,import:(()=>B(()=>import(`./wit-DS46xDUb.js`),[],import.meta.url))},{id:`wolfram`,name:`Wolfram`,aliases:[`wl`],import:(()=>B(()=>import(`./wolfram-BjedaLD5.js`),[],import.meta.url))},{id:`xml`,name:`XML`,import:(()=>B(()=>import(`./xml-C8qtOoBp.js`),__vite__mapDeps([143,50,51]),import.meta.url))},{id:`xsl`,name:`XSL`,import:(()=>B(()=>import(`./xsl-MLAG0AKH.js`),__vite__mapDeps([144,50,51]),import.meta.url))},{id:`yaml`,name:`YAML`,aliases:[`yml`],import:(()=>B(()=>import(`./yaml-Cxjn5mSc.js`),__vite__mapDeps([19,20]),import.meta.url))},{id:`zenscript`,name:`ZenScript`,import:(()=>B(()=>import(`./zenscript-iG987Pmv.js`),[],import.meta.url))},{id:`zig`,name:`Zig`,import:(()=>B(()=>import(`./zig-CiMGaWmI.js`),[],import.meta.url))}],YI=Object.fromEntries(JI.map(e=>[e.id,e.import])),XI=Object.fromEntries(JI.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),ZI={...YI,...XI},QI=Object.fromEntries([{id:`andromeeda`,displayName:`Andromeeda`,type:`dark`,import:(()=>B(()=>import(`./andromeeda-D1HS3rFc.js`),[],import.meta.url))},{id:`aurora-x`,displayName:`Aurora X`,type:`dark`,import:(()=>B(()=>import(`./aurora-x-4jYfmxTG.js`),[],import.meta.url))},{id:`ayu-dark`,displayName:`Ayu Dark`,type:`dark`,import:(()=>B(()=>import(`./ayu-dark-CP7E9_Jh.js`),[],import.meta.url))},{id:`catppuccin-frappe`,displayName:`Catppuccin Frapp`,type:`dark`,import:(()=>B(()=>import(`./catppuccin-frappe-DhPUFf9a.js`),[],import.meta.url))},{id:`catppuccin-latte`,displayName:`Catppuccin Latte`,type:`light`,import:(()=>B(()=>import(`./catppuccin-latte-AEEn_CxR.js`),[],import.meta.url))},{id:`catppuccin-macchiato`,displayName:`Catppuccin Macchiato`,type:`dark`,import:(()=>B(()=>import(`./catppuccin-macchiato-Ca6lzLBn.js`),[],import.meta.url))},{id:`catppuccin-mocha`,displayName:`Catppuccin Mocha`,type:`dark`,import:(()=>B(()=>import(`./catppuccin-mocha-BUWiLk9O.js`),[],import.meta.url))},{id:`dark-plus`,displayName:`Dark Plus`,type:`dark`,import:(()=>B(()=>import(`./dark-plus-BcANaJCA.js`),[],import.meta.url))},{id:`dracula`,displayName:`Dracula Theme`,type:`dark`,import:(()=>B(()=>import(`./dracula-lYVP4czV.js`),[],import.meta.url))},{id:`dracula-soft`,displayName:`Dracula Theme Soft`,type:`dark`,import:(()=>B(()=>import(`./dracula-soft-2RQAU7yQ.js`),[],import.meta.url))},{id:`everforest-dark`,displayName:`Everforest Dark`,type:`dark`,import:(()=>B(()=>import(`./everforest-dark-CqnRDJUd.js`),[],import.meta.url))},{id:`everforest-light`,displayName:`Everforest Light`,type:`light`,import:(()=>B(()=>import(`./everforest-light-CD7p7DkJ.js`),[],import.meta.url))},{id:`github-dark`,displayName:`GitHub Dark`,type:`dark`,import:(()=>B(()=>import(`./github-dark-CVqXD4HV.js`),__vite__mapDeps([145,146]),import.meta.url))},{id:`github-dark-default`,displayName:`GitHub Dark Default`,type:`dark`,import:(()=>B(()=>import(`./github-dark-default-BHsjRptO.js`),[],import.meta.url))},{id:`github-dark-dimmed`,displayName:`GitHub Dark Dimmed`,type:`dark`,import:(()=>B(()=>import(`./github-dark-dimmed-D3nXQKRt.js`),[],import.meta.url))},{id:`github-dark-high-contrast`,displayName:`GitHub Dark High Contrast`,type:`dark`,import:(()=>B(()=>import(`./github-dark-high-contrast-Bxt9Xkc1.js`),[],import.meta.url))},{id:`github-light`,displayName:`GitHub Light`,type:`light`,import:(()=>B(()=>import(`./github-light-DEyQ0pX6.js`),__vite__mapDeps([147,148]),import.meta.url))},{id:`github-light-default`,displayName:`GitHub Light Default`,type:`light`,import:(()=>B(()=>import(`./github-light-default-CCwbEwHu.js`),[],import.meta.url))},{id:`github-light-high-contrast`,displayName:`GitHub Light High Contrast`,type:`light`,import:(()=>B(()=>import(`./github-light-high-contrast-DgmG5wkN.js`),[],import.meta.url))},{id:`gruvbox-dark-hard`,displayName:`Gruvbox Dark Hard`,type:`dark`,import:(()=>B(()=>import(`./gruvbox-dark-hard-SRKXltaQ.js`),[],import.meta.url))},{id:`gruvbox-dark-medium`,displayName:`Gruvbox Dark Medium`,type:`dark`,import:(()=>B(()=>import(`./gruvbox-dark-medium-4tfJwMxT.js`),[],import.meta.url))},{id:`gruvbox-dark-soft`,displayName:`Gruvbox Dark Soft`,type:`dark`,import:(()=>B(()=>import(`./gruvbox-dark-soft-B-oNL0KQ.js`),[],import.meta.url))},{id:`gruvbox-light-hard`,displayName:`Gruvbox Light Hard`,type:`light`,import:(()=>B(()=>import(`./gruvbox-light-hard-nt_ZFDam.js`),[],import.meta.url))},{id:`gruvbox-light-medium`,displayName:`Gruvbox Light Medium`,type:`light`,import:(()=>B(()=>import(`./gruvbox-light-medium-BNlqkE6F.js`),[],import.meta.url))},{id:`gruvbox-light-soft`,displayName:`Gruvbox Light Soft`,type:`light`,import:(()=>B(()=>import(`./gruvbox-light-soft-ZKGckbUF.js`),[],import.meta.url))},{id:`houston`,displayName:`Houston`,type:`dark`,import:(()=>B(()=>import(`./houston-BLJlvoFE.js`),[],import.meta.url))},{id:`kanagawa-dragon`,displayName:`Kanagawa Dragon`,type:`dark`,import:(()=>B(()=>import(`./kanagawa-dragon-BFbNRUjq.js`),[],import.meta.url))},{id:`kanagawa-lotus`,displayName:`Kanagawa Lotus`,type:`light`,import:(()=>B(()=>import(`./kanagawa-lotus-BmOXbO1i.js`),[],import.meta.url))},{id:`kanagawa-wave`,displayName:`Kanagawa Wave`,type:`dark`,import:(()=>B(()=>import(`./kanagawa-wave-D_YLTfZQ.js`),[],import.meta.url))},{id:`laserwave`,displayName:`LaserWave`,type:`dark`,import:(()=>B(()=>import(`./laserwave-BC-qjPR3.js`),[],import.meta.url))},{id:`light-plus`,displayName:`Light Plus`,type:`light`,import:(()=>B(()=>import(`./light-plus-BfZNTKvL.js`),[],import.meta.url))},{id:`material-theme`,displayName:`Material Theme`,type:`dark`,import:(()=>B(()=>import(`./material-theme-DoZcU5if.js`),[],import.meta.url))},{id:`material-theme-darker`,displayName:`Material Theme Darker`,type:`dark`,import:(()=>B(()=>import(`./material-theme-darker-B6HVlQxU.js`),[],import.meta.url))},{id:`material-theme-lighter`,displayName:`Material Theme Lighter`,type:`light`,import:(()=>B(()=>import(`./material-theme-lighter-BNzECioM.js`),[],import.meta.url))},{id:`material-theme-ocean`,displayName:`Material Theme Ocean`,type:`dark`,import:(()=>B(()=>import(`./material-theme-ocean-b5RxLZtf.js`),[],import.meta.url))},{id:`material-theme-palenight`,displayName:`Material Theme Palenight`,type:`dark`,import:(()=>B(()=>import(`./material-theme-palenight-CL8n1XCr.js`),[],import.meta.url))},{id:`min-dark`,displayName:`Min Dark`,type:`dark`,import:(()=>B(()=>import(`./min-dark-BDMH1rSh.js`),[],import.meta.url))},{id:`min-light`,displayName:`Min Light`,type:`light`,import:(()=>B(()=>import(`./min-light-Ycyuatk0.js`),[],import.meta.url))},{id:`monokai`,displayName:`Monokai`,type:`dark`,import:(()=>B(()=>import(`./monokai-B5e15Xvx.js`),[],import.meta.url))},{id:`night-owl`,displayName:`Night Owl`,type:`dark`,import:(()=>B(()=>import(`./night-owl-B-PkArmI.js`),[],import.meta.url))},{id:`nord`,displayName:`Nord`,type:`dark`,import:(()=>B(()=>import(`./nord-CASI-21N.js`),[],import.meta.url))},{id:`one-dark-pro`,displayName:`One Dark Pro`,type:`dark`,import:(()=>B(()=>import(`./one-dark-pro-CeuykE6x.js`),[],import.meta.url))},{id:`one-light`,displayName:`One Light`,type:`light`,import:(()=>B(()=>import(`./one-light-C47MbK7h.js`),[],import.meta.url))},{id:`plastic`,displayName:`Plastic`,type:`dark`,import:(()=>B(()=>import(`./plastic-CtFzdQjK.js`),[],import.meta.url))},{id:`poimandres`,displayName:`Poimandres`,type:`dark`,import:(()=>B(()=>import(`./poimandres-DaHfI59t.js`),[],import.meta.url))},{id:`red`,displayName:`Red`,type:`dark`,import:(()=>B(()=>import(`./red-Cv7vHflK.js`),[],import.meta.url))},{id:`rose-pine`,displayName:`Ros Pine`,type:`dark`,import:(()=>B(()=>import(`./rose-pine-BD3L5yIN.js`),[],import.meta.url))},{id:`rose-pine-dawn`,displayName:`Ros Pine Dawn`,type:`light`,import:(()=>B(()=>import(`./rose-pine-dawn-DTGqYBek.js`),[],import.meta.url))},{id:`rose-pine-moon`,displayName:`Ros Pine Moon`,type:`dark`,import:(()=>B(()=>import(`./rose-pine-moon-BBQ4hb33.js`),[],import.meta.url))},{id:`slack-dark`,displayName:`Slack Dark`,type:`dark`,import:(()=>B(()=>import(`./slack-dark-CQyb6S45.js`),[],import.meta.url))},{id:`slack-ochin`,displayName:`Slack Ochin`,type:`light`,import:(()=>B(()=>import(`./slack-ochin-DDU2IcjG.js`),[],import.meta.url))},{id:`snazzy-light`,displayName:`Snazzy Light`,type:`light`,import:(()=>B(()=>import(`./snazzy-light-3L0gd0Zd.js`),[],import.meta.url))},{id:`solarized-dark`,displayName:`Solarized Dark`,type:`dark`,import:(()=>B(()=>import(`./solarized-dark-CCP-4bmP.js`),[],import.meta.url))},{id:`solarized-light`,displayName:`Solarized Light`,type:`light`,import:(()=>B(()=>import(`./solarized-light-tqcApNRN.js`),[],import.meta.url))},{id:`synthwave-84`,displayName:`Synthwave '84`,type:`dark`,import:(()=>B(()=>import(`./synthwave-84-C91jx46M.js`),[],import.meta.url))},{id:`tokyo-night`,displayName:`Tokyo Night`,type:`dark`,import:(()=>B(()=>import(`./tokyo-night-BmouRis0.js`),[],import.meta.url))},{id:`vesper`,displayName:`Vesper`,type:`dark`,import:(()=>B(()=>import(`./vesper-Cbvzg1tS.js`),[],import.meta.url))},{id:`vitesse-black`,displayName:`Vitesse Black`,type:`dark`,import:(()=>B(()=>import(`./vitesse-black-dNCM7bgi.js`),[],import.meta.url))},{id:`vitesse-dark`,displayName:`Vitesse Dark`,type:`dark`,import:(()=>B(()=>import(`./vitesse-dark-GyYwrw_h.js`),[],import.meta.url))},{id:`vitesse-light`,displayName:`Vitesse Light`,type:`light`,import:(()=>B(()=>import(`./vitesse-light-yOF4EsQx.js`),[],import.meta.url))}].map(e=>[e.id,e.import])),$I=class extends Error{constructor(e){super(e),this.name=`ShikiError`}};function eL(){return 2147483648}function tL(){return typeof performance<`u`?performance.now():Date.now()}var nL=(e,t)=>e+(t-e%t)%t;async function rL(e){let t,n,r={};function i(e){n=e,r.HEAPU8=new Uint8Array(e),r.HEAPU32=new Uint32Array(e)}function a(e,t,n){r.HEAPU8.copyWithin(e,t,t+n)}function o(e){try{return t.grow(e-n.byteLength+65535>>>16),i(t.buffer),1}catch{}}function s(e){let t=r.HEAPU8.length;e>>>=0;let n=eL();if(e>n)return!1;for(let r=1;r<=4;r*=2){let i=t*(1+.2/r);if(i=Math.min(i,e+100663296),o(Math.min(n,nL(Math.max(e,i),65536))))return!0}return!1}let c=typeof TextDecoder<`u`?new TextDecoder(`utf8`):void 0;function l(e,t,n=1024){let r=t+n,i=t;for(;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&c)return c.decode(e.subarray(t,i));let a=``;for(;t<i;){let n=e[t++];if(!(n&128)){a+=String.fromCharCode(n);continue}let r=e[t++]&63;if((n&224)==192){a+=String.fromCharCode((n&31)<<6|r);continue}let i=e[t++]&63;if(n=(n&240)==224?(n&15)<<12|r<<6|i:(n&7)<<18|r<<12|i<<6|e[t++]&63,n<65536)a+=String.fromCharCode(n);else{let e=n-65536;a+=String.fromCharCode(55296|e>>10,56320|e&1023)}}return a}function u(e,t){return e?l(r.HEAPU8,e,t):``}let d={emscripten_get_now:tL,emscripten_memcpy_big:a,emscripten_resize_heap:s,fd_write:()=>0};async function f(){let n=await e({env:d,wasi_snapshot_preview1:d});t=n.memory,i(t.buffer),Object.assign(r,n),r.UTF8ToString=u}return await f(),r}var iL=Object.defineProperty,aL=(e,t,n)=>t in e?iL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oL=(e,t,n)=>aL(e,typeof t==`symbol`?t:t+``,n),sL=null;function cL(e){throw new $I(e.UTF8ToString(e.getLastOnigError()))}var lL=class e{constructor(t){oL(this,`utf16Length`),oL(this,`utf8Length`),oL(this,`utf16Value`),oL(this,`utf8Value`),oL(this,`utf16OffsetToUtf8`),oL(this,`utf8OffsetToUtf16`);let n=t.length,r=e._utf8ByteLength(t),i=r!==n,a=i?new Uint32Array(n+1):null;i&&(a[n]=r);let o=i?new Uint32Array(r+1):null;i&&(o[r]=n);let s=new Uint8Array(r),c=0;for(let e=0;e<n;e++){let r=t.charCodeAt(e),l=r,u=!1;if(r>=55296&&r<=56319&&e+1<n){let n=t.charCodeAt(e+1);n>=56320&&n<=57343&&(l=(r-55296<<10)+65536|n-56320,u=!0)}i&&(a[e]=c,u&&(a[e+1]=c),l<=127?o[c+0]=e:l<=2047?(o[c+0]=e,o[c+1]=e):l<=65535?(o[c+0]=e,o[c+1]=e,o[c+2]=e):(o[c+0]=e,o[c+1]=e,o[c+2]=e,o[c+3]=e)),l<=127?s[c++]=l:l<=2047?(s[c++]=192|(l&1984)>>>6,s[c++]=128|(l&63)>>>0):l<=65535?(s[c++]=224|(l&61440)>>>12,s[c++]=128|(l&4032)>>>6,s[c++]=128|(l&63)>>>0):(s[c++]=240|(l&1835008)>>>18,s[c++]=128|(l&258048)>>>12,s[c++]=128|(l&4032)>>>6,s[c++]=128|(l&63)>>>0),u&&e++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=t,this.utf8Value=s,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){let i=e.charCodeAt(n),a=i,o=!1;if(i>=55296&&i<=56319&&n+1<r){let t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(a=(i-55296<<10)+65536|t-56320,o=!0)}a<=127?t+=1:a<=2047?t+=2:a<=65535?t+=3:t+=4,o&&n++}return t}createString(e){let t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}},uL=class e{constructor(t){if(oL(this,`id`,++e.LAST_ID),oL(this,`_onigBinding`),oL(this,`content`),oL(this,`utf16Length`),oL(this,`utf8Length`),oL(this,`utf16OffsetToUtf8`),oL(this,`utf8OffsetToUtf16`),oL(this,`ptr`),!sL)throw new $I(`Must invoke loadWasm first.`);this._onigBinding=sL,this.content=t;let n=new lL(t);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||=sL.omalloc(1e4),e._sharedPtrInUse=!0,sL.HEAPU8.set(n.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=n.createString(sL)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};oL(uL,`LAST_ID`,0),oL(uL,`_sharedPtr`,0),oL(uL,`_sharedPtrInUse`,!1);var dL=uL,fL=class{constructor(e){if(oL(this,`_onigBinding`),oL(this,`_ptr`),!sL)throw new $I(`Must invoke loadWasm first.`);let t=[],n=[];for(let r=0,i=e.length;r<i;r++){let i=new lL(e[r]);t[r]=i.createString(sL),n[r]=i.utf8Length}let r=sL.omalloc(4*e.length);sL.HEAPU32.set(t,r/4);let i=sL.omalloc(4*e.length);sL.HEAPU32.set(n,i/4);let a=sL.createOnigScanner(r,i,e.length);for(let n=0,r=e.length;n<r;n++)sL.ofree(t[n]);sL.ofree(i),sL.ofree(r),a===0&&cL(sL),this._onigBinding=sL,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n){let r=0;if(typeof n==`number`&&(r=n),typeof e==`string`){e=new dL(e);let n=this._findNextMatchSync(e,t,!1,r);return e.dispose(),n}return this._findNextMatchSync(e,t,!1,r)}_findNextMatchSync(e,t,n,r){let i=this._onigBinding,a=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),r);if(a===0)return null;let o=i.HEAPU32,s=a/4,c=o[s++],l=o[s++],u=[];for(let t=0;t<l;t++){let n=e.convertUtf8OffsetToUtf16(o[s++]),r=e.convertUtf8OffsetToUtf16(o[s++]);u[t]={start:n,end:r,length:r-n}}return{index:c,captureIndices:u}}};function pL(e){return typeof e.instantiator==`function`}function mL(e){return typeof e.default==`function`}function hL(e){return e.data!==void 0}function gL(e){return typeof Response<`u`&&e instanceof Response}function _L(e){return typeof ArrayBuffer<`u`&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<`u`&&Buffer.isBuffer?.(e)||typeof SharedArrayBuffer<`u`&&e instanceof SharedArrayBuffer||typeof Uint32Array<`u`&&e instanceof Uint32Array}var vL;function yL(e){if(vL)return vL;async function t(){sL=await rL(async t=>{let n=e;return n=await n,typeof n==`function`&&(n=await n(t)),typeof n==`function`&&(n=await n(t)),pL(n)?n=await n.instantiator(t):mL(n)?n=await n.default(t):(hL(n)&&(n=n.data),gL(n)?n=typeof WebAssembly.instantiateStreaming==`function`?await xL(n)(t):await SL(n)(t):_L(n)||n instanceof WebAssembly.Module?n=await bL(n)(t):`default`in n&&n.default instanceof WebAssembly.Module&&(n=await bL(n.default)(t))),`instance`in n&&(n=n.instance),`exports`in n&&(n=n.exports),n})}return vL=t(),vL}function bL(e){return t=>WebAssembly.instantiate(e,t)}function xL(e){return t=>WebAssembly.instantiateStreaming(e,t)}function SL(e){return async t=>{let n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}}async function CL(e){return e&&await yL(e),{createScanner(e){return new fL(e.map(e=>typeof e==`string`?e:e.source))},createString(e){return new dL(e)}}}var{codeToHtml:wL,codeToHast:TL,codeToTokens:EL,codeToTokensBase:DL,codeToTokensWithThemes:OL,getSingletonHighlighter:kL,getLastGrammarState:AL}=gb(mb({langs:ZI,themes:QI,engine:()=>CL(B(()=>import(`./wasm-DNm2FF_d.js`),[],import.meta.url))}),{guessEmbeddedLanguages:ey}),jL={name:`line-numbers`,line(e,t){e.children.unshift({type:`element`,tagName:`span`,properties:{className:[`inline-block`,`min-w-10`,`mr-4`,`text-right`,`select-none`,`text-muted-foreground`]},children:[{type:`text`,value:String(t)}]})}};async function ML(e,t,n=!1){let r=n?[jL]:[];return await Promise.all([wL(e,{lang:t,theme:`one-light`,transformers:r}),wL(e,{lang:t,theme:`one-dark-pro`,transformers:r})])}var NL={class:`relative`},PL=[`innerHTML`],FL=[`innerHTML`],IL={key:0,class:`absolute top-2 right-2 flex items-center gap-2`},LL=P({__name:`CodeBlock`,props:{code:{},language:{},showLineNumbers:{type:Boolean,default:!1},class:{}},setup(e){let t=e,n=De(t,`code`,`language`,`showLineNumbers`,`class`),r=b(``),a=b(``);k(qI,{code:u(()=>t.code)});let o=0,s=!1,c=je(async(e,t,n)=>{o+=1;let i=o;try{let[c,l]=await ML(e,t,n);i===o&&!s&&(r.value=c,a.value=l)}catch(e){console.error(`[CodeBlock] highlight failed`,e)}},100);return i(()=>[t.code,t.language,t.showLineNumbers],([e,t,n])=>{c(e,t,n)},{immediate:!0}),N(()=>{s=!0}),(e,i)=>(F(),T(`div`,M({"data-slot":`code-block`},L(n),{class:L(U)(`group relative w-full overflow-hidden rounded-md border bg-background text-foreground`,t.class)}),[R(`div`,NL,[R(`div`,{class:`overflow-hidden dark:hidden [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm`,innerHTML:r.value},null,8,PL),R(`div`,{class:`hidden overflow-hidden dark:block [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm`,innerHTML:a.value},null,8,FL),e.$slots.default?(F(),T(`div`,IL,[V(e.$slots,`default`)])):D(``,!0)])],16))}}),RL={class:`rounded-md bg-muted/50`},zL=P({__name:`ToolInput`,props:{input:{},class:{}},setup(t){let n=t,r=u(()=>JSON.stringify(n.input,null,2));return(t,i)=>(F(),T(`div`,M({class:L(U)(`space-y-2 overflow-hidden p-4`,n.class)},t.$attrs),[i[0]||=R(`h4`,{class:`font-medium text-muted-foreground text-xs uppercase tracking-wide`},` Parameters `,-1),R(`div`,RL,[e(L(LL),{code:r.value,language:`json`},null,8,[`code`])])],16))}}),BL={class:`font-medium text-muted-foreground text-xs uppercase tracking-wide`},VL={key:0,class:`p-3`},HL={key:3,class:`p-3`},UL=P({__name:`ToolOutput`,props:{output:{},errorText:{},class:{}},setup(e){let t=e,n=u(()=>t.output||t.errorText),r=u(()=>typeof t.output==`object`&&t.output!==null),i=u(()=>typeof t.output==`string`),a=u(()=>r.value?JSON.stringify(t.output,null,2):t.output);return(o,s)=>n.value?(F(),T(`div`,M({key:0,class:L(U)(`space-y-2 p-4`,t.class)},o.$attrs),[R(`h4`,BL,p(t.errorText?`Error`:`Result`),1),R(`div`,{class:E(L(U)(`overflow-x-auto rounded-md text-xs [&_table]:w-full`,t.errorText?`bg-destructive/10 text-destructive`:`bg-muted/50 text-foreground`))},[e.errorText?(F(),T(`div`,VL,p(t.errorText),1)):r.value?(F(),l(L(LL),{key:1,code:a.value,language:`json`},null,8,[`code`])):i.value?(F(),l(L(LL),{key:2,code:a.value,language:`json`},null,8,[`code`])):(F(),T(`div`,HL,p(t.output),1))],2)],16)):D(``,!0)}}),WL={key:0,class:`text-[11px] font-semibold tracking-[0.05em] text-slate-500 uppercase leading-tight`},GL={key:1,class:`space-y-2`},KL={key:0,class:`whitespace-pre-wrap break-words`},qL={key:2,class:`flex items-center justify-start px-1 py-1 size-full`},JL={key:2},YL=ie(P({__name:`ChatMessages`,props:{messages:{},layoutConfig:{}},emits:[`retry`,`copy`,`branchChange`],setup(n,{emit:r}){let a=n,o=r,s=u(()=>a.layoutConfig.isSmallScreen),c=u(()=>a.layoutConfig.messageMaxWidth),d=u(()=>a.layoutConfig.messageLayout),f=u(()=>a.layoutConfig.avatarSize),h=u(()=>a.layoutConfig.iconSize),g=u(()=>a.layoutConfig.messageBranchPadding),_=u(()=>a.layoutConfig.messageToolbarMargin),v=u(()=>a.layoutConfig.containerMaxWidth),y={user:{label:`USER`,bg:`bg-indigo-500`,ring:`ring-indigo-100`},assistant:{label:`ASSISTANT`,bg:`bg-emerald-500`,ring:`ring-emerald-100`}},S=e=>s.value?`flex ${e===`user`?`flex-row-reverse`:`flex-row`} items-center gap-2 shrink-0 order-first w-full pb-1`:`flex flex-col items-center gap-1.5 shrink-0`,C=e=>{if(e.from!==`assistant`||!e.versions||e.versions.length===0)return!1;let t=e.versions[e.versions.length-1];return!t?.contentBlocks||t.contentBlocks.length===0?!1:t.contentBlocks.some(e=>e.type===`text`&&e.content.trim().length>0)},w=b({});i(()=>a.messages,e=>{e.forEach(e=>{e.from===`assistant`&&e.versions&&e.versions.length>0&&!(e.key in w.value)&&(w.value[e.key]=e.versions.length-1)})},{immediate:!0,deep:!0});function O(e,t){let n=a.messages.find(t=>t.key===e);if(!n||!n.versions||n.versions.length===0)return;let r=Math.max(0,Math.min(t,n.versions.length-1));w.value[e]=r,o(`branchChange`,e,r)}function k(e){let t=a.messages.find(t=>t.key===e);if(!t||!t.versions||t.versions.length===0)return;let n=w.value[e]??t.versions.length-1;n=Math.max(0,Math.min(n,t.versions.length-1));let r=(t.versions[n]?.contentBlocks?.filter(e=>e.type===`text`)||[]).map(e=>e.content).join(`
`);r&&(typeof navigator<`u`&&navigator.clipboard&&navigator.clipboard.writeText(r).catch(()=>{}),o(`copy`,e))}let A=b({});return i(()=>a.messages,()=>{},{deep:!0}),(r,i)=>(F(),T(`div`,{ref:`conversationContainerRef`,class:E([`flex h-full w-full py-4 md:py-6 overflow-hidden`,[n.messages.length>0?`flex-col`:`items-center justify-center`]])},[R(`div`,{class:E([`relative flex h-full w-full overflow-hidden`,n.messages.length>0?`flex-col divide-y`:`items-center justify-center`])},[n.messages.length>0?(F(),l(L(oa),{key:0,class:`conversation-content border-none`},{default:t(()=>[e(L(sa),{class:E([`mx-auto w-full px-4 select-text`,v.value])},{default:t(()=>[(F(!0),T(x,null,_e(n.messages,n=>(F(),l(L(Ea),{key:`${n.key}-${n.versions?.length||0}`,"default-branch":Math.max(0,(n.versions?.length||1)-1),class:E(g.value),onBranchChange:e=>O(n.key,e)},{default:t(()=>[e(L(Da),{class:`min-w-0`},{default:t(()=>[(F(!0),T(x,null,_e(n.versions||[],r=>(F(),l(L(la),{key:`${n.key}-${r.id}`,from:n.from,"max-width":c.value,class:E([`gap-3`,d.value,s.value?`ml-0! justify-center!`:``])},{default:t(()=>[R(`div`,{class:E([S(n.from),!s.value&&(n.from===`user`?`order-last pl-1`:`order-first pr-1`)])},[R(`div`,{class:E([f.value,`rounded-full flex items-center justify-center text-white shadow-sm ring-2`,y[n.from].bg,y[n.from].ring])},[n.from===`user`?(F(),l(L(vn),{key:0,class:E(h.value)},null,8,[`class`])):(F(),l(L(Sn),{key:1,class:E(h.value)},null,8,[`class`]))],2),s.value?(F(),T(`span`,WL,p(y[n.from].label),1)):D(``,!0)],2),R(`div`,{class:E([`flex flex-col gap-1`,s.value?`w-full min-w-0`:`flex-1 min-w-0`])},[s.value?D(``,!0):(F(),T(`span`,{key:0,class:E([`text-[11px] font-semibold tracking-[0.05em] text-slate-500 uppercase leading-tight`,n.from===`user`?`text-right pr-1`:`text-left pl-1`])},p(y[n.from].label),3)),n.sources?.length?(F(),l(L(BT),{key:1},{default:t(()=>[e(L(UT),{count:n.sources.length},null,8,[`count`]),e(L(VT),null,{default:t(()=>[(F(!0),T(x,null,_e(n.sources,e=>(F(),l(L(zT),{key:e.href,href:e.href,title:e.title},null,8,[`href`,`title`]))),128))]),_:2},1024)]),_:2},1024)):D(``,!0),n.reasoning?(F(),l(L(JT),{key:2,duration:n.reasoning.duration},{default:t(()=>[e(L(RI)),e(L(YT),{content:n.reasoning.content},null,8,[`content`])]),_:2},1032,[`duration`])):D(``,!0),e(L(Ia),{class:`max-w-full`},{default:t(()=>[r.files?.length?(F(),l(L(xa),{key:0,class:`mb-2`},{default:t(()=>[(F(!0),T(x,null,_e(r.files,(e,t)=>(F(),l(L(ba),{key:e.url||e.filename||t,data:e,class:`pointer-events-none`},null,8,[`data`]))),128))]),_:2},1024)):D(``,!0),r.contentBlocks?.length?(F(),T(`div`,GL,[(F(!0),T(x,null,_e(r.contentBlocks,r=>(F(),T(x,{key:r.id},[r.type===`text`&&n.from===`user`?(F(),T(`div`,KL,p(r.content),1)):r.type===`text`?(F(),l(L(FT),{key:1,content:r.content},null,8,[`content`])):r.type===`tool`?(F(),l(L(zI),{key:2},{default:t(()=>[e(L(KI),{type:r.toolCall.type,state:r.toolCall.state,title:r.toolCall.type.split(`-`).slice(1).join(` `)},null,8,[`type`,`state`,`title`]),e(L(BI),null,{default:t(()=>[e(L(zL),{input:r.toolCall.input},null,8,[`input`]),r.toolCall.output!==void 0||r.toolCall.errorText?(F(),l(L(UL),{key:0,output:r.toolCall.output,"error-text":r.toolCall.errorText},null,8,[`output`,`error-text`])):D(``,!0)]),_:2},1024)]),_:2},1024)):D(``,!0)],64))),128))])):n.from===`assistant`&&r.contentBlocks?.length===0?(F(),T(`div`,qL,[e(L(FI),null,{default:t(()=>[...i[0]||=[m(``,-1)]]),_:1})])):D(``,!0)]),_:2},1024)],2)]),_:2},1032,[`from`,`max-width`,`class`]))),128))]),_:2},1024),n.from===`assistant`?(F(),l(L(IT),{key:0,class:E(_.value)},{default:t(()=>[n.versions&&n.versions.length>1&&C(n)?(F(),l(L(Fa),{key:0,from:n.from},{default:t(()=>[e(L(Pa)),e(L(Na)),e(L(Oa))]),_:1},8,[`from`])):n.versions&&n.versions.length>1&&!(n.from===`assistant`&&C(n))?(F(),l(L(Fa),{key:1,from:n.from},{default:t(()=>[e(L(Pa)),e(L(Na)),e(L(Oa))]),_:1},8,[`from`])):(F(),T(`div`,JL)),e(L(_a),null,{default:t(()=>[e(L(ga),{label:`Retry`,tooltip:``,onClick:e=>o(`retry`,n.key)},{default:t(()=>[e(L(Ct),{class:`size-4`})]),_:1},8,[`onClick`]),e(L(ga),{label:`Copy`,tooltip:``,onClick:e=>k(n.key)},{default:t(()=>[A.value[n.key]?(F(),l(L(Re),{key:0,class:`size-4 text-emerald-500`})):(F(),l(L(xt),{key:1,class:`size-4`}))]),_:2},1032,[`onClick`])]),_:2},1024)]),_:2},1032,[`class`])):D(``,!0)]),_:2},1032,[`default-branch`,`class`,`onBranchChange`]))),128))]),_:1},8,[`class`]),e(L(ca))]),_:1})):D(``,!0)],2)],2))}}),[[`__scopeId`,`data-v-2ca4f2e0`]]);const XL=Symbol(`PromptInputContext`);function ZL(e){let t=b(e.initialInput||``),n=b([]),r=b(null),i=b(!1);N(()=>{n.value.forEach(e=>{e.url&&e.url.startsWith(`blob:`)&&URL.revokeObjectURL(e.url)})});let a=e=>{t.value=e},o=t=>!e.accept||e.accept.trim()===``?!0:e.accept.includes(`image/*`)?t.type.startsWith(`image/`):!0,s=t=>{let r=Array.from(t),i=r.filter(o);if(r.length&&i.length===0){e.onError?.({code:`accept`,message:`No files match the accepted types.`});return}let a=i.filter(t=>e.maxFileSize?t.size<=e.maxFileSize:!0);if(i.length>0&&a.length===0){e.onError?.({code:`max_file_size`,message:`All files exceed the maximum size.`});return}let s=n.value.length,c=e.maxFiles?Math.max(0,e.maxFiles-s):void 0,l=typeof c==`number`?a.slice(0,c):a;typeof c==`number`&&a.length>c&&e.onError?.({code:`max_files`,message:`Too many files. Some were not added.`});let u=l.map(e=>({id:xi(),type:`file`,url:URL.createObjectURL(e),mediaType:e.type,filename:e.name,file:e}));n.value=[...n.value,...u]},c=e=>{let t=n.value.find(t=>t.id===e);t?.url&&t.url.startsWith(`blob:`)&&URL.revokeObjectURL(t.url),n.value=n.value.filter(t=>t.id!==e)},l=()=>{n.value.forEach(e=>{e.url&&e.url.startsWith(`blob:`)&&URL.revokeObjectURL(e.url)}),n.value=[]},u=()=>{t.value=``},d=()=>{r.value?.click()},f=async e=>{try{let t=await(await fetch(e)).blob();return new Promise(e=>{let n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=()=>e(null),n.readAsDataURL(t)})}catch{return null}},p={textInput:t,files:n,fileInputRef:r,isLoading:i,setTextInput:a,addFiles:s,removeFile:c,clearFiles:l,clearInput:u,openFileDialog:d,submitForm:async()=>{if(!e.onSubmit)return;let r=await Promise.all(n.value.map(async e=>{if(e.url&&e.url.startsWith(`blob:`)){let t=await f(e.url);return{...e,url:t??e.url}}return e})),a={text:t.value,files:r};try{i.value=!0;let t=e.onSubmit(a);t instanceof Promise&&await t,u(),l()}catch(t){if(e.onError){let n=t instanceof Error?t.message:String(t)||`An unknown error occurred during submission.`;e.onError({code:`submit_error`,message:n})}console.error(`Submission failed:`,t)}finally{i.value=!1}}};return k(XL,p),p}function QL(){let e=ae(XL);if(!e)throw Error(`usePromptInput must be used within a PromptInput component`);return e}var $L=P({__name:`InputGroup`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,{"data-slot":`input-group`,role:`group`,class:E(L(U)(`group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none`,`h-9 min-w-0 has-[>textarea]:h-auto`,`has-[>[data-align=inline-start]]:[&>input]:pl-2`,`has-[>[data-align=inline-end]]:[&>input]:pr-2`,`has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3`,`has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3`,`has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]`,`has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40`,t.class))},[V(e.$slots,`default`)],2))}}),eR=[`data-align`],tR=P({__name:`InputGroupAddon`,props:{align:{default:`inline-start`},class:{}},setup(e){let t=e;function n(e){let t=e.currentTarget,n=e.target;if(!(n&&n.closest(`button`))&&t&&t?.parentElement){let e=t.parentElement.querySelector(`input:not(.router-model-select__input)`);e&&e.focus()}}return(e,r)=>(F(),T(`div`,{role:`group`,"data-slot":`input-group-addon`,"data-align":t.align,class:E(L(U)(L(rR)({align:t.align}),t.class)),onClick:n},[V(e.$slots,`default`)],10,eR))}}),nR=P({__name:`InputGroupButton`,props:{variant:{default:`ghost`},size:{default:`xs`},class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(Mt),{"data-size":n.size,variant:n.variant,class:E(L(U)(L(iR)({size:n.size}),n.class))},{default:t(()=>[V(e.$slots,`default`)]),_:3},8,[`data-size`,`variant`,`class`]))}});const rR=Pt(`text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50`,{variants:{align:{"inline-start":`order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]`,"inline-end":`order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]`,"block-start":`order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5`,"block-end":`order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5`}},defaultVariants:{align:`inline-start`}}),iR=Pt(`text-sm shadow-none flex gap-2 items-center`,{variants:{size:{xs:`h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2`,sm:`h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5`,"icon-xs":`size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0`,"icon-sm":`size-8 p-0 has-[>svg]:p-0`}},defaultVariants:{size:`xs`}});var aR=[`accept`,`multiple`],oR=P({__name:`PromptInput`,props:{class:{},accept:{},multiple:{type:Boolean},globalDrop:{type:Boolean},maxFiles:{},maxFileSize:{},initialInput:{}},emits:[`submit`,`error`],setup(n,{emit:r}){let i=n,a=r,o=b(null),s=ae(XL,null),c=s?null:ZL({initialInput:i.initialInput,maxFiles:i.maxFiles,maxFileSize:i.maxFileSize,accept:i.accept,onSubmit:e=>a(`submit`,e),onError:e=>a(`error`,e)}),l=s||c;if(!l)throw Error(`PromptInput context is missing.`);let{fileInputRef:u,addFiles:d,submitForm:f}=l;function p(e){e.dataTransfer?.types?.includes(`Files`)&&e.preventDefault()}function m(e){e.dataTransfer?.types?.includes(`Files`)&&e.preventDefault(),e.dataTransfer?.files&&e.dataTransfer.files.length>0&&d(e.dataTransfer.files)}de(()=>{i.globalDrop&&(document.addEventListener(`dragover`,p),document.addEventListener(`drop`,m))}),ce(()=>{i.globalDrop&&(document.removeEventListener(`dragover`,p),document.removeEventListener(`drop`,m))});function h(e){let t=e.target;t.files&&d(t.files),t.value=``}function g(e){e.preventDefault(),f()}return(r,a)=>(F(),T(`div`,null,[R(`input`,{ref_key:`fileInputRef`,ref:u,type:`file`,class:`hidden`,accept:n.accept,multiple:n.multiple,onChange:h},null,40,aR),R(`form`,{ref_key:`formRef`,ref:o,class:E(L(U)(`w-full`,i.class)),onSubmit:g,onDragover:be(p,[`prevent`]),onDrop:be(m,[`prevent`])},[e(L($L),{class:`overflow-hidden`},{default:t(()=>[V(r.$slots,`default`)]),_:3})],34)]))}}),sR=P({__name:`DropdownMenu`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:[`update:open`],setup(e,{emit:n}){let r=Qt(e,n);return(e,n)=>(F(),l(L(Hr),M({"data-slot":`dropdown-menu`},L(r)),{default:t(t=>[V(e.$slots,`default`,w(I(t)))]),_:3},16))}}),cR=P({inheritAttrs:!1,__name:`DropdownMenuContent`,props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(n,{emit:r}){let i=n,a=r,o=Qt(De(i,`class`),a);return(n,r)=>(F(),l(L(Kr),null,{default:t(()=>[e(L(Ur),M({"data-slot":`dropdown-menu-content`},{...n.$attrs,...L(o)},{class:L(U)(`bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md`,i.class)}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),lR=P({__name:`DropdownMenuLabel`,props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){let n=e,r=tn(De(n,`class`,`inset`));return(i,a)=>(F(),l(L(Gr),M({"data-slot":`dropdown-menu-label`,"data-inset":e.inset?``:void 0},L(r),{class:L(U)(`px-2 py-1.5 text-sm font-medium data-[inset]:pl-8`,n.class)}),{default:t(()=>[V(i.$slots,`default`)]),_:3},16,[`data-inset`,`class`]))}}),uR=P({__name:`DropdownMenuRadioGroup`,props:{modelValue:{},asChild:{type:Boolean},as:{}},emits:[`update:modelValue`],setup(e,{emit:n}){let r=Qt(e,n);return(e,n)=>(F(),l(L(qr),M({"data-slot":`dropdown-menu-radio-group`},L(r)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),dR={class:`pointer-events-none absolute left-2 flex size-3.5 items-center justify-center`},fR=P({__name:`DropdownMenuRadioItem`,props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:[`select`],setup(n,{emit:r}){let i=n,a=r,o=Qt(De(i,`class`),a);return(n,r)=>(F(),l(L(Jr),M({"data-slot":`dropdown-menu-radio-item`},L(o),{class:L(U)(`focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,i.class)}),{default:t(()=>[R(`span`,dR,[e(L(Wr),null,{default:t(()=>[V(n.$slots,`indicator-icon`,{},()=>[e(L(jn),{class:`size-2 fill-current`})])]),_:3})]),V(n.$slots,`default`)]),_:3},16,[`class`]))}}),pR=P({__name:`DropdownMenuSeparator`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=De(t,`class`);return(e,r)=>(F(),l(L(Yr),M({"data-slot":`dropdown-menu-separator`},L(n),{class:L(U)(`bg-border -mx-1 my-1 h-px`,t.class)}),null,16,[`class`]))}}),mR=P({__name:`DropdownMenuTrigger`,props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){let n=tn(e);return(e,r)=>(F(),l(L(Xr),M({"data-slot":`dropdown-menu-trigger`},L(n)),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),hR=P({__name:`PromptInputButton`,props:{class:{},variant:{default:`ghost`},size:{}},setup(e){let n=e,i=_(),a=u(()=>{if(n.size)return n.size;let e=i.default?.();return e&&e.filter(e=>!(e.type===r||e.type===C&&!e.children?.toString().trim())).length>1?`sm`:`icon-sm`}),o=S(n,`variant`),{size:s,variant:c,class:d,...f}=n;return(e,n)=>(F(),l(L(nR),M({type:`button`,size:a.value,class:L(U)(e.$props.class),variant:o.value},f),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`size`,`class`,`variant`]))}}),gR=P({__name:`HoverCard`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:[`update:open`],setup(e,{emit:n}){let r=Qt(e,n);return(e,n)=>(F(),l(L($r),M({"data-slot":`hover-card`},L(r)),{default:t(t=>[V(e.$slots,`default`,w(I(t)))]),_:3},16))}}),_R=P({inheritAttrs:!1,__name:`HoverCardContent`,props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(n){let r=n,i=tn(De(r,`class`));return(n,a)=>(F(),l(L(ii),null,{default:t(()=>[e(L(ri),M({"data-slot":`hover-card-content`},{...n.$attrs,...L(i)},{class:L(U)(`bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 rounded-md border p-4 shadow-md outline-hidden`,r.class)}),{default:t(()=>[V(n.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),vR=P({__name:`HoverCardTrigger`,props:{reference:{},asChild:{type:Boolean},as:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(ai),M({"data-slot":`hover-card-trigger`},n),{default:t(()=>[V(e.$slots,`default`)]),_:3},16))}}),yR={class:`relative size-5 shrink-0`},bR={class:`absolute inset-0 flex size-5 items-center justify-center overflow-hidden rounded bg-background transition-opacity group-hover:opacity-0`},xR=[`src`,`alt`],SR={key:1,class:`flex size-5 items-center justify-center text-muted-foreground`},CR={class:`flex-1 truncate max-w-[150px]`},wR={class:`w-auto space-y-3`},TR={key:0,class:`flex max-h-96 w-96 items-center justify-center overflow-hidden rounded-md border`},ER=[`src`,`alt`],DR={class:`flex items-center gap-2.5`},OR={class:`min-w-0 flex-1 space-y-1 px-0.5`},kR={class:`truncate font-semibold text-sm leading-none`},AR={key:0,class:`truncate font-mono text-muted-foreground text-xs`},jR=P({__name:`PromptInputAttachment`,props:{file:{},class:{}},setup(n){let r=n,{removeFile:i}=QL(),a=u(()=>r.file.filename||``),o=u(()=>r.file.mediaType?.startsWith(`image/`)&&r.file.url),s=u(()=>a.value||(o.value?`Image`:`Attachment`));function c(e){e.stopPropagation(),i(r.file.id)}return(i,a)=>(F(),l(L(gR),{"open-delay":0,"close-delay":0},{default:t(()=>[e(L(vR),{"as-child":``},{default:t(()=>[R(`div`,{class:E(L(U)(`group relative flex h-8 cursor-pointer select-none items-center gap-1.5 rounded-md border border-border px-1.5 font-medium text-sm transition-all hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50`,r.class))},[R(`div`,yR,[R(`div`,bR,[o.value?(F(),T(`img`,{key:0,src:n.file.url,alt:s.value,class:`size-5 object-cover`},null,8,xR)):(F(),T(`div`,SR,[e(L(Dt),{class:`size-3`})]))]),e(L(Mt),{type:`button`,variant:`ghost`,size:`icon`,class:`absolute inset-0 size-5 cursor-pointer rounded p-0 opacity-0 transition-opacity group-hover:pointer-events-auto group-hover:opacity-100 [&>svg]:size-2.5`,onClick:c},{default:t(()=>[e(L(zt)),a[0]||=R(`span`,{class:`sr-only`},`Remove`,-1)]),_:1})]),R(`span`,CR,p(s.value),1)],2)]),_:1}),e(L(_R),{class:`w-auto p-2`,align:`start`},{default:t(()=>[R(`div`,wR,[o.value?(F(),T(`div`,TR,[R(`img`,{src:n.file.url,alt:s.value,class:`max-h-full max-w-full object-contain`},null,8,ER)])):D(``,!0),R(`div`,DR,[R(`div`,OR,[R(`h4`,kR,p(s.value),1),n.file.mediaType?(F(),T(`p`,AR,p(n.file.mediaType),1)):D(``,!0)])])])]),_:1})]),_:1}))}}),MR=P({__name:`PromptInputAttachments`,props:{class:{}},setup(e){let t=e,{files:n}=QL();return(e,r)=>L(n).length>0?(F(),T(`div`,{key:0,class:E(L(U)(`flex flex-wrap items-center gap-2 p-3 w-full`,t.class))},[(F(!0),T(x,null,_e(L(n),t=>V(e.$slots,`default`,{key:t.id,file:t})),128))],2)):D(``,!0)}}),NR=P({__name:`PromptInputBody`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,M({class:L(U)(`contents`,t.class)},t),[V(e.$slots,`default`)],16))}});const[PR,FR]=Wt(`Command`),[IR,LR]=Wt(`CommandGroup`);var RR=P({__name:`PromptInputFooter`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(tR),M({align:`block-end`,class:L(U)(`justify-between gap-1`,n.class)},n),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`class`]))}}),zR=P({__name:`PromptInputHeader`,props:{class:{}},setup(e){let n=e;return(e,r)=>(F(),l(L(tR),M({align:`block-end`,class:L(U)(`order-first flex-wrap gap-1`,n.class)},n),{default:t(()=>[V(e.$slots,`default`)]),_:3},16,[`class`]))}}),BR=P({__name:`PromptInputSubmit`,props:{class:{},status:{},variant:{default:`default`},size:{default:`icon-sm`}},setup(e){let n=e,r=u(()=>n.status===`submitted`?Ot:n.status===`streaming`?At:n.status===`error`?zt:Nn),i=u(()=>n.status===`submitted`?`size-4 animate-spin`:`size-4`),{status:a,size:o,variant:s,class:c,...d}=n;return(e,a)=>(F(),l(L(nR),M({"aria-label":`Submit`,class:L(U)(n.class),size:L(o),variant:L(s),type:`submit`},d),{default:t(()=>[V(e.$slots,`default`,{},()=>[(F(),l(j(r.value),{class:E(i.value)},null,8,[`class`]))])]),_:3},16,[`class`,`size`,`variant`]))}});function VR(e){switch(e.type){case`code_ref`:{let{fileName:t,startLine:n,endLine:r}=e;return r&&r!==n?`@${t}(${n},${r})`:`@${t}(${n})`}case`error_message`:return`<error_message>${e.message}</error_message>`;case`browser_selector`:return`<browser_selector>${e.selector}</browser_selector>`;case`long_text`:return`<long_text>${e.text}</long_text>`;case`slash_command`:return e.text;default:return``}}function HR(){return new gt({nodes:{doc:{content:`(text|hard_break|tag)*`},text:{group:`inline`},hard_break:{inline:!0,group:`inline`,selectable:!1,parseDOM:[{tag:`br`}],toDOM(){return[`br`]}},tag:{inline:!0,group:`inline`,attrs:{id:{default:``},label:{default:``},icon:{default:``},data:{default:null},tagType:{default:``}},selectable:!1,atom:!0,toDOM(e){let t=e.attrs.tagType||``;return[`span`,{class:t?`prompt-tag tag-${t}`:`prompt-tag`,"data-tag-id":e.attrs.id,"data-label":e.attrs.label},[`span`,{class:`prompt-tag-icon-wrapper`},[`span`,{class:`prompt-tag-icon`},e.attrs.icon||``],[`span`,{class:`prompt-tag-delete`,contenteditable:`false`},``]],[`span`,{class:`prompt-tag-label`},e.attrs.label]]},parseDOM:[{tag:`span.prompt-tag`,getAttrs(e){return{id:e.getAttribute(`data-tag-id`)||``,label:e.getAttribute(`data-label`)||``,icon:e.querySelector(`.prompt-tag-icon`)?.textContent||``}}}]}},marks:{}})}function UR(e,t){let n=[],r=e.nodes.doc,i=e.nodes.hard_break;if(!r)throw Error(`doc node type not found in schema`);if(!t)return r.create(null,[]);let a=t.replace(/\r\n?/g,`
`).split(`
`);return a.forEach((t,r)=>{t.length>0&&n.push(e.text(t)),r<a.length-1&&i&&n.push(i.create())}),r.create(null,n)}function WR(e){return new bt({key:new lt(`pasteHandler`),props:{handlePaste(t,n,r){return!!(e.onPaste&&e.onPaste(t,n))}}})}function GR(e,t=``,n){let r=UR(e,t),i=e.nodes.hard_break,a={...dt,"Mod-z":_t,"Mod-y":mt,"Mod-Shift-z":mt,"Shift-Enter":(e,t)=>!t||!i?!1:(t(e.tr.replaceSelectionWith(i.create()).scrollIntoView()),!0),Enter:()=>!1},o=[yt(),st(a),KR(n?.onTagDelete),qR(),...n?.onPaste?[WR({onPaste:n.onPaste})]:[]];return ft.create({doc:r,plugins:o})}function KR(e){return new bt({key:new lt(`tagDelete`),props:{handleDOMEvents:{click(t,n){let r=n.target;if(r.classList.contains(`prompt-tag-delete`)){n.preventDefault(),n.stopPropagation();let i=r.closest(`.prompt-tag`);if(!i)return!1;let a=i.getAttribute(`data-tag-id`);if(!a)return!1;let{state:o,dispatch:s}=t,c=t.posAtDOM(i,0);if(c==null)return!1;let l=o.doc.resolve(c),u=l.nodeAfter||l.nodeBefore;if(u&&u.type.name===`tag`&&u.attrs.id===a){let t=l.pos-(l.nodeBefore?l.nodeBefore.nodeSize:0);return s(o.tr.delete(t,t+u.nodeSize)),e&&e(a,t),!0}}return!1}}}})}function qR(){return new bt({key:new lt(`selectionHighlight`),props:{decorations(e){let{selection:t}=e;if(t.empty)return vt.empty;let n=[];return e.doc.nodesBetween(t.from,t.to,(e,t)=>{e.type.name===`tag`&&n.push(ht.node(t,t+e.nodeSize,{class:`tag-selected`}))}),vt.create(e.doc,n)}}})}var JR=null,YR=null,XR=null,ZR=!1;function QR(){return new bt({key:new lt(`tagDrag`),view(e){return new $R(e)},props:{handleDOMEvents:{dragstart(e,t){if(!ZR||!JR)return!1;let n=t.target.closest(`.prompt-tag`);if(!n)return!1;t.dataTransfer.effectAllowed=`move`,t.dataTransfer.setData(`application/x-prosemirror-tag`,JR.node.attrs.id);let r=n.cloneNode(!0);return r.style.opacity=`0.5`,r.style.position=`absolute`,r.style.left=`-9999px`,document.body.appendChild(r),t.dataTransfer.setDragImage(r,0,0),setTimeout(()=>document.body.removeChild(r),0),!0}},handleDrop(e,t,n,r){if(!t.dataTransfer?.types.includes(`application/x-prosemirror-tag`))return!1;if(!JR)return ZR=!1,!1;t.preventDefault();let i=YR;if(i===null)return JR=null,YR=null,ZR=!1,!0;let a=JR.node,o=JR.startPos,s=a.nodeSize;JR=null,YR=null,ZR=!1,XR&&(XR.style.opacity=`0`);let c=i;c>o&&(c-=s);let l=e.state.tr.delete(o,o+s).insert(c,a);return e.dispatch(l),!0}}})}var $R=class{editorView;element=null;handlers;constructor(e){this.editorView=e,this.handlers=[`mousedown`,`dragover`,`dragend`,`dragleave`].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}setCursor(e){e!==YR&&(YR=e,e===null?this.element&&(this.element.style.opacity=`0`):this.updateOverlay())}updateOverlay(){if(YR===null)return;let e=this.editorView.coordsAtPos(YR),t=this.editorView.dom,n=t.getBoundingClientRect(),r=n.width/t.offsetWidth,i=n.height/t.offsetHeight,a=this.editorView.dom.offsetParent;this.element||(this.element=document.createElement(`div`),this.element.className=`prosemirror-drop-target`,this.element.style.cssText=`position: absolute; z-index: 50; pointer-events: none; background-color: black;`,a?a.appendChild(this.element):document.body.appendChild(this.element),XR=this.element);let o,s;if(!a||a===document.body&&getComputedStyle(a).position===`static`)o=-window.pageXOffset,s=-window.pageYOffset;else{let e=a.getBoundingClientRect(),t=e.width/a.offsetWidth,n=e.height/a.offsetHeight;o=e.left-a.scrollLeft*t,s=e.top-a.scrollTop*n}this.element.style.left=(e.left-1-o)/r+`px`,this.element.style.top=(e.top-s)/i+`px`,this.element.style.width=2/r+`px`,this.element.style.height=(e.bottom-e.top)/i+`px`,this.element.style.opacity=`1`}mousedown(e){let t=e.target,n=t.closest(`.prompt-tag`);if(!n||t.classList.contains(`prompt-tag-delete`))return;let r=n.getAttribute(`data-tag-id`);if(!r)return;let{state:i}=this.editorView,a=null,o=null;i.doc.descendants((e,t)=>{if(e.type.name===`tag`&&e.attrs.id===r)return a=t,o=e,!1}),a!==null&&o!==null&&(JR={node:o,startPos:a},ZR=!0,n.draggable=!0)}dragover(e){if(!JR)return;e.preventDefault(),e.dataTransfer.dropEffect=`move`;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(!t){this.setCursor(null);return}let n=t.pos,r=JR.startPos+JR.node.nodeSize;if(n>=JR.startPos&&n<=r){this.setCursor(null);return}this.setCursor(n)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}dragend(){this.setCursor(null),JR=null,ZR=!1}};function ez(e){let t=``;return e.doc.descendants(e=>{if(e.isText)t+=e.text||``;else if(e.type.name===`hard_break`)t+=`
`;else if(e.type.name===`tag`){let n=e.attrs.data||{};n.raw?t+=String(n.raw):n.text&&(t+=String(n.text))}}),t}function tz(e){let t=[],n=[];return e.doc.descendants((e,r)=>{if(e.isText)t.push(e.text||``);else if(e.type.name===`hard_break`)t.push(`
`);else if(e.type.name===`tag`){n.push({id:e.attrs.id,label:e.attrs.label,icon:e.attrs.icon,position:r});let i=e.attrs.data||{};i.raw?t.push(String(i.raw)):i.text&&t.push(String(i.text))}}),{text:t.join(``),tags:n}}function nz(e,t,n){let r=UR(t,n);return e.apply(e.tr.replaceWith(0,e.doc.content.size,r.content))}function rz(e,t,n,r){let i=t.nodes.tag;if(!i)throw Error(`tag node type not found in schema`);let a=i.create(n),o,s;if(r!==void 0)o=e.tr,s=r;else{let{from:t,to:n}=e.selection;t===n?(o=e.tr,s=t):(o=e.tr.delete(t,n),s=o.selection.from)}o=o.insert(s,a).insertText(` `,s+a.nodeSize);let c=s+a.nodeSize+1,l=o.doc.resolve(c);try{o=o.setSelection(ut.create(o.doc,c))}catch{o=o.setSelection(ut.near(l,1))}return o=o.scrollIntoView(),o}var iz={class:`prompt-input-editor-wrapper`},az={key:0,class:`prompt-input-placeholder-overlay`},oz=ie(P({__name:`PromptInputEditor`,props:{class:{},placeholder:{default:``}},emits:[`tag-click`],setup(e,{expose:t,emit:n}){let r=e,a=n,{textInput:o,setTextInput:s,submitForm:c,addFiles:l,files:d,removeFile:f}=QL(),m=b(null),h=b(!1),g=b(!1),_=null,v=HR(),y=b(!0),x=Ee(`Control`),S=Ee(`Meta`),C=Ee(`Shift`),w=u(()=>y.value);function O(){if(!_){y.value=!0;return}let e=tz(_.state),t=e.text.trim().length>0,n=e.tags.length>0;y.value=!t&&!n}function k(e){a(`tag-click`,e)}function A(){_?.focus()}function j(){if(!m.value)return;let e=GR(v,o.value||``,{onTagDelete:(e,t)=>{},onPaste:(e,t)=>ee(e,t)});_=new ct(m.value,{state:e,dispatchTransaction(e){if(!_)return;let t=_.state.apply(e);_.updateState(t),O(),g.value||s(ez(t))},attributes:{class:`ProseMirror prompt-input-prosemirror`},editable:()=>!0,nodeViews:{tag(e,t,n){return new M(t,e,n,k)}}});let t=QR(),n=_.state.reconfigure({plugins:[..._.state.plugins,t]});_.updateState(n),O(),_.dom.addEventListener(`keydown`,P),_.dom.addEventListener(`compositionstart`,()=>{h.value=!0}),_.dom.addEventListener(`compositionend`,()=>{h.value=!1})}class M{dom;contentDOM;view;node;getPos;onTagClick;constructor(e,t,n,r){this.view=e,this.node=t,this.getPos=n,this.onTagClick=r,this.dom=document.createElement(`span`);let i=t.attrs.tagType||``;this.dom.className=i?`prompt-tag tag-${i}`:`prompt-tag`,this.dom.setAttribute(`data-tag-id`,t.attrs.id),this.dom.setAttribute(`draggable`,`true`),this.dom.contentEditable=`false`,this.render(),this.attachEvents()}render(){let e=this.node.attrs.icon||``,t=this.node.attrs.label||``,n=this.node.attrs.data||{},r=t;n.type===`code_ref`&&n.raw?r=String(n.raw):n.type===`browser_selector`&&n.selector?r=String(n.selector):n.type===`error_message`&&n.raw?r=String(n.raw):n.type===`long_text`&&n.text&&(r=String(n.text)),r&&(this.dom.title=r);let i=e=>{let t=document.createElement(`div`);return t.textContent=e,t.innerHTML};this.dom.innerHTML=`
      <span class="prompt-tag-icon-wrapper">
        <span class="prompt-tag-icon">${e}</span>
        <span class="prompt-tag-delete" contenteditable="false"></span>
      </span>
      <span class="prompt-tag-label">${i(t)}</span>
    `}attachEvents(){let e=!1,t=this.dom.querySelector(`.prompt-tag-icon-wrapper`);t&&(t.addEventListener(`click`,e=>{e.preventDefault(),e.stopPropagation(),this.deleteTag()}),t.addEventListener(`mousedown`,e=>{e.stopPropagation()})),this.dom.addEventListener(`click`,t=>{t.target.closest(`.prompt-tag-icon-wrapper`)||e||(t.preventDefault(),t.stopPropagation(),this.handleTagClick())}),this.dom.addEventListener(`dragstart`,t=>t.target.closest(`.prompt-tag-icon-wrapper`)?(t.preventDefault(),!1):(e=!0,!0)),this.dom.addEventListener(`dragend`,()=>{setTimeout(()=>{e=!1},100)})}handleTagClick(){let e=this.node.attrs;this.onTagClick({id:e.id||``,label:e.label||``,icon:e.icon,data:e.data||void 0})}deleteTag(){let e=this.getPos();if(e==null)return;let{state:t,dispatch:n}=this.view;n(t.tr.delete(e,e+this.node.nodeSize))}update(e){if(e.type!==this.node.type||e.attrs.id!==this.node.attrs.id)return!1;this.node=e;let t=e.attrs.tagType||``,n=t?`prompt-tag tag-${t}`:`prompt-tag`;return this.dom.className!==n&&(this.dom.className=n),this.render(),!0}destroy(){}selectNode(){this.dom.classList.add(`ProseMirror-selectednode`)}deselectNode(){this.dom.classList.remove(`ProseMirror-selectednode`)}ignoreMutation(){return!0}stopEvent(e){return!(e.type.startsWith(`drag`)||e.type===`drop`)}}function P(e){if(e.key===`Enter`){if(e.ctrlKey||e.metaKey)return;if(o.value.trim()===`/`){e.preventDefault(),te({id:`slash-command-${Date.now()}`,label:`/`,data:{text:`/`,type:`slash_command`},tagType:`command`}),s(``);return}if(ne(e)||h.value||e.shiftKey)return;e.preventDefault(),c()}if(e.key===`Backspace`&&o.value===``&&d.value.length>0){let e=d.value[d.value.length-1];e&&f(e.id)}}function ee(e,t){let n=t.clipboardData?.items;if(!n)return!1;let r=[];for(let e of Array.from(n))if(e.kind===`file`){let t=e.getAsFile();t&&r.push(t)}if(r.length>0)return t.preventDefault(),t.stopPropagation(),l(r),!0;let i=t.clipboardData?.getData(`text/plain`)||``,a=C.value===!0&&(x.value===!0||S.value===!0)||t.clipboardData?.getData(`application/x-raw-paste`)===`1`;if(i.length>100&&!a){t.preventDefault(),t.stopPropagation();let{state:n,dispatch:r}=e;return r(rz(n,v,{id:`paste-long-text-${Date.now()}`,label:i.slice(0,20)+(i.length>30?``:``),data:{text:i,type:`long_text`},tagType:`text`})),!0}return!1}i(()=>o.value,e=>{if(!(!_||g.value)&&ez(_.state)!==e){g.value=!0;let t=nz(_.state,v,e||``);_.updateState(t),O(),g.value=!1}});function te(e){if(!_)return;let{state:t,dispatch:n}=_;n(rz(t,v,e))}function ne(e){if(!_||e.key!==` `&&e.key!==`Enter`)return!1;let t=_.state,{from:n}=t.selection,r=Math.max(0,n-80),i=t.doc.textBetween(r,n,`
`,`
`).match(/(?:^|\s)(\/\S*)$/);if(!i)return!1;let a=i[1];if(!a||a.length===0||a===`/`)return!1;let o=n-a.length,s=n;if(o<0)return!1;let c=t.tr.delete(o,s),l=rz(t.apply(c),v,{id:`slash-command-${Date.now()}`,label:a.slice(1),data:{text:a,type:`slash_command`},tagType:`command`},o);return _.dispatch(l),e.preventDefault(),e.stopPropagation(),!0}return de(()=>{j()}),N(()=>{_&&=(_.dom.removeEventListener(`keydown`,P),_.destroy(),null)}),t({insertTag:te,focus:()=>_?.focus(),blur:()=>_?.dom.blur(),getContent:()=>_?tz(_.state):{text:``,tags:[]}}),(e,t)=>(F(),T(`div`,iz,[R(`div`,{ref_key:`editorContainer`,ref:m,class:E([`prompt-input-editor`,L(U)(`field-sizing-content max-h-48 min-h-16 px-4`,r.class)]),onClick:A},null,2),w.value?(F(),T(`span`,az,p(r.placeholder),1)):D(``,!0)]))}}),[[`__scopeId`,`data-v-3e558896`]]),sz=P({__name:`PromptInputTools`,props:{class:{}},setup(e){let t=e;return(e,n)=>(F(),T(`div`,{class:E(L(U)(`flex items-center gap-1`,t.class))},[V(e.$slots,`default`)],2))}}),cz={class:`font-medium`},lz={class:`flex flex-col gap-1 w-full`},uz={class:`font-medium text-sm`},dz={class:`text-xs text-muted-foreground leading-relaxed`},fz=P({__name:`ModeSelector`,props:{mode:{}},emits:[`update:mode`],setup(n,{emit:r}){let i=n,a=r,o=[{value:`agent`,label:``,description:`Agent `},{value:`chat`,label:``,description:``},{value:`canvas`,label:``,description:``},{value:``,label:``,description:``},{value:``,label:``,description:``}],s=u(()=>o.find(e=>e.value===i.mode)?.label||`Chat`);function c(e){a(`update:mode`,e)}return(r,i)=>(F(),l(L(sR),null,{default:t(()=>[e(L(mR),{"as-child":``},{default:t(()=>[e(L(hR),{class:`gap-1.5 bg-gray-200 hover:bg-gray-300`},{default:t(()=>[e(L(Bn),{class:`w-4 h-4`}),R(`span`,cz,p(s.value),1),e(L(ot),{class:`w-3.5 h-3.5 opacity-50`})]),_:1})]),_:1}),e(L(cR),{align:`start`,class:`min-w-[320px] w-[320px] p-2`},{default:t(()=>[e(L(lR),{class:`px-3 py-2 text-sm font-semibold text-foreground`},{default:t(()=>[...i[0]||=[m(`  `,-1)]]),_:1}),e(L(pR),{class:`my-1`}),e(L(uR),{"model-value":n.mode,class:`flex flex-col gap-1`,"onUpdate:modelValue":c},{default:t(()=>[(F(),T(x,null,_e(o,r=>e(L(fR),{key:r.value,value:r.value,class:E([`flex! flex-col! items-start! gap-1! py-3! px-3! pl-3! rounded-sm! [&>span.absolute]:hidden`,n.mode===r.value?`bg-accent`:``])},{default:t(()=>[R(`div`,lz,[R(`span`,uz,p(r.label),1),R(`span`,dz,p(r.description),1)])]),_:2},1032,[`value`,`class`])),64))]),_:1},8,[`model-value`])]),_:1})]),_:1}))}}),pz=[`onClick`],mz={class:`flex items-center gap-2 min-w-0 flex-1`},hz={class:`truncate font-mono text-sm text-slate-800`},gz={class:`inline-flex items-center rounded-full bg-indigo-50 px-1.5 py-0.5 text-xs text-indigo-600 shrink-0 font-mono font-bold`},_z={class:`bg-white rounded-lg shadow-lg border border-slate-200 flex flex-col md:flex-row`,style:{width:`800px`,"max-height":`600px`,overflow:`hidden`,display:`flex`}},vz={class:`w-full md:w-[35%] border-r border-slate-100 flex flex-col bg-white overflow-hidden`},yz={class:`px-4 py-3 border-b border-slate-50 bg-slate-50/50 flex items-center justify-between`},bz={class:`text-sm font-bold text-slate-700 flex items-center gap-1.5`},xz={class:`flex-1 min-h-0 p-4 space-y-5 overflow-y-auto custom-scrollbar`},Sz={class:`space-y-1`},Cz={class:`space-y-1`},wz=[`value`],Tz={class:`font-mono`},Ez={class:`overflow-y-auto p-1 flex flex-col gap-1`},Dz=[`onMousedown`],Oz={class:`font-semibold mb-0.5`},kz={class:`space-y-4 pt-4 border-t border-slate-50`},Az={class:`space-y-1`},jz={class:`flex justify-between items-center px-0.5`},Mz={class:`text-xs font-mono font-bold text-indigo-600`},Nz={class:`space-y-1`},Pz={class:`flex justify-between items-center px-0.5`},Fz={class:`text-xs font-mono font-bold text-indigo-600`},Iz={class:`space-y-1`},Lz={class:`flex justify-between items-center px-0.5`},Rz={class:`text-xs font-mono font-bold text-indigo-600`},zz={class:`w-full md:w-[65%] flex flex-col bg-slate-50/30 overflow-hidden`},Bz={class:`px-4 py-2.5 border-b border-slate-200 bg-white flex items-center gap-4`},Vz={class:`shrink-0`},Hz={class:`text-sm font-bold text-slate-800`},Uz={class:`flex-1 relative group`},Wz={class:`absolute inset-y-0 left-0 flex items-center pl-2.5 pointer-events-none text-slate-400`},Gz=[`disabled`],Kz={class:`flex-1 min-h-0 overflow-y-auto custom-scrollbar`},qz={key:0,class:`flex flex-col h-full`},Jz={class:`px-4 py-3 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between`},Yz={class:`flex items-center gap-2`},Xz=[`disabled`],Zz=[`disabled`],Qz={class:`flex items-center gap-3`},$z={class:`text-xs text-slate-600`},eB={class:`font-bold text-indigo-600`},tB=[`title`],nB={class:`flex-1 min-h-0 p-4 overflow-y-auto`},rB={key:0,class:`text-center py-8 text-slate-400`},iB={key:1,class:`space-y-2`},aB={class:`mt-0.5 shrink-0`},oB=[`checked`,`onChange`],sB={class:`flex-1 min-w-0`},cB={class:`flex items-center gap-2 mb-1`},lB={key:0,class:`shrink-0 text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity`},uB={key:1,class:`p-3`},dB={key:0,class:`grid grid-cols-1 sm:grid-cols-2 gap-2`},fB=[`onClick`],pB={class:`flex items-start gap-3 relative z-10 w-full`},mB={class:`min-w-0 flex-1 flex flex-col gap-0.5`},hB={class:`flex items-center gap-1.5`},gB=[`title`],_B={key:1,class:`text-[10px] px-1 py-0.5 rounded bg-slate-100 text-slate-400 font-mono`,title:``},vB={class:`shrink-0 mt-1`},yB=[`onClick`],bB={key:0,class:`w-2 h-2 rounded-full bg-indigo-500 ring-2 ring-indigo-200 absolute inset-0 m-auto group-hover:opacity-0 transition-opacity`},xB={key:1,class:`opacity-50`,title:``},SB={key:1,class:`h-full flex flex-col items-center justify-center text-center opacity-60`},CB={class:`text-sm text-slate-500`},wB={class:`px-4 py-2.5 bg-white border-t border-slate-100 flex items-center justify-between`},TB={class:`text-xs text-slate-500`},EB={class:`text-indigo-600 font-bold`},DB={class:`text-xs text-slate-500`},OB={class:`text-indigo-600 font-bold`},kB=ie(P({__name:`ModelConfigPanel`,props:{modelId:{},modelOptions:{},modelConfig:{}},emits:[`update:modelConfig`],setup(n,{emit:r}){let a=n,o=r,s=b(!1),d=b(``),f=b(!1),h=b(a.modelId),g=b(.7),_=b(.9),v=b(4096),y=b({}),S=b(void 0),C=b(a.modelId),w=b(.7),O=b(.9),k=b(4096),A=b({}),j=b(void 0),M=b(`servers`),N=b(null),P=b([]),ee=b(!1),te=[{value:void 0,label:``,description:``},{value:`normal`,label:``,description:``},{value:`hard`,label:``,description:``},{value:`mega`,label:``,description:``},{value:`ultra`,label:``,description:``}],ne=u(()=>te.find(e=>e.value===j.value)||te[0]),re=b(!1),ie=on(),{servers:ae,isLoading:se,serverTools:ce}=fe(ie),{loadServers:le,refreshAllTools:I}=ie,ue=e=>e.config.enabled!==!1&&(ce.value[e.name]||[]).length>0,z=u(()=>{let e=ae.value.filter(e=>e.config.enabled!==!1);if(d.value){let t=d.value.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||(e.config.command||``).toLowerCase().includes(t)||(e.config.url||``).toLowerCase().includes(t))}return e});async function pe(){await I()}function B(e){if(!ue(e))return;let t=e.name,n=(ce.value[t]||[]).map(e=>e.name);A.value[t]?delete A.value[t]:A.value[t]=[...n]}function me(e,t){t.stopPropagation(),ue(e)&&(N.value=e,P.value=[...A.value[e.name]||[]],M.value=`tools`)}function he(){M.value=`servers`,N.value=null}let ge=u(()=>N.value&&ce.value[N.value.name]||[]),ve=u(()=>P.value.length),ye=u(()=>ge.value.length),V=u(()=>ge.value.length>0&&P.value.length===ge.value.length),xe=u(()=>P.value.length>0&&P.value.length<ge.value.length);function Se(e){let t=P.value.indexOf(e);t>-1?P.value.splice(t,1):P.value.push(e)}function Ce(){P.value=ge.value.map(e=>e.name)}function we(){P.value=ge.value.map(e=>e.name).filter(e=>!P.value.includes(e))}function Te(e){return P.value.includes(e)}function Ee(){N.value&&De(N.value.name,[...P.value]),he()}function De(e,t){t.length===0?delete A.value[e]:A.value[e]=[...t]}function Oe(e){return A.value[e]?.length||0}function ke(e){return A.value[e]!==void 0&&A.value[e].length>0}function Ae(){f.value=!0,setTimeout(()=>{f.value=!1},600),w.value=.7,O.value=.9,k.value=4096,j.value=void 0,A.value={}}function je(){h.value=C.value,g.value=w.value,_.value=O.value,v.value=k.value,y.value={...A.value},S.value=j.value,o(`update:modelConfig`,{modelId:C.value,temperature:w.value,topP:O.value,maxTokens:k.value,selectedMcpTools:{...A.value},reasoning:j.value}),s.value=!1}function Me(e){C.value=e}async function Ne(){C.value=h.value,w.value=g.value,O.value=_.value,k.value=v.value,A.value={...y.value},j.value=S.value,await le()}function H(){C.value=h.value,w.value=g.value,O.value=_.value,k.value=v.value,A.value={...y.value},j.value=S.value}i(()=>a.modelId,e=>{h.value=e,s.value||(C.value=e)}),i(()=>a.modelConfig,e=>{e&&(e.reasoning!==void 0&&(S.value=e.reasoning,s.value||(j.value=e.reasoning)),e.temperature!==void 0&&(g.value=e.temperature,s.value||(w.value=e.temperature)),e.topP!==void 0&&(_.value=e.topP,s.value||(O.value=e.topP)),e.maxTokens!==void 0&&(v.value=e.maxTokens,s.value||(k.value=e.maxTokens)),e.selectedMcpTools!==void 0&&(y.value={...e.selectedMcpTools},s.value||(A.value={...e.selectedMcpTools})))},{deep:!0});let Pe=u(()=>Object.keys(A.value).filter(e=>(A.value[e]?.length||0)>0).length),Fe=u(()=>Object.keys(y.value).filter(e=>(y.value[e]?.length||0)>0).length);return de(()=>{h.value=a.modelId,C.value=a.modelId,a.modelConfig?.reasoning!==void 0&&(S.value=a.modelConfig.reasoning,j.value=a.modelConfig.reasoning),a.modelConfig?.selectedMcpTools!==void 0&&(y.value={...a.modelConfig.selectedMcpTools},A.value={...a.modelConfig.selectedMcpTools}),le()}),(r,i)=>(F(),l(an,{show:s.value,"onUpdate:show":i[8]||=e=>{s.value=e,e?Ne():H()},"max-width":900,"min-width":800,position:`bottom`,"show-arrow":!0,"disable-content-scroll":!0,"vertical-flip-only":!0,"viewport-padding":30},{trigger:t(({toggle:t})=>[R(`button`,{type:`button`,class:`w-full inline-flex items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-700 hover:border-indigo-300 hover:bg-slate-50 transition-colors router-model-config-trigger h-8`,onClick:be(e=>t(),[`stop`])},[R(`div`,mz,[e(L(Gn),{class:`w-4 h-4 text-slate-400 shrink-0`}),R(`span`,hz,p(a.modelId||`...`),1),R(`span`,gz,` MCP `+p(Fe.value),1)]),e(L(ot),{class:E([`w-3.5 h-3.5 text-slate-400 shrink-0 ml-2`,{"rotate-180":s.value}])},null,8,[`class`])],8,pz)]),default:t(()=>[R(`div`,_z,[R(`div`,vz,[R(`div`,yz,[R(`h2`,bz,[e(L(Wn),{class:`w-3.5 h-3.5 text-indigo-500`}),i[9]||=m(`  `,-1)]),R(`button`,{onClick:Ae,class:`p-1.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors`,title:``},[e(L(Un),{class:E([`w-4 h-4`,{"rotate-icon":f.value}])},null,8,[`class`])])]),R(`div`,xz,[R(`div`,Sz,[i[10]||=R(`label`,{class:`text-sm font-bold text-slate-400 uppercase tracking-tighter mb-1 block`},``,-1),e(Rt,{"model-value":C.value,options:n.modelOptions,placeholder:`...`,"onUpdate:modelValue":Me},null,8,[`model-value`,`options`])]),R(`div`,Cz,[i[11]||=R(`label`,{class:`text-sm font-bold text-slate-400 uppercase tracking-tighter mb-1 block`},``,-1),e(an,{show:re.value,verticalFlipOnly:!0,"viewport-padding":30,"onUpdate:show":i[2]||=e=>re.value=e},{trigger:t(()=>[R(`div`,{class:`relative w-full font-mono`,onClick:i[1]||=be(()=>{},[`stop`])},[R(`input`,{type:`text`,readonly:``,value:ne.value.label,class:E([`w-full input-base router-model-select__input pr-9 text-left cursor-pointer`,{"text-slate-400":!j.value}]),placeholder:`...`,onClick:i[0]||=be(e=>re.value=!re.value,[`stop`])},null,10,wz),e(L(ot),{class:E([`absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 shrink-0 pointer-events-none`,{"rotate-180":re.value}])},null,8,[`class`])])]),default:t(()=>[R(`div`,Tz,[R(`div`,Ez,[(F(),T(x,null,_e(te,e=>R(`div`,{key:e.value??`none`,class:E([`px-3 py-2 text-xs rounded-md cursor-pointer transition-colors`,{"bg-indigo-50 text-indigo-700 font-medium":j.value===e.value,"hover:bg-slate-100 text-slate-700":j.value!==e.value}]),onMousedown:be(t=>{j.value=e.value,re.value=!1},[`prevent`,`stop`])},[R(`div`,Oz,p(e.label),1),R(`div`,{class:E([`text-xs text-slate-500 leading-relaxed`,{"text-indigo-600":j.value===e.value}])},p(e.description),3)],42,Dz)),64))])])]),_:1},8,[`show`])]),R(`div`,kz,[R(`div`,Az,[R(`div`,jz,[i[12]||=R(`span`,{class:`text-xs font-bold text-slate-600`},`Temperature`,-1),R(`span`,Mz,p(w.value),1)]),oe(R(`input`,{type:`range`,"onUpdate:modelValue":i[3]||=e=>w.value=e,min:`0`,max:`2`,step:`0.1`,class:`w-full h-1 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-indigo-600`},null,512),[[c,w.value,void 0,{number:!0}]]),i[13]||=R(`div`,{class:`flex justify-between`},[R(`span`,{class:`text-xs text-slate-400`},``)],-1)]),R(`div`,Nz,[R(`div`,Pz,[i[14]||=R(`span`,{class:`text-xs font-bold text-slate-600`},`Top P`,-1),R(`span`,Fz,p(O.value),1)]),oe(R(`input`,{type:`range`,"onUpdate:modelValue":i[4]||=e=>O.value=e,min:`0`,max:`1`,step:`0.05`,class:`w-full h-1 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-indigo-600`},null,512),[[c,O.value,void 0,{number:!0}]]),i[15]||=R(`div`,{class:`flex justify-between`},[R(`span`,{class:`text-xs text-slate-400`},``)],-1)]),R(`div`,Iz,[R(`div`,Lz,[i[16]||=R(`span`,{class:`text-xs font-bold text-slate-600`},`Max Tokens`,-1),R(`span`,Rz,p(k.value),1)]),oe(R(`input`,{type:`range`,"onUpdate:modelValue":i[5]||=e=>k.value=e,min:`256`,max:`16384`,step:`256`,class:`w-full h-1 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-indigo-600`},null,512),[[c,k.value,void 0,{number:!0}]]),i[17]||=R(`div`,{class:`flex justify-between`},[R(`span`,{class:`text-xs text-slate-400`},``)],-1)])])])]),R(`div`,zz,[R(`div`,Bz,[M.value===`tools`&&N.value?(F(),T(x,{key:0},[R(`button`,{onClick:he,class:`p-1.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors shrink-0`,title:``},[e(L(wn),{class:`w-4 h-4`})]),R(`div`,Vz,[R(`h2`,Hz,` MCP  - `+p(N.value.name),1)])],64)):(F(),T(x,{key:1},[i[18]||=R(`div`,{class:`shrink-0`},[R(`h2`,{class:`text-sm font-bold text-slate-800`},`MCP `)],-1),R(`div`,Uz,[R(`span`,Wz,[e(L(Lt),{class:`w-3.5 h-3.5`})]),oe(R(`input`,{"onUpdate:modelValue":i[6]||=e=>d.value=e,type:`text`,placeholder:`...`,class:`w-full bg-slate-100 border-none rounded-md py-1.5 pl-8 pr-4 text-sm focus:bg-white focus:ring-1 focus:ring-indigo-500/30 transition-all outline-none`},null,512),[[c,d.value]])]),R(`button`,{onClick:pe,disabled:L(se),class:`p-1.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,title:` MCP `},[e(L(Hn),{class:E([`w-4 h-4`,{"animate-spin":L(se)}])},null,8,[`class`])],8,Gz),i[19]||=R(`div`,{class:`flex items-center gap-1.5 text-sm font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded`},[R(`span`,{class:`w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse`}),m(`  `)],-1)],64))]),R(`div`,Kz,[M.value===`tools`&&N.value?(F(),T(`div`,qz,[R(`div`,Jz,[R(`div`,Yz,[R(`button`,{onClick:Ce,class:`px-3 py-1.5 text-xs font-medium text-slate-700 bg-white border border-slate-200 rounded-md hover:bg-slate-50 hover:border-indigo-300 transition-colors flex items-center gap-1.5`,disabled:ge.value.length===0},[V.value?(F(),l(L(It),{key:0,class:`w-3.5 h-3.5`})):xe.value?(F(),l(L(At),{key:1,class:`w-3.5 h-3.5`})):(F(),l(L(At),{key:2,class:`w-3.5 h-3.5`})),i[20]||=m(`  `,-1)],8,Xz),R(`button`,{onClick:we,class:`px-3 py-1.5 text-xs font-medium text-slate-700 bg-white border border-slate-200 rounded-md hover:bg-slate-50 hover:border-indigo-300 transition-colors`,disabled:ge.value.length===0},`  `,8,Zz)]),R(`div`,Qz,[R(`div`,$z,[i[21]||=m(` : `,-1),R(`span`,eB,p(ve.value)+`/`+p(ye.value),1)]),R(`button`,{onClick:i[7]||=e=>ee.value=!ee.value,class:`px-3 py-1.5 text-xs font-medium text-slate-700 bg-white border border-slate-200 rounded-md hover:bg-slate-50 hover:border-indigo-300 transition-colors flex items-center gap-1.5`,title:ee.value?``:``},[ee.value?(F(),l(L(In),{key:0,class:`w-3.5 h-3.5`})):(F(),l(L(Fn),{key:1,class:`w-3.5 h-3.5`})),R(`span`,null,p(ee.value?``:``),1)],8,tB)])]),R(`div`,nB,[ge.value.length===0?(F(),T(`div`,rB,[...i[22]||=[R(`p`,{class:`text-sm`},``,-1)]])):(F(),T(`div`,iB,[(F(!0),T(x,null,_e(ge.value,t=>(F(),T(`label`,{key:t.name,class:E([`flex items-start gap-3 p-3 rounded-lg border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50/30 cursor-pointer transition-all group`,{"border-indigo-400 bg-indigo-50/50":Te(t.name)}])},[R(`div`,aB,[R(`input`,{type:`checkbox`,checked:Te(t.name),onChange:e=>Se(t.name),class:`w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500 cursor-pointer`},null,40,oB)]),R(`div`,sB,[R(`div`,cB,[R(`span`,{class:E([`text-sm font-semibold text-slate-800 font-mono`,{"text-indigo-700":Te(t.name)}])},p(t.name),3)]),ee.value&&t.description?(F(),T(`p`,{key:0,class:E([`text-xs text-slate-500 leading-relaxed`,{"text-indigo-600/70":Te(t.name)}])},p(t.description),3)):D(``,!0)]),Te(t.name)?(F(),T(`div`,lB,[e(L(Re),{class:`w-4 h-4`})])):D(``,!0)],2))),128))]))])])):(F(),T(`div`,uB,[z.value.length>0?(F(),T(`div`,dB,[(F(!0),T(x,null,_e(z.value,t=>(F(),T(`div`,{key:t.name,onClick:e=>B(t),class:E([`p-3 rounded-lg border transition-all group relative overflow-hidden`,ue(t)?`cursor-pointer`:`cursor-not-allowed opacity-50`,ke(t.name)?`border-indigo-500 bg-indigo-50/30 shadow-[0_0_0_1px_rgba(99,102,241,0.2)]`:ue(t)?`border-slate-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/10 shadow-sm hover:shadow-md`:`border-slate-200 bg-slate-50 shadow-sm`])},[R(`div`,pB,[R(`div`,{class:E([`shrink-0 p-2 rounded-md transition-all`,ke(t.name)?`bg-indigo-100 text-indigo-600`:ue(t)?`bg-slate-100 text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-500`:`bg-slate-100 text-slate-300`])},[e(L(St),{class:E([`w-4 h-4 transition-transform`,{"rotate-12":ke(t.name)&&ue(t),"group-hover:rotate-12":ue(t)}])},null,8,[`class`])],2),R(`div`,mB,[R(`div`,hB,[R(`h4`,{class:E([`text-sm font-semibold truncate leading-tight transition-colors`,ke(t.name)?`text-indigo-700`:ue(t)?`text-slate-700 group-hover:text-slate-900`:`text-slate-400`])},p(t.name),3),ue(t)?(F(),T(`span`,{key:0,class:E([`text-[10px] px-1 py-0.5 rounded font-mono font-bold`,ke(t.name)?`bg-indigo-100 text-indigo-700`:`bg-emerald-50 text-emerald-600`]),title:ke(t.name)?` ${Oe(t.name)}/${(L(ce)[t.name]||[]).length}`:``},p(ke(t.name)?`${Oe(t.name)}/${(L(ce)[t.name]||[]).length}`:(L(ce)[t.name]||[]).length),11,gB)):(F(),T(`span`,_B,` 0 `))]),R(`p`,{class:E([`text-xs truncate leading-tight transition-colors`,ke(t.name)?`text-indigo-500/70`:ue(t)?`text-slate-400 group-hover:text-slate-500`:`text-slate-300`])},p(t.config.command||t.config.url||`MCP `),3)]),R(`div`,vB,[ue(t)?(F(),T(`button`,{key:0,onClick:e=>me(t,e),class:`relative p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-all`,title:``},[ke(t.name)?(F(),T(`div`,bB)):D(``,!0),e(L(Tn),{class:`w-3.5 h-3.5 absolute inset-0 m-auto opacity-0 group-hover:opacity-100 transition-opacity`})],8,yB)):(F(),T(`div`,xB,[...i[23]||=[R(`div`,{class:`w-2 h-2 rounded-full bg-slate-300`},null,-1)]]))])])],10,fB))),128))])):(F(),T(`div`,SB,[R(`p`,CB,p(L(se)?`...`:``),1)]))]))]),R(`div`,wB,[M.value===`tools`?(F(),T(x,{key:0},[R(`div`,TB,[i[24]||=m(`  `,-1),R(`span`,EB,p(ve.value),1)]),R(`button`,{onClick:Ee,class:`px-4 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded shadow-sm transition-all active:scale-95`},`  `)],64)):(F(),T(x,{key:1},[R(`div`,DB,[i[25]||=m(`  `,-1),R(`span`,OB,p(Pe.value),1)]),R(`button`,{onClick:je,class:`px-4 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded shadow-sm transition-all active:scale-95`},`  `)],64))])])])]),_:1},8,[`show`]))}}),[[`__scopeId`,`data-v-0c799981`]]);function AB(e,t,n,r=`chat-selected-model-id`){let a=Ae(r,``,{writeDefaults:!1}),o=t=>t?e.value.includes(t):!1,s=()=>e.value.length>0&&e.value[0]||``,c=e=>{if(o(e))a.value=e,n(e);else{let e=s();e&&(a.value=e,n(e))}};de(()=>{e.value.length>0&&l()});let l=()=>{let e=a.value?.trim(),n=t.value?.trim();if(e&&o(e))e!==n&&c(e);else if(n&&o(n))a.value=n;else{let e=s();e&&c(e)}};return i(e,e=>{e.length!==0&&l()},{immediate:!0}),{selectModel:c,isValidModel:o,getFirstAvailableModel:s}}var jB={class:`flex-1 min-w-[200px] max-w-[400px]`},MB={class:`flex items-center gap-2`},NB=P({__name:`ChatInput`,props:{mode:{},modelId:{},status:{},useWebSearch:{type:Boolean},useMicrophone:{type:Boolean},providers:{},hasMessages:{type:Boolean},modelConfig:{},canAbort:{type:Boolean}},emits:[`submit`,`abort`,`update:mode`,`update:modelId`,`update:useWebSearch`,`update:useMicrophone`,`update:modelConfig`,`tag-click`],setup(n,{expose:r,emit:a}){let o=n,s=a,c=u(()=>{let e=[];return(o.providers||[]).forEach(t=>{t.enabled!==!1&&t.models&&t.models.forEach(n=>{e.push(`${t.name},${n}`)})}),e.sort()}),{selectModel:d}=AB(c,u(()=>o.modelId),e=>s(`update:modelId`,e)),f=b(o.modelConfig||{modelId:o.modelId,temperature:.7,topP:.9,maxTokens:4096,selectedMcpTools:{}});i(()=>o.modelConfig,e=>{e&&(f.value={...e})},{deep:!0});let p=b(null),m=P({setup(){let{openFileDialog:e}=QL();return()=>z(hR,{onClick:e},{default:()=>[z(zn,{class:`w-4 h-4`}),z(`span`,{class:`sr-only`},``)]})}});function h(e){s(`submit`,e)}function g(e){f.value=e,s(`update:modelConfig`,e),e.modelId&&e.modelId!==o.modelId&&d(e.modelId)}function _(){s(`update:useMicrophone`,!o.useMicrophone)}function v(e){s(`tag-click`,e)}function y(){s(`abort`)}return r({promptInputEditorRef:p}),(r,i)=>(F(),T(`div`,{class:E([`w-full px-4`,n.hasMessages?`md:px-6`:`pb-0`])},[e(L(oR),{class:`w-full`,multiple:``,"global-drop":``,onSubmit:h},{default:t(()=>[e(L(zR),null,{default:t(()=>[e(L(MR),null,{default:t(({file:t})=>[e(L(jR),{file:t},null,8,[`file`])]),_:1})]),_:1}),e(L(NR),null,{default:t(()=>[e(L(oz),{ref_key:`promptInputEditorRef`,ref:p,onTagClick:v},null,512)]),_:1}),e(L(RR),null,{default:t(()=>[e(L(sz),null,{default:t(()=>[e(fz,{mode:n.mode,"onUpdate:mode":i[0]||=e=>s(`update:mode`,e)},null,8,[`mode`]),R(`div`,jB,[e(kB,{"model-id":n.modelId,"model-options":c.value,"model-config":f.value,"onUpdate:modelConfig":g},null,8,[`model-id`,`model-options`,`model-config`])])]),_:1}),R(`div`,MB,[e(L(m)),e(L(hR),{variant:n.useMicrophone?`default`:`ghost`,onClick:_},{default:t(()=>[e(L(gn),{class:`w-4 h-4`}),i[2]||=R(`span`,{class:`sr-only`},`Microphone`,-1)]),_:1},8,[`variant`]),e(L(hR),{variant:n.useWebSearch?`default`:`ghost`,onClick:i[1]||=e=>s(`update:useWebSearch`,!n.useWebSearch)},{default:t(()=>[e(L(Rn),{class:`w-4 h-4`})]),_:1},8,[`variant`]),n.canAbort?D(``,!0):(F(),l(L(BR),{key:0,disabled:n.status===`streaming`,status:n.status},null,8,[`disabled`,`status`])),n.canAbort?(F(),T(`button`,{key:1,onClick:y,class:`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all bg-red-500 text-white hover:bg-red-600 text-white h-8 px-3`},[e(L(At),{class:`w-4 h-4`}),i[3]||=R(`span`,null,``,-1)])):D(``,!0)])]),_:1})]),_:1})],2))}}),PB={key:0,class:`shrink-0 w-2/3 h-full flex flex-col overflow-hidden p-2`},FB={class:`h-full w-full`},IB=ie(P({__name:`CanvasPanel`,props:{show:{type:Boolean},readonly:{type:Boolean},codeHistory:{},codeVersion:{}},emits:[`update:show`,`error`,`element-selected`,`ctrl-i-pressed`,`diff-exited`,`error-fix`],setup(n,{expose:r,emit:a}){let o=n,s=a,c=b(null),{eventBus:l}=te();i(()=>[o.codeVersion,o.codeHistory],async([e,t])=>{if(!(e===void 0||!t||!c.value)&&t.versions&&t.versions.length>0)try{await se(),c.value.setHistory(t),await se()}catch(e){console.error(`:`,e),s(`error`,e instanceof Error?e.message:``)}},{immediate:!0,deep:!0}),i(c,async(e,t)=>{if(!(!e||t!==null)&&!(o.codeVersion===void 0||!o.codeHistory)&&o.codeHistory.versions&&o.codeHistory.versions.length>0)try{await se(),e.setHistory(o.codeHistory),await se()}catch(e){console.error(`:`,e),s(`error`,e instanceof Error?e.message:``)}},{immediate:!1});function u(e){s(`error`,e),c.value&&typeof c.value.setError==`function`&&c.value.setError(e)}function d(e,t){s(`element-selected`,e,t)}function f(e){s(`ctrl-i-pressed`,e)}function p(e,t){s(`diff-exited`,e,t)}function m(){s(`update:show`,!1)}let h=e=>{if(!c.value||!e?.code)return;let t=c.value.getCurrentCode()||``;typeof c.value.diff==`function`&&c.value.diff(e.code,t)};de(()=>{l.on(`codeblock:apply-diff`,h)}),N(()=>{l.off(`codeblock:apply-diff`,h)});function g(){c.value&&typeof c.value.setError==`function`&&c.value.setError(``),c.value&&typeof c.value.refreshPreview==`function`&&c.value.refreshPreview()}return r({immersiveCodeRef:c,getCurrentCode:()=>c.value?.getCurrentCode()||``,getHistory:()=>c.value?.getHistory(),setHistory:e=>{c.value&&c.value.setHistory(e)},fixError:g}),(r,i)=>n.show?(F(),T(`div`,PB,[R(`div`,FB,[e(L(wt),{ref_key:`immersiveCodeRef`,ref:c,"enable-share":!1,readonly:n.readonly,"initial-code":``,onError:u,onElementSelected:d,onCtrlIPressed:f,onDiffExited:p,onErrorFix:i[0]||=()=>s(`error-fix`),class:`immersive-code-full-height`},{"right-actions":t(()=>[R(`button`,{onClick:m,class:`p-1.5 text-slate-400 hover:text-slate-600 transition rounded`,title:``},[e(L(zt),{class:`w-4 h-4`})])]),_:1},8,[`readonly`])])])):D(``,!0)}}),[[`__scopeId`,`data-v-c6caf8e1`]]),LB={class:`h-full w-full overflow-hidden flex flex-col`},RB={class:`flex h-full w-full`},zB={class:`relative flex h-full w-full flex-1 overflow-hidden`},BB=`<svg t="1766773646500" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15057"><path d="M693.302681 34.952265c68.210189-34.105094 170.11621-57.637609 242.07796 0 71.961749 57.637609 46.723979 186.350235 30.762795 204.630566 9.071955-27.897967 27.352286-128.576206-41.471795-181.711943-63.162635-48.702075-176.459758-27.284075-247.466564 29.193961a409.329342 409.329342 0 0 1 283.276913 459.532041L666.018606 546.52868l0.06821-0.682102a34.241515 34.241515 0 0 1-6.821019 0.682102h-238.73566v13.642037A122.77834 122.77834 0 0 0 653.19509 614.738868h289.552251a409.397552 409.397552 0 0 1-472.833027 263.632379c-72.3028 76.668252-302.580397 199.173751-376.997713 25.30598-24.964929-58.387921-13.573828-209.337069 54.636361-323.043453 30.421744-50.68017 70.392915-103.543066 115.002378-155.51923 55.045622-74.553736 115.88911-137.37532 182.598675-188.532962 9.344796-8.730904 18.689592-17.257178 27.829757-25.64703L488.808536 205.477736c-129.735779 43.24526-259.403347 132.327766-336.958332 214.793884a409.261132 409.261132 0 0 1 481.495722-344.120401C661.380313 54.73322 682.525472 40.40908 693.302681 34.952265zM188.069814 655.869612l-1.773465 2.933038c-33.150152 56.205195-62.821584 182.121204-38.675177 244.874577 44.200202 114.797747 227.139928 38.879808 314.31255-27.284075A409.943234 409.943234 0 0 1 188.001604 655.937822zM543.240266 273.687925a122.77834 122.77834 0 0 0-122.369078 112.683232l-0.409261 10.095108V410.108302h238.73566c2.387357 0 4.706503 0.272841 6.889229 0.682102V396.466265a122.77834 122.77834 0 0 0-112.751442-122.369079L543.240266 273.687925z" fill="currentColor" p-id="15058"></path></svg>`,VB=`<svg t="1766772789014"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5023"><path d="M89.088 59.392l62.464 803.84c1.024 12.288 9.216 22.528 20.48 25.6L502.784 993.28c6.144 2.048 12.288 2.048 18.432 0l330.752-104.448c11.264-4.096 19.456-14.336 20.48-25.6l62.464-803.84c1.024-17.408-12.288-31.744-29.696-31.744H118.784c-17.408 0-31.744 14.336-29.696 31.744z" fill="#FC490B" p-id="5024"></path><path d="M774.144 309.248h-409.6l12.288 113.664h388.096l-25.6 325.632-227.328 71.68-227.328-71.68-13.312-169.984h118.784v82.944l124.928 33.792 123.904-33.792 10.24-132.096H267.264L241.664 204.8h540.672z" fill="#FFFFFF" p-id="5025"></path></svg>`,HB=ie(P({__name:`ChatPanel`,props:{providers:{},currentTab:{}},emits:[`clear`],setup(n,{emit:r}){let a=r,{activeConversation:o,activeMessages:s,sidebarConversations:c,activeConversationId:d,sidebarCollapsed:f,createConversation:p,sendMessage:m,selectConversation:h,deleteConversation:g,toggleSidebar:_,updateMode:v,updateCodeHistory:y,clearActiveConversationMessages:S,clearActiveConversation:C}=ki(),{pushToast:w}=ve(),{eventBus:O}=te(),k=Di(),A=Ei(),j=b(`chat`),M=b(``),N=b(!1),P=b(!1),ee=b(`ready`),ne=b(!1),re=b(!1),ie=b(!0),ae=b(!1),oe=b(null),le=b(null),I=b({modelId:M.value,temperature:.7,topP:.9,maxTokens:4096,selectedMcpTools:{}}),ue=b(null),z=b(null),pe=b(null),{layoutConfig:B}=Ai(pe),me=[`hello world `,` https://yunwu.apifox.cn/llms.txt `,``,` hello world `],he=u(()=>(s.value?.length||0)>0);i(()=>M.value,e=>{e&&I.value.modelId!==e&&(I.value.modelId=e)}),i(()=>I.value.modelId,e=>{e&&M.value!==e&&(M.value=e)}),i([d,o],async([e,t])=>{if(!(!e||!t)&&(ae.value=!1,t.mode&&t.mode!==j.value&&(j.value=t.mode,await se()),j.value===`canvas`&&t.codeHistory&&t.codeHistory.versions&&t.codeHistory.versions.length>0)){ne.value=!0;let e=0;for(;e<50&&!z.value;)await se(),await new Promise(e=>setTimeout(e,50)),e++}},{immediate:!0}),i(j,async e=>{e===`canvas`?ie.value=!0:ne.value=!1,d.value&&v(d.value,e)}),i(()=>[o.value?.codeVersion,o.value?.codeHistory,j.value],([e,t,n])=>{n===`canvas`&&(e!==void 0&&t?(ne.value=t.versions&&t.versions.length>0||!1,A.sidebarCollapsed=!0):ne.value=!1)},{immediate:!0});let{serverTools:ge}=fe(on());function ye(){let e=I.value,t=e.modelId||M.value,n=e.selectedMcpTools||{},r={};for(let[e,t]of Object.entries(n)){if(!t||t.length===0)continue;let n=ge.value[e]||[];n.length>0&&t.length===n.length?r[e]=n.map(e=>e.name).every(e=>t.includes(e))?`all`:t:r[e]=t}return{activeModelId:t,extensionConfig:e.temperature!==void 0||e.topP!==void 0||e.maxTokens!==void 0||e.reasoning!==void 0||Object.keys(r).length>0?{...e.temperature!==void 0&&{temperature:e.temperature},...e.topP!==void 0&&{topP:e.topP},...e.maxTokens!==void 0&&{maxTokens:e.maxTokens},...e.reasoning!==void 0&&{reasoning:e.reasoning},...Object.keys(r).length>0&&{tools:r}}:void 0}}async function V(e){let t=e.text.trim(),n=t.length>0,r=e.files.length>0;if(!n&&!r)return;let i=n?t:`Sent with attachments`,a=e.files.map(e=>({url:e.url,filename:e.filename,mediaType:e.mediaType})),{activeModelId:c,extensionConfig:l}=ye(),u=!d.value||!o.value||(s.value?.length||0)===0;try{oe.value=new AbortController,ee.value=`streaming`,u?le.value=(await p({initialInput:i,mode:j.value,model:c,files:a,config:l,editorCode:j.value===`canvas`?z.value?.getCurrentCode():void 0,abortSignal:oe.value.signal})).requestId:le.value=(await m(d.value,{content:i,mode:j.value,model:c,files:a,config:l,editorCode:j.value===`canvas`?z.value?.getCurrentCode():void 0,abortSignal:oe.value.signal})).requestId}catch(e){e instanceof Error&&e.name===`AbortError`?w(``,`info`):w(u?`: ${e instanceof Error?e.message:``}`:`: ${e instanceof Error?e.message:``}`,`error`)}finally{ee.value=`ready`}}async function be(e){let t=s.value||[],n=t.find(t=>t.key===e);if(!n||n.from!==`assistant`){console.warn(`: `,e);return}let r=t.findIndex(t=>t.key===e);if(r===-1||r===0){w(`: `,`error`);return}let i;for(let e=r-1;e>=0&&e<t.length;e--){let n=t[e];if(n&&n.from===`user`){i=n;break}}if(!i){w(`: `,`error`);return}let a=i.versions[i.versions.length-1];if(!a){w(`: `,`error`);return}let o=a.files?.map(e=>({url:e.url,filename:e.filename,mediaType:e.mediaType}));if(!d.value){w(`: `,`error`);return}let{activeModelId:c,extensionConfig:l}=ye();try{oe.value=new AbortController,ee.value=`streaming`,le.value=(await m(d.value,{content:a.contentBlocks.map(e=>e.type===`text`?e.content:``).join(`
`),mode:j.value,model:c,files:o,messageKey:e,config:l,editorCode:j.value===`canvas`?z.value?.getCurrentCode():void 0,abortSignal:oe.value.signal})).requestId}catch(e){e instanceof Error&&e.name===`AbortError`?w(``,`info`):w(`: ${e instanceof Error?e.message:``}`,`error`)}finally{ee.value=`ready`}}function xe(e){if(e.data?.code&&e.data?.startLine&&e.data?.endLine){let{code:t,startLine:n,endLine:r}=e.data;ne.value||=!0;let i=z.value?.immersiveCodeRef;i&&typeof i==`object`&&`setCodeAndSelectLines`in i&&i.setCodeAndSelectLines(t,n,r)}if(e.data?.type===`browser_selector`||e.data?.selector||e.icon&&typeof e.icon==`string`&&e.icon.includes(`browser`)){let t=e.data?.selector||e.data?.text||e.label;if(!t)return;ne.value||=!0;let n=z.value?.immersiveCodeRef;n&&typeof n==`object`&&`selectElementInPreview`in n&&n.selectElementInPreview(t)}}function Se(e,t){let n=ue.value?.promptInputEditorRef;if(n&&typeof n==`object`&&`insertTag`in n){let r=VR({type:`browser_selector`,selector:e,label:t?.tagName});n.insertTag({id:`element-ref-${Date.now()}`,label:t?.tagName||`Element`,icon:BB,tagType:`browser`,data:{type:`browser_selector`,selector:e,tagName:t?.tagName,raw:r}})}}function Ce(e){let t=ue.value?.promptInputEditorRef;if(t&&typeof t==`object`&&`insertTag`in t){let n=e.fileName||`index.html`,r=e.startLine===e.endLine?`${e.startLine}`:`${e.startLine}-${e.endLine}`,i=VR({type:`code_ref`,fileName:n,startLine:e.startLine,endLine:e.endLine});t.insertTag({id:`code-ref-${Date.now()}`,label:`${n}(${r})`,icon:VB,data:{type:`code_ref`,raw:i,code:e.code,startLine:e.startLine,endLine:e.endLine,fileName:n}})}}function we(){S(),a(`clear`)}async function Te(){if(!(!le.value||!d.value))try{await k.abortRequest(d.value,le.value)}catch(e){console.error(`:`,e)}finally{oe.value=null,le.value=null,ee.value=`ready`}}let Ee=b(null),De=b(null);de(()=>{O.on(`message:complete`,()=>{oe.value&&=null,le.value&&=null,ee.value=`ready`,ae.value=!1}),O.on(`message:streaming`,()=>{ee.value=`streaming`}),O.on(`conversation:loaded`,e=>{e.conversation.mode&&e.conversation.mode!==j.value&&(j.value=e.conversation.mode)}),O.on(`canvas:code_delta`,e=>{if(e.conversationId!==d.value||!z.value?.immersiveCodeRef)return;let t=z.value.immersiveCodeRef;!ae.value&&t&&typeof t.addMajorVersion==`function`&&(t.addMajorVersion(``,void 0),ae.value=!0),t&&typeof t.startStreaming==`function`&&t.startStreaming(),t&&typeof t.streamWrite==`function`&&t.streamWrite(e.code)}),O.on(`canvas:diff_detected`,e=>{if(e.conversationId!==d.value||!z.value?.immersiveCodeRef)return;let t=z.value.immersiveCodeRef;Ee.value=e.recordId,De.value=e.originalCode||null;let n=e.originalCode||t.getCurrentCode?.()||``;t&&typeof t.addMajorDiffVersion==`function`&&e.recordId&&t.addMajorDiffVersion(n,e.diff,e.recordId)}),O.on(`canvas:show_editor`,e=>{e.conversationId===d.value&&(ne.value=!0)}),O.on(`canvas:code_complete`,e=>{if(e.conversationId!==d.value||!z.value?.immersiveCodeRef)return;let t=z.value.immersiveCodeRef;e.codeType===`full`&&e.code&&t.endStreaming(),ae.value=!1}),O.on(`canvas:record_created`,e=>{e.conversationId,d.value})});async function Oe(e,t){if(!(!d.value||!e))try{await k.applyCanvasDiff(d.value,e,t),w(``,`success`)}catch(e){console.error(`:`,e),w(`: ${e instanceof Error?e.message:``}`,`error`)}}function ke(e,t){let n=t||Ee.value;if(!n){console.warn(`diff-exited  recordId`,{eventRecordId:t,currentRecordId:Ee.value});return}Oe(n,e)}let Ae=b(null);function je(e){return e?`Please fix the errors in the current code. The error message is as follows:

<error_message>
${e}
</error_message>

Please analyze the error message and correct the code to ensure it runs correctly.`:`Please fix the errors in the current code to ensure it runs correctly.`}function Me(e){ee.value!==`streaming`&&(Ae.value=e,z.value?.immersiveCodeRef&&typeof z.value.immersiveCodeRef.setError==`function`&&z.value.immersiveCodeRef.setError(e))}function Ne(){let e=Ae.value;Ae.value=null,z.value?.immersiveCodeRef&&typeof z.value.immersiveCodeRef.setError==`function`&&z.value.immersiveCodeRef.setError(null),V({text:je(e),files:[]})}i([d,o],async([e,t])=>{if(!(!e||!t||t.mode!==`canvas`))try{y(e,(await k.fetchCanvas(e))?.codeHistory)}catch(t){console.error(` Canvas :`,t),y(e,void 0)}},{immediate:!0}),ce(()=>{O.off(`message:complete`),O.off(`message:streaming`),O.off(`conversation:loaded`),O.off(`canvas:code_delta`),O.off(`canvas:diff_detected`),O.off(`canvas:show_editor`),O.off(`canvas:code_complete`),O.off(`canvas:record_created`)});function H(){if(!(!d.value||j.value!==`canvas`)&&z.value)try{let e=z.value.getHistory();if(e&&e.versions.length>0){let t={versions:e.versions.map(e=>{let t=e.records.filter(e=>e.isStreamingRecord===!0);if(t.length>0){let n=t[t.length-1];if(n)return{id:e.id,timestamp:e.timestamp,label:e.label,records:[{id:n.id,code:n.code,diffTarget:n.diffTarget,timestamp:n.timestamp}],currentIndex:0}}return null}).filter(e=>e!==null),currentVersionIndex:e.currentVersionIndex};t.versions.length>0&&y(d.value,t)}}catch(e){console.error(`:`,e)}}return i(d,(e,t)=>{t&&j.value===`canvas`&&H()}),(r,i)=>(F(),T(`div`,LB,[e(Mi,{"current-tab":n.currentTab||`chat`,"has-messages":he.value,onClear:we},null,8,[`current-tab`,`has-messages`]),R(`div`,RB,[e(Ui,{"sidebar-collapsed":L(f),conversations:L(c),"active-conversation-id":L(d),"onToggle:sidebar":L(_),"onConversation:new":L(C),"onConversation:select":L(h),"onConversation:delete":L(g)},null,8,[`sidebar-collapsed`,`conversations`,`active-conversation-id`,`onToggle:sidebar`,`onConversation:new`,`onConversation:select`,`onConversation:delete`]),R(`div`,zB,[j.value===`canvas`&&!ne.value?(F(),T(`button`,{key:0,class:`absolute right-6 top-5 z-20 p-1.5 text-slate-400 hover:text-slate-600 transition rounded bg-white/90 shadow-md hover:bg-white`,title:``,onClick:i[0]||=e=>ne.value=!0},[e(L(Vn),{class:`w-4 h-4`})])):D(``,!0),R(`div`,{ref_key:`chatContainerRef`,ref:pe,class:E([`flex h-full w-full py-4 md:py-6 overflow-hidden`,[he.value?`flex-col`:`items-center justify-center`,`model-${j.value}`]])},[R(`div`,{class:E([`relative flex h-full w-full overflow-hidden`,he.value?`flex-col divide-y`:`items-center justify-center`])},[he.value?(F(),l(YL,{key:0,messages:L(s),"layout-config":L(B),onRetry:be,onCopy:()=>{},onBranchChange:()=>{}},null,8,[`messages`,`layout-config`])):D(``,!0),R(`div`,{class:E([`mx-auto w-full`,L(B).containerMaxWidth,he.value?`grid shrink-0 gap-2`:`flex flex-col items-center justify-center`])},[(F(),l(L(bi),{key:0,class:`px-4 md:px-6 mt-2`},{default:t(()=>[(F(),T(x,null,_e(me,t=>e(L(yi),{key:t,suggestion:t,onClick:()=>V({text:t,files:[]})},null,8,[`suggestion`,`onClick`])),64))]),_:1})),e(NB,{ref_key:`chatInputRef`,ref:ue,mode:j.value,"model-id":M.value,status:ee.value,"use-web-search":N.value,"use-microphone":P.value,providers:n.providers,"has-messages":he.value,"model-config":I.value,"can-abort":ee.value===`streaming`&&!!le.value,onSubmit:V,onAbort:Te,"onUpdate:mode":i[1]||=e=>j.value=e,"onUpdate:modelId":i[2]||=e=>M.value=e,"onUpdate:useWebSearch":i[3]||=e=>N.value=e,"onUpdate:useMicrophone":i[4]||=e=>P.value=e,"onUpdate:modelConfig":i[5]||=e=>I.value=e,onTagClick:xe},null,8,[`mode`,`model-id`,`status`,`use-web-search`,`use-microphone`,`providers`,`has-messages`,`model-config`,`can-abort`])],2)],2)],2),j.value===`canvas`&&ie.value?(F(),l(IB,{key:1,ref_key:`canvasPanelRef`,ref:z,show:ne.value,readonly:re.value,"code-history":L(o)?.codeHistory,"code-version":L(o)?.codeVersion,"onUpdate:show":i[6]||=e=>ne.value=e,onError:i[7]||=e=>Me(e),onErrorFix:Ne,onElementSelected:Se,onCtrlIPressed:Ce,onDiffExited:ke},null,8,[`show`,`readonly`,`code-history`,`code-version`])):D(``,!0)])])]))}}),[[`__scopeId`,`data-v-b20c94c6`]]),UB=P({name:`ChatPanelWrapper`,__name:`ChatPanelWrapper`,setup(e){let t=ae(`llmDashboardStore`);if(!t)throw Error(`llmDashboardStore must be provided`);return(e,n)=>(F(),l(HB,{providers:L(t).providers},null,8,[`providers`]))}});export{UB as default};