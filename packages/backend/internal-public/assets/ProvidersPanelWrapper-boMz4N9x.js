import{n as e,t}from"./SaveOutlined-Dxj_WRmH.js";import{t as n}from"./CodeOutlined-CLfIHCtY.js";import{n as r,t as i}from"./EditOutlined-CZHFqlPU.js";import{t as a}from"./GridViewOutlined-DuITpPMi.js";import{n as o,t as s}from"./SearchOutlined-BTXNd_tE.js";import{t as c}from"./ViewListOutlined-D9SARPsO.js";import{$t as l,An as u,Jt as d,Kt as f,Qn as p,Qt as m,Vn as h,Vt as g,Xt as _,Yn as v,Yt as y,a as b,en as x,gn as S,in as C,pn as ee,qn as w,qt as T,vn as E,w as D}from"./index-urHyhAmF.js";import{t as te}from"./useLlmApi-e_L-gZNA.js";import{t as O}from"./Popconfirm-2RVy9gVC.js";import{t as k}from"./RouterModelSelect-WstA--1e.js";import{t as A}from"./Input-DqR3mkMP.js";import"./Dropdown-ocMVVnLy.js";var j={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},M=x({name:`DragIndicatorOutlined`,render:function(e,t){return S(),_(`svg`,j,t[0]||=[T(`path`,{d:`M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z`,fill:`currentColor`},null,-1)])}}),N={xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`,viewBox:`0 0 24 24`},P=x({name:`HelpOutlineOutlined`,render:function(e,t){return S(),_(`svg`,N,t[0]||=[T(`path`,{d:`M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5c0-2.21-1.79-4-4-4z`,fill:`currentColor`},null,-1)])}}),F={class:`bg-white rounded-xl border border-slate-200 p-3 shadow-sm hover:shadow-md transition-shadow group relative`},I={key:0,class:`provider-drag-handle absolute -left-3 top-3 w-6 h-6 rounded-full bg-slate-100 text-slate-500 hover:bg-primary-50 hover:text-primary-600 flex items-center justify-center shadow-sm`,title:`拖动以排序`},L={class:`flex justify-between items-start mb-2`},R={class:`flex items-center gap-2`},z={class:`font-bold text-slate-800 text-sm`},B={class:`flex items-center gap-1.5`},V={class:`text-xs text-slate-500`},H={class:`flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity`},U=[`onClick`],W={class:`space-y-2`},G={class:`flex items-center gap-2 text-xs text-slate-500 bg-slate-50 p-1.5 rounded border border-slate-100 truncate`},K={class:`truncate`},q=[`title`,`onClick`],J=[`title`],Y={class:`mt-2 pt-2 border-t border-slate-100 flex justify-between items-center`},X={class:`text-xs text-slate-400`},Z=x({__name:`ProviderCard`,props:{provider:{},defaultVisibleModelCount:{},isExpanded:{type:Boolean},showDragHandle:{type:Boolean}},emits:[`edit`,`remove`,`toggle`,`toggleExpand`,`copyModelTag`],setup(e,{emit:t}){let n=t,{pushToast:a}=D();async function o(e,t){let r=`${e},${t}`;try{await navigator.clipboard.writeText(r),a(`已复制: ${r}`,`success`)}catch(e){a(`复制失败: ${e.message}`,`error`)}n(`copyModelTag`,e,t)}return(t,a)=>(S(),_(`div`,F,[e.showDragHandle?(S(),_(`button`,I,[l(w(M),{class:`w-4 h-4`})])):y(``,!0),T(`div`,L,[T(`div`,R,[T(`h3`,z,p(e.provider.name),1),T(`div`,B,[T(`span`,{class:v([`w-2 h-2 rounded-full`,e.provider.enabled===!1?`bg-slate-300`:`bg-green-500`])},null,2),T(`span`,V,p(e.provider.enabled===!1?`已禁用`:`运行中`),1)])]),T(`div`,H,[T(`button`,{class:`btn-icon text-slate-400 hover:text-primary-600`,title:`编辑`,onClick:a[0]||=t=>n(`edit`,e.provider)},[l(w(i),{class:`w-4 h-4`})]),l(O,{title:`删除 Provider`,description:`确定要删除该 Provider 吗？此操作不可撤销。`,type:`danger`,"confirm-text":`删除`,onConfirm:a[1]||=t=>n(`remove`,e.provider)},{reference:u(({toggle:e})=>[T(`button`,{class:`btn-icon text-slate-400 hover:text-red-600`,title:`删除`,onClick:e},[l(w(r),{class:`w-4 h-4`})],8,U)]),_:1})])]),T(`div`,W,[T(`div`,G,[l(w(b),{class:`w-3 h-3 shrink-0`}),T(`span`,K,p(e.provider.baseUrl),1)]),T(`div`,{class:v([`flex flex-wrap gap-1.5 content-start`,e.isExpanded?``:`overflow-hidden`])},[(S(!0),_(g,null,E(e.isExpanded?e.provider.models||[]:(e.provider.models||[]).slice(0,e.defaultVisibleModelCount),t=>(S(),_(`span`,{key:t,class:`text-[10px] px-2 py-0.5 bg-white border border-slate-200 rounded text-slate-600 font-mono cursor-pointer hover:bg-gray-100 hover:text-primary-700 transition-colors`,title:`点击复制: ${e.provider.name},${t}`,onClick:n=>o(e.provider.name,t)},p(t),9,q))),128)),(e.provider.models||[]).length>(e.defaultVisibleModelCount||5)?(S(),_(`span`,{key:0,class:`text-[10px] px-2 py-0.5 bg-slate-100 text-slate-500 rounded font-mono cursor-pointer hover:bg-gray-200 hover:text-slate-700 transition-colors`,title:e.isExpanded?`点击收起`:`点击展开全部 ${e.provider.models.length} 个模型`,onClick:a[2]||=e=>n(`toggleExpand`)},p(e.isExpanded?`收起`:`+${e.provider.models.length-(e.defaultVisibleModelCount||5)}`),9,J)):y(``,!0)],2)]),T(`div`,Y,[T(`span`,X,`速率限制: `+p(e.provider.limit??`无限制`),1),T(`button`,{class:v([`text-xs font-medium px-2.5 py-1 rounded-md transition-colors`,e.provider.enabled===!1?`bg-green-50 text-green-600 hover:bg-green-100`:`bg-red-50 text-red-600 hover:bg-red-100`]),onClick:a[3]||=t=>n(`toggle`,e.provider)},p(e.provider.enabled===!1?`启用`:`禁用`),3)])]))}}),Q={class:`grid grid-cols-1 gap-3`},ne=x({__name:`ProviderListLayout`,props:{providers:{},defaultVisibleModelCount:{}},emits:[`edit`,`remove`,`toggle`,`copyModelTag`],setup(e,{emit:t}){let n=t,r=h(new Set);function i(e){return r.value.has(e)}function a(e){r.value.has(e)?r.value.delete(e):r.value.add(e)}function o(e,t){n(`copyModelTag`,e,t)}return(t,r)=>(S(),_(`div`,Q,[(S(!0),_(g,null,E(e.providers,t=>(S(),d(Z,{key:t.id||t.name,provider:t,"default-visible-model-count":e.defaultVisibleModelCount,"is-expanded":i(t.id||t.name||``),"show-drag-handle":!1,onEdit:r[0]||=e=>n(`edit`,e),onRemove:r[1]||=e=>n(`remove`,e),onToggle:r[2]||=e=>n(`toggle`,e),onToggleExpand:e=>a(t.id||t.name||``),onCopyModelTag:o},null,8,[`provider`,`default-visible-model-count`,`is-expanded`,`onToggleExpand`]))),128))]))}}),re={class:`bg-white rounded-xl border border-slate-200 p-3 shadow-sm hover:shadow-md transition-shadow group relative`},ie={class:`flex justify-between items-start mb-2`},ae={class:`flex items-center gap-2`},oe={class:`font-bold text-slate-800 text-sm`},se={class:`flex items-center gap-1.5`},ce={class:`text-xs text-slate-500`},le={class:`flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity`},ue=[`onClick`],de={class:`space-y-2`},fe={class:`flex items-center gap-2 text-xs text-slate-500 bg-slate-50 p-1.5 rounded border border-slate-100 truncate`},pe={class:`truncate`},me={class:`flex gap-1.5 overflow-x-auto pb-1`},he=[`title`,`onClick`],ge={class:`mt-2 pt-2 border-t border-slate-100 flex justify-between items-center`},_e={class:`text-xs text-slate-400`},ve=x({__name:`ProviderGridCard`,props:{provider:{}},emits:[`edit`,`remove`,`toggle`,`copyModelTag`],setup(e,{emit:t}){let n=t,{pushToast:a}=D();async function o(e,t){let r=`${e},${t}`;try{await navigator.clipboard.writeText(r),a(`已复制: ${r}`,`success`)}catch(e){a(`复制失败: ${e.message}`,`error`)}n(`copyModelTag`,e,t)}return(t,a)=>(S(),_(`div`,re,[T(`div`,ie,[T(`div`,ae,[T(`h3`,oe,p(e.provider.name),1),T(`div`,se,[T(`span`,{class:v([`w-2 h-2 rounded-full`,e.provider.enabled===!1?`bg-slate-300`:`bg-green-500`])},null,2),T(`span`,ce,p(e.provider.enabled===!1?`已禁用`:`运行中`),1)])]),T(`div`,le,[T(`button`,{class:`btn-icon text-slate-400 hover:text-primary-600`,title:`编辑`,onClick:a[0]||=t=>n(`edit`,e.provider)},[l(w(i),{class:`w-4 h-4`})]),l(O,{title:`删除 Provider`,description:`确定要删除该 Provider 吗？此操作不可撤销。`,type:`danger`,"confirm-text":`删除`,onConfirm:a[1]||=t=>n(`remove`,e.provider)},{reference:u(({toggle:e})=>[T(`button`,{class:`btn-icon text-slate-400 hover:text-red-600`,title:`删除`,onClick:e},[l(w(r),{class:`w-4 h-4`})],8,ue)]),_:1})])]),T(`div`,de,[T(`div`,fe,[l(w(b),{class:`w-3 h-3 shrink-0`}),T(`span`,pe,p(e.provider.baseUrl),1)]),T(`div`,me,[(S(!0),_(g,null,E(e.provider.models||[],t=>(S(),_(`span`,{key:t,class:`text-[10px] px-2 py-0.5 bg-white border border-slate-200 rounded text-slate-600 font-mono cursor-pointer hover:bg-gray-100 hover:text-primary-700 transition-colors whitespace-nowrap shrink-0`,title:`点击复制: ${e.provider.name},${t}`,onClick:n=>o(e.provider.name,t)},p(t),9,he))),128))])]),T(`div`,ge,[T(`span`,_e,`速率限制: `+p(e.provider.limit??`无限制`),1),T(`button`,{class:v([`text-xs font-medium px-2.5 py-1 rounded-md transition-colors`,e.provider.enabled===!1?`bg-green-50 text-green-600 hover:bg-green-100`:`bg-red-50 text-red-600 hover:bg-red-100`]),onClick:a[2]||=t=>n(`toggle`,e.provider)},p(e.provider.enabled===!1?`启用`:`禁用`),3)])]))}}),ye={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},be=x({__name:`ProviderGridLayout`,props:{providers:{},defaultVisibleModelCount:{}},emits:[`edit`,`remove`,`toggle`,`copyModelTag`],setup(e,{emit:t}){let n=t;function r(e,t){n(`copyModelTag`,e,t)}return(t,i)=>(S(),_(`div`,ye,[(S(!0),_(g,null,E(e.providers,e=>(S(),d(ve,{key:e.id||e.name,provider:e,onEdit:i[0]||=e=>n(`edit`,e),onRemove:i[1]||=e=>n(`remove`,e),onToggle:i[2]||=e=>n(`toggle`,e),onCopyModelTag:r},null,8,[`provider`]))),128))]))}}),xe={class:`space-y-1`},Se={class:`flex items-center justify-between gap-3`},Ce={class:`flex items-center gap-3 flex-1 min-w-0`},we={class:`flex-1 min-w-0`},Te={class:`flex items-center gap-2`},Ee={class:`font-semibold text-slate-800 text-sm truncate`},De={class:`flex items-center gap-1.5`},Oe={class:`text-xs text-slate-500 shrink-0`},ke={class:`flex items-center gap-3 mt-1 text-xs text-slate-500`},Ae={class:`flex items-center gap-1 truncate`},je={class:`truncate font-mono`},Me={key:0,class:`shrink-0`},Ne={class:`flex items-center gap-2 shrink-0`},Pe={class:`flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity`},Fe=[`onClick`],Ie=[`onClick`],Le=[`onClick`],Re={class:`lg:hidden mt-2 pt-2 border-t border-slate-100`},ze=[`title`,`onClick`],Be=[`title`,`onClick`],Ve=x({__name:`ProviderCompactLayout`,props:{providers:{},defaultVisibleModelCount:{}},emits:[`edit`,`remove`,`toggle`,`copyModelTag`],setup(e,{emit:t}){let n=t,{pushToast:a}=D(),o=h(new Set);function s(e){return o.value.has(e)}function c(e){o.value.has(e)?o.value.delete(e):o.value.add(e)}async function d(e,t){let r=`${e},${t}`;try{await navigator.clipboard.writeText(r),a(`已复制: ${r}`,`success`)}catch(e){a(`复制失败: ${e.message}`,`error`)}n(`copyModelTag`,e,t)}return(t,a)=>(S(),_(`div`,xe,[(S(!0),_(g,null,E(e.providers,t=>(S(),_(`div`,{key:t.id||t.name,class:`bg-white rounded-lg border border-slate-200 p-3 hover:shadow-sm transition-shadow group`},[T(`div`,Se,[T(`div`,Ce,[T(`div`,we,[T(`div`,Te,[T(`h3`,Ee,p(t.name),1),T(`div`,De,[T(`span`,{class:v([`w-2 h-2 rounded-full shrink-0`,t.enabled===!1?`bg-slate-300`:`bg-green-500`])},null,2),T(`span`,Oe,p(t.enabled===!1?`已禁用`:`运行中`),1)])]),T(`div`,ke,[T(`div`,Ae,[l(w(b),{class:`w-3 h-3 shrink-0`}),T(`span`,je,p(t.baseUrl),1)]),t.limit!==0&&t.limit!==void 0?(S(),_(`span`,Me,`速率限制: `+p(t.limit??`无限制`),1)):y(``,!0)])])]),T(`div`,Ne,[T(`div`,Pe,[T(`button`,{class:`btn-icon text-slate-400 hover:text-primary-600`,title:`编辑`,onClick:e=>n(`edit`,t)},[l(w(i),{class:`w-4 h-4`})],8,Fe),l(O,{title:`删除 Provider`,description:`确定要删除该 Provider 吗？此操作不可撤销。`,type:`danger`,"confirm-text":`删除`,onConfirm:e=>n(`remove`,t)},{reference:u(({toggle:e})=>[T(`button`,{class:`btn-icon text-slate-400 hover:text-red-600`,title:`删除`,onClick:e},[l(w(r),{class:`w-4 h-4`})],8,Ie)]),_:1},8,[`onConfirm`])]),T(`button`,{class:v([`text-xs font-medium px-2.5 py-1 rounded-md transition-colors shrink-0`,t.enabled===!1?`bg-green-50 text-green-600 hover:bg-green-100`:`bg-red-50 text-red-600 hover:bg-red-100`]),onClick:e=>n(`toggle`,t)},p(t.enabled===!1?`启用`:`禁用`),11,Le)])]),T(`div`,Re,[T(`div`,{class:v([`flex flex-wrap gap-1.5 content-start`,s(t.id||t.name||``)?``:`overflow-hidden`])},[(S(!0),_(g,null,E(s(t.id||t.name||``)?t.models||[]:(t.models||[]).slice(0,e.defaultVisibleModelCount||3),e=>(S(),_(`span`,{key:e,class:`text-[10px] px-1.5 py-0.5 bg-slate-50 border border-slate-200 rounded text-slate-600 font-mono cursor-pointer hover:bg-primary-50 hover:text-primary-700 hover:border-primary-300 transition-colors`,title:`点击复制: ${t.name},${e}`,onClick:n=>d(t.name,e)},p(e),9,ze))),128)),(t.models||[]).length>(e.defaultVisibleModelCount||3)?(S(),_(`span`,{key:0,class:`text-[10px] px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded font-mono cursor-pointer hover:bg-slate-200 hover:text-slate-700 transition-colors`,title:s(t.id||t.name||``)?`点击收起`:`点击展开全部 ${t.models.length} 个模型`,onClick:e=>c(t.id||t.name||``)},p(s(t.id||t.name||``)?`收起`:`+${t.models.length-(e.defaultVisibleModelCount||3)}`),9,Be)):y(``,!0)],2)])]))),128))]))}}),He={class:`max-w-7xl mx-auto h-full overflow-hidden flex flex-col`},Ue={class:`flex justify-between items-center p-6 pb-4 border-b border-slate-200 shrink-0`},We={class:`flex items-center gap-3`},Ge={class:`flex-1 overflow-hidden flex gap-2`},Ke={class:`flex-1 overflow-hidden flex flex-col p-6`},qe={class:`flex items-center gap-3 mb-4 shrink-0`},Je={class:`flex-1 relative`},$={class:`flex items-center gap-1 bg-slate-100 rounded-lg p-1 shrink-0`},Ye={class:`flex-1 overflow-y-auto pr-2`},Xe={key:0,class:`py-16 flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/50`},Ze={class:`font-medium`},Qe={class:`ml-0 m-6 w-96 shrink-0 bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col`},$e={class:`flex-1 overflow-y-auto p-5 space-y-4`},et={key:0,class:`text-center text-slate-400 py-8`},tt={class:`flex items-center justify-between text-sm font-medium text-slate-700`},nt={class:`flex items-center gap-2`},rt={class:`group relative`},it={class:`absolute left-0 bottom-full mb-2 w-48 p-2 bg-slate-800 text-white text-xs rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10 pointer-events-none`},at=[`onClick`],ot={class:`p-5 border-t border-slate-200`},st=[`disabled`],ct=x({__name:`ProvidersPanel`,props:{providers:{}},emits:[`openJson`,`create`,`edit`,`toggle`,`remove`,`reorder`],setup(i,{emit:u}){let b=i,x=u,{fetchConfig:C,saveConfig:O}=te(),{pushToast:j}=D(),M={default:{name:`默认模型`,desc:`用于常规请求的默认路由`},background:{name:`后台任务`,desc:`用于异步或长时间运行的任务`},think:{name:`思考任务`,desc:`用于需要深度思考的复杂任务`},longContext:{name:`长上下文`,desc:`用于需要处理大量上下文的任务`},webSearch:{name:`网络搜索`,desc:`用于需要网络搜索能力的任务`},image:{name:`图像处理`,desc:`用于图像相关的任务`}},N=Object.keys(M),F=h({}),I=h(!1),L=h(!1),R=h({}),z=h(``),B=h(`list`),V=h(5),H=f(()=>{let e=[];return b.providers.forEach(t=>{t.enabled!==!1&&t.models&&t.models.forEach(n=>{e.push(`${t.name},${n}`)})}),e.sort()}),U=f(()=>{if(!z.value.trim())return b.providers;let e=z.value.toLowerCase().trim();return b.providers.filter(t=>!!(t.name.toLowerCase().includes(e)||t.baseUrl?.toLowerCase().includes(e)||t.models?.some(t=>t.toLowerCase().includes(e))))});function W(e){return F.value[e]||``}async function G(){try{I.value=!0,R.value=await C();let e=R.value.Router||{};F.value={},N.forEach(t=>{F.value[t]=e[t]||``})}catch(e){j(`加载配置失败: ${e.message}`,`error`)}finally{I.value=!1}}async function K(){try{L.value=!0;let e=await C(),t={...e.Router||{}};N.forEach(e=>{let n=F.value[e];n&&n.trim()?t[e]=n:delete t[e]});let n={...e,Router:t};await O(n),R.value=n,j(`Router 配置已保存`,`success`)}catch(e){j(`保存配置失败: ${e.message}`,`error`)}finally{L.value=!1}}function q(e,t){t&&t.trim()?F.value[e]=t:delete F.value[e]}function J(e){e!==`default`&&delete F.value[e]}function Y(e,t){}function X(e){B.value=e}return ee(()=>{G()}),(i,u)=>(S(),_(`div`,He,[T(`div`,Ue,[u[19]||=T(`div`,null,[T(`h2`,{class:`text-2xl font-bold text-slate-800`},`Providers`),T(`p`,{class:`text-slate-500 text-sm mt-1`},`管理你的 LLM 服务商配置`)],-1),T(`div`,We,[T(`button`,{class:`btn-secondary shadow-sm`,onClick:u[0]||=e=>x(`openJson`)},[l(w(n),{class:`w-4 h-4`}),u[17]||=m(` 编辑 `,-1)]),T(`button`,{class:`btn-primary shadow-lg shadow-primary-500/20`,onClick:u[1]||=e=>x(`create`)},[l(w(e),{class:`w-4 h-4`}),u[18]||=m(` 新增 Provider `,-1)])])]),T(`div`,Ge,[T(`div`,Ke,[T(`div`,qe,[T(`div`,Je,[l(w(s),{class:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none z-10`}),l(A,{modelValue:z.value,"onUpdate:modelValue":u[2]||=e=>z.value=e,type:`text`,placeholder:`搜索 Provider、模型或 URL...`,class:`w-full pl-10`},null,8,[`modelValue`])]),T(`div`,$,[T(`button`,{type:`button`,class:v([`p-1.5 rounded transition-colors`,B.value===`list`?`bg-white text-primary-600 shadow-sm`:`text-slate-600 hover:text-slate-800`]),title:`列表布局`,onClick:u[3]||=e=>X(`list`)},[l(w(o),{class:`w-4 h-4`})],2),T(`button`,{type:`button`,class:v([`p-1.5 rounded transition-colors`,B.value===`grid`?`bg-white text-primary-600 shadow-sm`:`text-slate-600 hover:text-slate-800`]),title:`网格布局`,onClick:u[4]||=e=>X(`grid`)},[l(w(a),{class:`w-4 h-4`})],2),T(`button`,{type:`button`,class:v([`p-1.5 rounded transition-colors`,B.value===`compact`?`bg-white text-primary-600 shadow-sm`:`text-slate-600 hover:text-slate-800`]),title:`紧凑布局`,onClick:u[5]||=e=>X(`compact`)},[l(w(c),{class:`w-4 h-4`})],2)])]),T(`div`,Ye,[U.value.length===0?(S(),_(`div`,Xe,[l(w(n),{class:`w-12 h-12 mb-4 text-slate-300`}),T(`p`,Ze,p(z.value?`未找到匹配的 Provider`:`暂无 Provider 配置`),1),z.value?(S(),_(`button`,{key:1,class:`mt-4 text-primary-600 hover:underline text-sm`,onClick:u[7]||=e=>z.value=``},` 清除搜索 `)):(S(),_(`button`,{key:0,class:`mt-4 text-primary-600 hover:underline text-sm`,onClick:u[6]||=e=>x(`create`)},` 点击添加第一个 `))])):B.value===`list`?(S(),d(ne,{key:1,providers:U.value,"default-visible-model-count":V.value,onEdit:u[8]||=e=>x(`edit`,e),onRemove:u[9]||=e=>x(`remove`,e),onToggle:u[10]||=e=>x(`toggle`,e),onCopyModelTag:Y},null,8,[`providers`,`default-visible-model-count`])):B.value===`grid`?(S(),d(be,{key:2,providers:U.value,"default-visible-model-count":V.value,onEdit:u[11]||=e=>x(`edit`,e),onRemove:u[12]||=e=>x(`remove`,e),onToggle:u[13]||=e=>x(`toggle`,e),onCopyModelTag:Y},null,8,[`providers`,`default-visible-model-count`])):B.value===`compact`?(S(),d(Ve,{key:3,providers:U.value,"default-visible-model-count":V.value,onEdit:u[14]||=e=>x(`edit`,e),onRemove:u[15]||=e=>x(`remove`,e),onToggle:u[16]||=e=>x(`toggle`,e),onCopyModelTag:Y},null,8,[`providers`,`default-visible-model-count`])):y(``,!0)])]),T(`div`,Qe,[u[21]||=T(`div`,{class:`p-5 border-b border-slate-200`},[T(`h3`,{class:`text-lg font-bold text-slate-800`},`Router 配置`),T(`p`,{class:`text-xs text-slate-500 mt-1`},`全局路由配置`)],-1),T(`div`,$e,[I.value?(S(),_(`div`,et,` 加载中... `)):(S(!0),_(g,{key:1},E(w(N),e=>(S(),_(`div`,{key:e,class:`space-y-2`},[T(`label`,tt,[T(`div`,nt,[T(`span`,null,p(M[e]?.name||e),1),T(`div`,rt,[l(w(P),{class:`w-4 h-4 text-slate-400 hover:text-slate-600 cursor-help`}),T(`div`,it,[m(p(M[e]?.desc||``)+` `,1),u[20]||=T(`div`,{class:`absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-800`},null,-1)])])]),W(e)&&e!==`default`?(S(),_(`button`,{key:0,type:`button`,class:`w-5 h-5 flex items-center justify-center text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors`,title:`清空并使用默认模型`,onClick:t=>J(e)},[l(w(r),{class:`w-4 h-4`})],8,at)):y(``,!0)]),l(k,{"model-value":W(e),options:H.value,placeholder:e===`default`?`-- 请选择模型 --`:`使用默认模型`,"onUpdate:modelValue":t=>q(e,t)},null,8,[`model-value`,`options`,`placeholder`,`onUpdate:modelValue`])]))),128))]),T(`div`,ot,[T(`button`,{class:`btn-primary w-full justify-center`,disabled:L.value||I.value,onClick:K},[l(w(t),{class:`w-4 h-4`}),m(` `+p(L.value?`保存中...`:`保存 Router 配置`),1)],8,st)])])])]))}}),lt=x({name:`ProvidersPanelWrapper`,__name:`ProvidersPanelWrapper`,setup(e){let t=C(`llmDashboardStore`),n=C(`llmDashboardActions`);if(!t||!n)throw Error(`llmDashboardStore and llmDashboardActions must be provided`);function r(){n.openProvidersJsonEditor()}function i(){n.openEditor()}function a(e){n.openEditor(e)}function o(e){n.handleToggleProvider(e)}function s(e){n.handleDeleteProvider(e)}function c(e){n.handleReorderProviders(e)}return(e,n)=>(S(),d(ct,{providers:w(t).providers,onOpenJson:r,onCreate:i,onEdit:a,onToggle:o,onRemove:s,onReorder:c},null,8,[`providers`]))}});export{lt as default};